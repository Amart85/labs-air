/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { LiveAppsService } from '../../services/live-apps.service';
import { CaseType, CaseTypesList } from '../../models/liveappsdata';
import { take, takeUntil } from 'rxjs/operators';
import { LiveAppsComponent } from '../live-apps-component/live-apps-component.component';
/**
 * Lists live apps applications in drop down list allowing selection of app
 *
 * ![alt-text](../live-apps-applications.png "Image")
 *
 * \@example <tcla-live-apps-applications></tcla-live-apps-applications>
 */
export class LiveAppsApplicationsComponent extends LiveAppsComponent {
    /**
     * @param {?} liveapps
     */
    constructor(liveapps) {
        super();
        this.liveapps = liveapps;
        /**
         * Application selected from dropdown (output)
         */
        this.selectedApp = this.selectedApp ? this.selectedApp : new CaseType();
        /**
         * ~event selection : Value selected in child component
         * ~payload CaseType : type varies.  but is when something is selected in a drop down it is passed back to the caller
         */
        this.selection = new EventEmitter();
        this.applications = new CaseTypesList();
        this.changeAppSelection = (/**
         * @param {?} appSelected
         * @return {?}
         */
        (appSelected) => {
            this.selectedApp = this.applications.casetypes.find((/**
             * @param {?} casetype
             * @return {?}
             */
            (casetype) => {
                return casetype.applicationId === appSelected.applicationId;
            }));
        });
        this.selectApplication = (/**
         * @param {?} selectionEvent
         * @return {?}
         */
        (selectionEvent) => {
            this.selectedApp = selectionEvent.source.value;
            this.selection.emit(selectionEvent.source.value);
        });
        this.refresh = (/**
         * @param {?} bypassCache
         * @return {?}
         */
        (bypassCache) => {
            this.liveapps.getApplications(this.sandboxId, this.appIds, 100, bypassCache)
                .pipe(take(1), takeUntil(this._destroyed$))
                .subscribe((/**
             * @param {?} applicationList
             * @return {?}
             */
            applicationList => {
                this.applications = applicationList;
                if (this.selectedApp.applicationId) {
                    this.selectedApp = applicationList.casetypes.find((/**
                     * @param {?} casetype
                     * @return {?}
                     */
                    (casetype) => {
                        return casetype.applicationId === this.selectedApp.applicationId;
                    }));
                    // this.selection.emit(this.selectedApp);
                }
                else 
                // select first as default
                if (applicationList.casetypes.length > 0 && this.selectFirstApp) {
                    this.selectedApp = applicationList.casetypes[0];
                    this.selection.emit(applicationList.casetypes[0]);
                }
            }), (/**
             * @param {?} error
             * @return {?}
             */
            error => { this.errorMessage = 'Error retrieving applications: ' + error.error.errorMsg; }));
        });
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.refresh(false);
    }
}
LiveAppsApplicationsComponent.decorators = [
    { type: Component, args: [{
                selector: 'tcla-live-apps-applications',
                template: "<div class=\"tcs-application-selector\" fxFlex style=\"margin-left: 10px;\">\n    <mat-label></mat-label>\n    <mat-select *ngIf=\"selectedApp\" class=\"tcs-application-selector-option\" [disableOptionCentering]=\"true\" placeholder=\"Application\" [(value)]=\"selectedApp\" (selectionChange)=\"selectApplication($event)\" matTooltip=\"{{selectedApp.applicationName}}\" matTooltipShowDelay=\"1000\" matTooltipPosition=\"below\">\n      <mat-option *ngFor=\"let application of applications.casetypes\" [value]=\"application\">\n        {{application.label | ellipsis : 20}}\n      </mat-option>\n    </mat-select>\n</div>\n\n\n\n<!--div *ngIf=\"errorMessage\">{{errorMessage}}</div>\n<div *ngIf=\"applications\" class=\"la-applications-div\" fxLayoutAlign=\"space-around start\">\n  <div class=\"la-applications-card\" fxLayout=\"column\">\n    <h3>Select application:</h3>\n    <div class=\"la-application-selection\">\n      <div class=\"la-available-sub\" (click)=\"selectApplication(application)\" *ngFor=\"let application of applications.casetypes\">\n        <div class=\"la-application-name\">{{application.applicationName}}</div>\n        <div fxLayout=\"column\" class=\"la-application-selection-dtl\" fxLayoutAlign=\"start start\">\n          <div>Application Id: {{application.applicationId}}</div>\n          <div>Type Id: {{application.id}}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div-->\n",
                styles: ["::ng-deep .tcs-application-selector .mat-form-field-underline{display:none}:host ::ng-deep .mat-select-value{min-width:100px;max-width:100%;width:auto}.la-applications-div{margin-top:50px}.la-applications-card{width:500px}.la-available-sub:hover{box-shadow:0 7px 14px 0 rgba(0,0,0,.3);-webkit-transition:.2s ease-in-out;transition:.2s ease-in-out;cursor:pointer}.la-available-sub{border:1px solid #dedede;border-radius:4px;box-shadow:0 1px 4px 0 rgba(0,0,0,.1);padding:20px 31px 31px;margin-top:5px;margin-bottom:5px}.la-application-name{font-size:18px;font-weight:700}:host ::ng-deep .tcs-application-selector-option .mat-select-value span{font-family:Source Sans Pro;font-size:16px;font-weight:400;font-style:normal;font-stretch:normal;line-height:1.5;letter-spacing:.3px;color:#0081cb}:host ::ng-deep .tcs-application-selector-option .mat-select-arrow-wrapper div{color:#0081cb}"]
            }] }
];
/** @nocollapse */
LiveAppsApplicationsComponent.ctorParameters = () => [
    { type: LiveAppsService }
];
LiveAppsApplicationsComponent.propDecorators = {
    sandboxId: [{ type: Input }],
    appIds: [{ type: Input }],
    selectFirstApp: [{ type: Input }],
    selectedApp: [{ type: Input }],
    selection: [{ type: Output }]
};
if (false) {
    /**
     * sandboxId - this comes from claims resolver
     * @type {?}
     */
    LiveAppsApplicationsComponent.prototype.sandboxId;
    /**
     * The list of LA Application IDs you want to handle
     * @type {?}
     */
    LiveAppsApplicationsComponent.prototype.appIds;
    /**
     * Whether to auto select the first app in dropdown selector (eg search)
     * @type {?}
     */
    LiveAppsApplicationsComponent.prototype.selectFirstApp;
    /**
     * Application selected from dropdown (output)
     * @type {?}
     */
    LiveAppsApplicationsComponent.prototype.selectedApp;
    /**
     * ~event selection : Value selected in child component
     * ~payload CaseType : type varies.  but is when something is selected in a drop down it is passed back to the caller
     * @type {?}
     */
    LiveAppsApplicationsComponent.prototype.selection;
    /** @type {?} */
    LiveAppsApplicationsComponent.prototype.applications;
    /** @type {?} */
    LiveAppsApplicationsComponent.prototype.errorMessage;
    /** @type {?} */
    LiveAppsApplicationsComponent.prototype.changeAppSelection;
    /** @type {?} */
    LiveAppsApplicationsComponent.prototype.selectApplication;
    /** @type {?} */
    LiveAppsApplicationsComponent.prototype.refresh;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsApplicationsComponent.prototype.liveapps;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1hcHBzLWFwcGxpY2F0aW9ucy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGliY28tdGNzdGsvdGMtbGl2ZWFwcHMtbGliLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvbGl2ZS1hcHBzLWFwcGxpY2F0aW9ucy9saXZlLWFwcHMtYXBwbGljYXRpb25zLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBRUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFxQixNQUFNLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDeEYsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLGtDQUFrQyxDQUFDO0FBQ2pFLE9BQU8sRUFBVyxRQUFRLEVBQUUsYUFBYSxFQUFDLE1BQU0sMkJBQTJCLENBQUM7QUFDNUUsT0FBTyxFQUFNLElBQUksRUFBRSxTQUFTLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUVwRCxPQUFPLEVBQUMsaUJBQWlCLEVBQUMsTUFBTSxzREFBc0QsQ0FBQzs7Ozs7Ozs7QUFpQnZGLE1BQU0sT0FBTyw2QkFBOEIsU0FBUSxpQkFBaUI7Ozs7SUFnQ2xFLFlBQXNCLFFBQXlCO1FBQzdDLEtBQUssRUFBRSxDQUFDO1FBRFksYUFBUSxHQUFSLFFBQVEsQ0FBaUI7Ozs7UUFidEMsZ0JBQVcsR0FBYSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLFFBQVEsRUFBRSxDQUFDOzs7OztRQU81RSxjQUFTLEdBQTJCLElBQUksWUFBWSxFQUFZLENBQUM7UUFFM0UsaUJBQVksR0FBa0IsSUFBSSxhQUFhLEVBQUUsQ0FBQztRQVFsRCx1QkFBa0I7Ozs7UUFBRyxDQUFDLFdBQXFCLEVBQUUsRUFBRTtZQUM3QyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLElBQUk7Ozs7WUFBQyxDQUFDLFFBQVEsRUFBRSxFQUFFO2dCQUMvRCxPQUFPLFFBQVEsQ0FBQyxhQUFhLEtBQUssV0FBVyxDQUFDLGFBQWEsQ0FBQztZQUM5RCxDQUFDLEVBQUMsQ0FBQztRQUNMLENBQUMsRUFBQTtRQUVELHNCQUFpQjs7OztRQUFHLENBQUMsY0FBYyxFQUFFLEVBQUU7WUFDckMsSUFBSSxDQUFDLFdBQVcsR0FBRyxjQUFjLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztZQUMvQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25ELENBQUMsRUFBQTtRQUVNLFlBQU87Ozs7UUFBRyxDQUFDLFdBQW9CLEVBQUUsRUFBRTtZQUN4QyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsQ0FBQztpQkFDekUsSUFBSSxDQUNILElBQUksQ0FBQyxDQUFDLENBQUMsRUFDUCxTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUM1QjtpQkFDQSxTQUFTOzs7O1lBQUMsZUFBZSxDQUFDLEVBQUU7Z0JBQzNCLElBQUksQ0FBQyxZQUFZLEdBQUcsZUFBZSxDQUFDO2dCQUNwQyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFO29CQUNsQyxJQUFJLENBQUMsV0FBVyxHQUFHLGVBQWUsQ0FBQyxTQUFTLENBQUMsSUFBSTs7OztvQkFBQyxDQUFDLFFBQVEsRUFBRSxFQUFFO3dCQUM3RCxPQUFPLFFBQVEsQ0FBQyxhQUFhLEtBQUssSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUM7b0JBQ25FLENBQUMsRUFBQyxDQUFDO29CQUNILHlDQUF5QztpQkFDMUM7O2dCQUNELDBCQUEwQjtnQkFDMUIsSUFBSSxlQUFlLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtvQkFDL0QsSUFBSSxDQUFDLFdBQVcsR0FBRyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNoRCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ25EO1lBQ0gsQ0FBQzs7OztZQUFFLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFlBQVksR0FBRyxpQ0FBaUMsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDO1FBQ25HLENBQUMsRUFBQTtJQWpDRCxDQUFDOzs7O0lBbUNELFFBQVE7UUFDTixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RCLENBQUM7OztZQTdFRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLDZCQUE2QjtnQkFDdkMsMDVDQUFzRDs7YUFFdkQ7Ozs7WUFuQk8sZUFBZTs7O3dCQXlCcEIsS0FBSztxQkFLTCxLQUFLOzZCQUtMLEtBQUs7MEJBS0wsS0FBSzt3QkFPTCxNQUFNOzs7Ozs7O0lBdEJQLGtEQUEyQjs7Ozs7SUFLM0IsK0NBQTBCOzs7OztJQUsxQix1REFBaUM7Ozs7O0lBS2pDLG9EQUFzRjs7Ozs7O0lBT3RGLGtEQUEyRTs7SUFFM0UscURBQWtEOztJQUVsRCxxREFBcUI7O0lBTXJCLDJEQUlDOztJQUVELDBEQUdDOztJQUVELGdEQW9CQzs7Ozs7SUFuQ1csaURBQW1DIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbmltcG9ydCB7Q29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCwgT3V0cHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7TGl2ZUFwcHNTZXJ2aWNlfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9saXZlLWFwcHMuc2VydmljZSc7XG5pbXBvcnQge0Nhc2VJbmZvLCBDYXNlVHlwZSwgQ2FzZVR5cGVzTGlzdH0gZnJvbSAnLi4vLi4vbW9kZWxzL2xpdmVhcHBzZGF0YSc7XG5pbXBvcnQge21hcCwgdGFrZSwgdGFrZVVudGlsfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtMaXZlQXBwc0NvbXBvbmVudH0gZnJvbSAnLi4vbGl2ZS1hcHBzLWNvbXBvbmVudC9saXZlLWFwcHMtY29tcG9uZW50LmNvbXBvbmVudCc7XG5cblxuLyoqXG4gKiBMaXN0cyBsaXZlIGFwcHMgYXBwbGljYXRpb25zIGluIGRyb3AgZG93biBsaXN0IGFsbG93aW5nIHNlbGVjdGlvbiBvZiBhcHBcbiAqXG4gKiAhW2FsdC10ZXh0XSguLi9saXZlLWFwcHMtYXBwbGljYXRpb25zLnBuZyBcIkltYWdlXCIpXG4gKlxuICpAZXhhbXBsZSA8dGNsYS1saXZlLWFwcHMtYXBwbGljYXRpb25zPjwvdGNsYS1saXZlLWFwcHMtYXBwbGljYXRpb25zPlxuICovXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3RjbGEtbGl2ZS1hcHBzLWFwcGxpY2F0aW9ucycsXG4gIHRlbXBsYXRlVXJsOiAnLi9saXZlLWFwcHMtYXBwbGljYXRpb25zLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbGl2ZS1hcHBzLWFwcGxpY2F0aW9ucy5jb21wb25lbnQuY3NzJ11cbn0pXG5cbmV4cG9ydCBjbGFzcyBMaXZlQXBwc0FwcGxpY2F0aW9uc0NvbXBvbmVudCBleHRlbmRzIExpdmVBcHBzQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgLyoqXG4gICAqIHNhbmRib3hJZCAtIHRoaXMgY29tZXMgZnJvbSBjbGFpbXMgcmVzb2x2ZXJcbiAgICovXG4gIEBJbnB1dCgpIHNhbmRib3hJZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBMQSBBcHBsaWNhdGlvbiBJRHMgeW91IHdhbnQgdG8gaGFuZGxlXG4gICAqL1xuICBASW5wdXQoKSBhcHBJZHM6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGF1dG8gc2VsZWN0IHRoZSBmaXJzdCBhcHAgaW4gZHJvcGRvd24gc2VsZWN0b3IgKGVnIHNlYXJjaClcbiAgICovXG4gIEBJbnB1dCgpIHNlbGVjdEZpcnN0QXBwOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBcHBsaWNhdGlvbiBzZWxlY3RlZCBmcm9tIGRyb3Bkb3duIChvdXRwdXQpXG4gICAqL1xuICBASW5wdXQoKSBzZWxlY3RlZEFwcDogQ2FzZVR5cGUgPSB0aGlzLnNlbGVjdGVkQXBwID8gdGhpcy5zZWxlY3RlZEFwcCA6IG5ldyBDYXNlVHlwZSgpO1xuXG5cbiAgLyoqXG4gICAqIH5ldmVudCBzZWxlY3Rpb24gOiBWYWx1ZSBzZWxlY3RlZCBpbiBjaGlsZCBjb21wb25lbnRcbiAgICogfnBheWxvYWQgQ2FzZVR5cGUgOiB0eXBlIHZhcmllcy4gIGJ1dCBpcyB3aGVuIHNvbWV0aGluZyBpcyBzZWxlY3RlZCBpbiBhIGRyb3AgZG93biBpdCBpcyBwYXNzZWQgYmFjayB0byB0aGUgY2FsbGVyXG4gICAqL1xuICBAT3V0cHV0KCkgc2VsZWN0aW9uOiBFdmVudEVtaXR0ZXI8Q2FzZVR5cGU+ID0gbmV3IEV2ZW50RW1pdHRlcjxDYXNlVHlwZT4oKTtcblxuICBhcHBsaWNhdGlvbnM6IENhc2VUeXBlc0xpc3QgPSBuZXcgQ2FzZVR5cGVzTGlzdCgpO1xuICAvLyBzZWxlY3RlZEFwcDogQ2FzZVR5cGUgPSBuZXcgQ2FzZVR5cGUoKTtcbiAgZXJyb3JNZXNzYWdlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGxpdmVhcHBzOiBMaXZlQXBwc1NlcnZpY2UpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgY2hhbmdlQXBwU2VsZWN0aW9uID0gKGFwcFNlbGVjdGVkOiBDYXNlVHlwZSkgPT4ge1xuICAgIHRoaXMuc2VsZWN0ZWRBcHAgPSB0aGlzLmFwcGxpY2F0aW9ucy5jYXNldHlwZXMuZmluZCgoY2FzZXR5cGUpID0+IHtcbiAgICAgIHJldHVybiBjYXNldHlwZS5hcHBsaWNhdGlvbklkID09PSBhcHBTZWxlY3RlZC5hcHBsaWNhdGlvbklkO1xuICAgIH0pO1xuICB9XG5cbiAgc2VsZWN0QXBwbGljYXRpb24gPSAoc2VsZWN0aW9uRXZlbnQpID0+IHtcbiAgICB0aGlzLnNlbGVjdGVkQXBwID0gc2VsZWN0aW9uRXZlbnQuc291cmNlLnZhbHVlO1xuICAgIHRoaXMuc2VsZWN0aW9uLmVtaXQoc2VsZWN0aW9uRXZlbnQuc291cmNlLnZhbHVlKTtcbiAgfVxuXG4gIHB1YmxpYyByZWZyZXNoID0gKGJ5cGFzc0NhY2hlOiBib29sZWFuKSA9PiB7XG4gICAgdGhpcy5saXZlYXBwcy5nZXRBcHBsaWNhdGlvbnModGhpcy5zYW5kYm94SWQsIHRoaXMuYXBwSWRzLCAxMDAsIGJ5cGFzc0NhY2hlKVxuICAgICAgLnBpcGUoXG4gICAgICAgIHRha2UoMSksXG4gICAgICAgIHRha2VVbnRpbCh0aGlzLl9kZXN0cm95ZWQkKVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZShhcHBsaWNhdGlvbkxpc3QgPT4ge1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9ucyA9IGFwcGxpY2F0aW9uTGlzdDtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBcHAuYXBwbGljYXRpb25JZCkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBcHAgPSBhcHBsaWNhdGlvbkxpc3QuY2FzZXR5cGVzLmZpbmQoKGNhc2V0eXBlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FzZXR5cGUuYXBwbGljYXRpb25JZCA9PT0gdGhpcy5zZWxlY3RlZEFwcC5hcHBsaWNhdGlvbklkO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIHRoaXMuc2VsZWN0aW9uLmVtaXQodGhpcy5zZWxlY3RlZEFwcCk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAvLyBzZWxlY3QgZmlyc3QgYXMgZGVmYXVsdFxuICAgICAgICBpZiAoYXBwbGljYXRpb25MaXN0LmNhc2V0eXBlcy5sZW5ndGggPiAwICYmIHRoaXMuc2VsZWN0Rmlyc3RBcHApIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQXBwID0gYXBwbGljYXRpb25MaXN0LmNhc2V0eXBlc1swXTtcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5lbWl0KGFwcGxpY2F0aW9uTGlzdC5jYXNldHlwZXNbMF0pO1xuICAgICAgICB9XG4gICAgICB9LCBlcnJvciA9PiB7IHRoaXMuZXJyb3JNZXNzYWdlID0gJ0Vycm9yIHJldHJpZXZpbmcgYXBwbGljYXRpb25zOiAnICsgZXJyb3IuZXJyb3IuZXJyb3JNc2c7IH0pO1xuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5yZWZyZXNoKGZhbHNlKTtcbiAgfVxuXG59XG4iXX0=