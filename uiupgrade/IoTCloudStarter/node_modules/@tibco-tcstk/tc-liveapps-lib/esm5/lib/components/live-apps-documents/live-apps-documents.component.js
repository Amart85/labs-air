/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, EventEmitter, Inject, Input, Output } from '@angular/core';
import { LiveAppsService } from '../../services/live-apps.service';
import { take, takeUntil } from 'rxjs/operators';
import { DocumentAction } from '../../models/tc-document';
import { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material';
import { LiveAppsComponent } from '../live-apps-component/live-apps-component.component';
import { TcDocumentService } from '../../services/tc-document.service';
import { HttpEventType } from '@angular/common/http';
/**
 * Document List and upload Component
 *
 * This Component allows to list, upload, download, Documents attached to a Case-Instance or a whole Application.
 * In the Upload Dialog the User is able to select a local File and enter a short Description.
 *
 * The Component stores also the following Data
 * - uploading User
 * - Timestamp
 * - File Size
 *
 * Document List<br>
 * ![alt-text](../live-apps-documents.png "Documents Component Image")
 * Document Upload Dialog <br>
 * ![alt-text](../Docs-Upload.png "Documents Component Image")
 *
 * \@example <tcla-live-apps-documents></tcla-live-apps-documents>
 */
var LiveAppsDocumentsComponent = /** @class */ (function (_super) {
    tslib_1.__extends(LiveAppsDocumentsComponent, _super);
    function LiveAppsDocumentsComponent(liveapps, documentsService, dialog) {
        var _this = _super.call(this) || this;
        _this.liveapps = liveapps;
        _this.documentsService = documentsService;
        _this.dialog = dialog;
        /**
         * Whether to show the header bar in the widget - eg. favorites on home page (contains icon etc) - if off icons still appear without bar
         */
        _this.showHeader = _this.showHeader ? _this.showHeader : true;
        /**
         * Custom Document Action Event: fired when a custom action is clicked for a document (outputs the action name and a document (DocumentAction))
         */
        _this.customActionClicked = new EventEmitter();
        _this.fileToUpload = undefined;
        _this.refresh = (/**
         * @return {?}
         */
        function () {
            _this.listDocuments();
        });
        _this.customActionClick = (/**
         * @param {?} action
         * @param {?} document
         * @return {?}
         */
        function (action, document) {
            _this.customActionClicked.emit(new DocumentAction().deserialize({
                action: action,
                document: document
            }));
        });
        _this.listDocuments = (/**
         * @return {?}
         */
        function () {
            _this.documentsService.listDocuments(_this.folderType, _this.folderId, _this.sandboxId, _this.filter)
                .pipe(take(1), takeUntil(_this._destroyed$))
                .subscribe((/**
             * @param {?} documentslist
             * @return {?}
             */
            function (documentslist) {
                _this.documents = documentslist.documents;
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) { _this.errorMessage = 'Error retrieving case states: ' + error.error.errorMsg; }));
        });
        _this.uploadDocument = (/**
         * @param {?} doc
         * @return {?}
         */
        function (doc) {
        });
        _this.removeDocument = (/**
         * @param {?} doc
         * @return {?}
         */
        function (doc) {
            _this.documentsService.deleteDocument(_this.folderType, _this.folderId, doc.name, _this.sandboxId)
                .pipe(take(1), takeUntil(_this._destroyed$))
                .subscribe((/**
             * @param {?} val
             * @return {?}
             */
            function (val) {
                console.log(val);
                _this.refresh();
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) { _this.errorMessage = 'Error removing document: ' + error.errorMsg; }));
        });
        _this.viewDocument = (/**
         * @param {?} doc
         * @return {?}
         */
        function (doc) {
            /** @type {?} */
            var viewDocDialogRef = _this.dialog.open(LiveAppsDocumentViewerDialogComponent, {
                width: '75%',
                height: '75%',
                data: {
                    doc: doc,
                    folderType: _this.folderType,
                    folderId: _this.folderId,
                    sandboxId: _this.sandboxId
                }
            });
            viewDocDialogRef.afterClosed().subscribe((/**
             * @param {?} result
             * @return {?}
             */
            function (result) {
            }));
        });
        _this.downloadDocument = (/**
         * @param {?} doc
         * @return {?}
         */
        function (doc) {
            _this.documentsService.downloadDocument(_this.folderType, _this.folderId, doc.name, doc.artifactVersion, _this.sandboxId)
                .pipe(take(1), takeUntil(_this._destroyed$))
                .subscribe((/**
             * @param {?} data
             * @return {?}
             */
            function (data) {
                // todo: check if this works on all browsers
                /** @type {?} */
                var downloadURL = window.URL.createObjectURL(data);
                /** @type {?} */
                var link = document.createElement('a');
                link.href = downloadURL;
                link.download = doc.name;
                link.click();
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) { _this.errorMessage = 'Error downloading document: ' + error.errorMsg; }));
        });
        return _this;
    }
    /**
     * @param {?} files
     * @return {?}
     */
    LiveAppsDocumentsComponent.prototype.attachFile = /**
     * @param {?} files
     * @return {?}
     */
    function (files) {
        this.uploadMessage = '';
        this.fileToUpload = files.item(0);
    };
    /**
     * @param {?} description
     * @return {?}
     */
    LiveAppsDocumentsComponent.prototype.setFileDescription = /**
     * @param {?} description
     * @return {?}
     */
    function (description) {
        this.fileDescription = description;
    };
    /**
     * @param {?} fileToUpload
     * @param {?} description
     * @return {?}
     */
    LiveAppsDocumentsComponent.prototype.uploadFile = /**
     * @param {?} fileToUpload
     * @param {?} description
     * @return {?}
     */
    function (fileToUpload, description) {
        var _this = this;
        this.fileToUpload = fileToUpload;
        this.uploadMessage = 'Uploading: ' + fileToUpload.name;
        this.fileDescription = description;
        this.uploadProgress = 0;
        if (this.fileToUpload) {
            this.documentsService.uploadDocument(this.folderType, this.folderId, this.sandboxId, this.fileToUpload, this.fileToUpload.name, this.fileDescription)
                .subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                if (response.type === HttpEventType.UploadProgress) {
                    _this.uploadProgress = Math.round(100 * response.loaded / response.total);
                    if (_this.uploadProgress === 100) {
                        _this.fileToUpload = undefined;
                        _this.uploadMessage = 'Uploaded: ' + fileToUpload.name;
                        // api seems not to show new documents straight away sometimes - so this minimizes the chances of that if file > 1mb
                        if (fileToUpload.size > 1000000) {
                            setTimeout((/**
                             * @return {?}
                             */
                            function () { _this.refresh(); }), 2000);
                        }
                        else {
                            _this.refresh();
                        }
                        setTimeout((/**
                         * @return {?}
                         */
                        function () { _this.uploadMessage = ''; _this.uploadProgress = undefined; }), 5000);
                    }
                }
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) { console.log('error'); _this.errorMessage = 'Error uploading document: ' + error.errorMsg; }));
        }
    };
    /**
     * @return {?}
     */
    LiveAppsDocumentsComponent.prototype.openDialog = /**
     * @return {?}
     */
    function () {
        var _this = this;
        // only allow if upload not in progress
        if (!this.uploadProgress || this.uploadProgress === 100) {
            /** @type {?} */
            var dialogRef = this.dialog.open(LiveAppsDocumentUploadDialogComponent, {
                width: '500px',
                data: {}
            });
            dialogRef.componentInstance.fileevent.subscribe((/**
             * @param {?} $e
             * @return {?}
             */
            function ($e) {
                _this.uploadFile($e.file, $e.description);
            }));
            dialogRef.afterClosed().subscribe((/**
             * @param {?} result
             * @return {?}
             */
            function (result) {
            }));
        }
    };
    /**
     * @return {?}
     */
    LiveAppsDocumentsComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.refresh();
    };
    LiveAppsDocumentsComponent.decorators = [
        { type: Component, args: [{
                    selector: 'tcla-live-apps-documents',
                    template: "<div class=\"tcs-documents-pane\" fxFill fxLayout=\"column\">\n  <div *ngIf=\"showHeader\" class=\"tcs-documents-header\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n    <div fxLayoutAlign=\"start center\">\n      <mat-icon class=\"tcs-icon tcs-icon-active tcs-collaboration-feed\" svgIcon=\"tcs-document-library\"></mat-icon>\n      <div class=\"tcs-documents-header-text\">{{folderDescription ? folderDescription : 'Documents'}}</div>\n    </div>\n    <mat-icon (click)=\"openDialog()\" [ngClass]=\"{'tcs-icon-disabled' : uploadProgress < 100}\" class=\"tcs-icon tcs-icon-active tcs-document-edit-buttons tcs-document-upload-icon\" [matTooltip]=\"(uploadProgress && uploadProgress !== 100) ? 'Please wait for existing document to upload' : 'Upload Document'\" matTooltipPosition=\"left\" matTooltipShowDelay=\"1000\" svgIcon=\"tcs-document-upload\"></mat-icon>\n  </div>\n  <div *ngIf=\"!showHeader\" fxLayout=\"row\" fxLayoutAlign=\"end center\">\n    <mat-icon style=\"margin: 5px\" [ngClass]=\"{'tcs-icon-disabled' : uploadProgress < 100}\" (click)=\"openDialog()\" class=\"tcs-icon tcs-icon-active tcs-document-edit-buttons tcs-document-upload-icon\" [matTooltip]=\"(uploadProgress && uploadProgress !== 100) ? 'Please wait for existing document to upload' : 'Upload Document'\" matTooltipPosition=\"left\" matTooltipShowDelay=\"1000\" svgIcon=\"tcs-document-upload\"></mat-icon>\n  </div>\n  <div fxLayout=\"column\" style=\"overflow: auto\">\n    <div *ngIf=\"uploadProgress\">\n      <div>{{uploadMessage}}</div>\n      <mat-progress-bar\n        mode=\"determinate\"\n        [value]=\"uploadProgress\"\n      >\n      </mat-progress-bar>\n    </div>\n    <div class=\"tcs-document-list\" fxLayout=\"column\">\n      <div *ngIf=\"documents && documents.length > 0\">\n        <div class=\"tcs-document-detail-box tcs-document\" *ngFor=\"let document of documents | orderByDate: 'lastModifiedDate'\" fxLayout=\"column\">\n          <div class=\"tcs-document-box\" fxLayoutAlign=\"space-between center\" fxLayout=\"row\" fxFlex>\n            <div fxLayoutAlign=\"start center\">\n              <mat-icon class=\"tcs-icon tcs-icon-active tcs-document-type-icon\" svgIcon=\"tcs-document-{{document.fileIcon}}\"></mat-icon>\n            </div>\n            <div class=\"tcs-document-details-text-box\" fxLayout=\"column\" fxLayoutAlign=\"center start\" fxFlex>\n                <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxFill>\n                  <div class=\"tcs-document-name-text\" matTooltip=\"{{document.name}}\" matTooltipShowDelay=\"1000\" matTooltipPosition=\"below\">{{document.name | ellipsis: 30}}</div>\n                  <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxFlex>\n                    <div class=\"tcs-document-filesize-text\">&nbsp;({{document.fileSize}})</div>\n                  </div>\n                </div>\n                <div class=\"tcs-document-comment-text\" matTooltip=\"{{document.description}}\" matTooltipShowDelay=\"1000\" matTooltipPosition=\"below\">{{document.description | ellipsis: 50}}</div>\n              <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n                <div class=\"tcs-document-modified-text\">{{document.lastModifiedDate | durationSince}}</div>\n                <div *ngIf=\"document.lastModifiedByDetails\" class=\"tcs-document-modified-text\" matTooltip=\"{{document.lastModifiedByDetails.username}}\" matTooltipShowDelay=\"1000\" matTooltipPosition=\"below\">&nbsp;by {{document.lastModifiedByDetails.username | ellipsis: 40}}</div>\n              </div>\n            </div>\n\n            <div fxLayoutAlign=\"end center\">\n              <mat-icon [matMenuTriggerFor]=\"docActionMenu\" class=\"tcs-icon tcs-icon-active tcs-document-action-icon\" svgIcon=\"tcs-document-action\"></mat-icon>\n              <mat-menu #docActionMenu=\"matMenu\" class=\"tcs-icon tcs-icon-active tcs-document-action-icon\">\n                <button class=\"tcs-document-action-text\" mat-menu-item (click)=\"viewDocument(document)\">View</button>\n                <button class=\"tcs-document-action-text\" mat-menu-item (click)=\"downloadDocument(document)\">Download</button>\n                <button class=\"tcs-document-action-text\" mat-menu-item (click)=\"removeDocument(document)\">Delete</button>\n                <button *ngFor=\"let customAction of customActions\" class=\"tcs-document-action-text\" mat-menu-item (click)=\"customActionClick(customAction, document)\">{{customAction}}</button>\n              </mat-menu>\n\n\n            </div>\n          </div>\n          <div class=\"tcs-document-line\"></div>\n        </div>\n      </div>\n      <div *ngIf=\"!(documents?.length > 0)\" fxLayout=\"row\" fxLayoutAlign=\"center start\" fxLayoutGap=\"10px\" style=\"margin-top: 20px;\">\n        <mat-icon [svgIcon]=\"'ic-no-docs-icon'\" style=\"height: 48px; width: 48px;\"></mat-icon>\n        <div style=\"height: 100%\" fxLayoutAlign=\"start center\">\n          <span class=\"tcs-no-item-text\">No documents found</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n",
                    styles: [".tcs-hidden-input{display:none}.tcs-small-pane{width:400px;max-width:400px;height:386px;max-height:400px;border-radius:3px;box-shadow:0 2px 4px 0 rgba(0,0,0,.33);background-color:#fff;margin:0;padding:0}.tcs-documents-pane{border-radius:3px;box-shadow:0 2px 4px 0 rgba(0,0,0,.33);background-color:#fff}.tcs-documents-header{min-height:40px;height:40px;border-radius:3px 3px 0 0;box-shadow:0 1px 2px 0 #dedede;padding-left:20px;padding-right:20px}.tcs-documents-header-text{margin-left:10px;font-family:Source Sans Pro;font-size:18px;font-weight:600;font-style:normal;font-stretch:normal;line-height:1.5;letter-spacing:.3px}.tcs-document-name-text{font-family:Source Sans Pro;font-size:16px;font-weight:600;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#0081cb}.tcs-document-comment-text{font-family:Source Sans Pro;font-size:12px;font-weight:400;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#727272}.tcs-document-filesize-text,.tcs-document-modified-text{font-family:Source Sans Pro;font-size:10px;font-weight:600;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:-.1px;color:#b6b6b6}.tcs-document-details-text-box{padding:2px 10px}:host ::ng-deep .tcs-icon-disabled.tcs-icon.tcs-document-edit-buttons path.svg-content{fill:#b6b6b6}:host ::ng-deep .tcs-icon-disabled.tcs-icon.tcs-document-edit-buttons:hover path.svg-content{fill:#b6b6b6;cursor:not-allowed}:host ::ng-deep .tcs-icon.tcs-document-edit-buttons:hover path.svg-content{fill:#0081cb;cursor:pointer}:host ::ng-deep .tcs-icon.tcs-document-edit-icon:hover path.svg-content{fill:#0081cb;cursor:pointer}.tcs-document-detail-box{min-height:85px;flex-shrink:0;padding-left:20px;padding-right:20px}.tcs-document-detail-box:hover{background-color:#eef0f7;-webkit-transition:background-color .5s;transition:background-color .5s}.tcs-document-line{padding:0;margin:0 20px;border-bottom:1.1px solid #f4f4f4}.tcs-document-list{overflow-y:auto}.tcs-no-item-text{font-family:Source Sans Pro;font-size:16px;font-weight:400;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#b6b6b6}"]
                }] }
    ];
    /** @nocollapse */
    LiveAppsDocumentsComponent.ctorParameters = function () { return [
        { type: LiveAppsService },
        { type: TcDocumentService },
        { type: MatDialog }
    ]; };
    LiveAppsDocumentsComponent.propDecorators = {
        sandboxId: [{ type: Input }],
        folderType: [{ type: Input }],
        folderId: [{ type: Input }],
        filter: [{ type: Input }],
        folderDescription: [{ type: Input }],
        showHeader: [{ type: Input }],
        customActions: [{ type: Input }],
        customActionClicked: [{ type: Output }]
    };
    return LiveAppsDocumentsComponent;
}(LiveAppsComponent));
export { LiveAppsDocumentsComponent };
if (false) {
    /**
     * sandboxId - this comes from claims resolver
     * @type {?}
     */
    LiveAppsDocumentsComponent.prototype.sandboxId;
    /**
     * orgFolders' or 'caseFolders' - different API calls made according to which one this is
     * @type {?}
     */
    LiveAppsDocumentsComponent.prototype.folderType;
    /**
     * The organisation folder to store/retrieve documents
     * @type {?}
     */
    LiveAppsDocumentsComponent.prototype.folderId;
    /**
     * NOT used but would allow a search filter on documents
     * @type {?}
     */
    LiveAppsDocumentsComponent.prototype.filter;
    /**
     * header text on component (defaults to documents)
     * @type {?}
     */
    LiveAppsDocumentsComponent.prototype.folderDescription;
    /**
     * Whether to show the header bar in the widget - eg. favorites on home page (contains icon etc) - if off icons still appear without bar
     * @type {?}
     */
    LiveAppsDocumentsComponent.prototype.showHeader;
    /**
     * Custom Document Buttons (array of text)
     * @type {?}
     */
    LiveAppsDocumentsComponent.prototype.customActions;
    /**
     * Custom Document Action Event: fired when a custom action is clicked for a document (outputs the action name and a document (DocumentAction))
     * @type {?}
     */
    LiveAppsDocumentsComponent.prototype.customActionClicked;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.errorMessage;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.documents;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.fileToUpload;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.fileDescription;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.uploadMessage;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.uploadProgress;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.refresh;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.customActionClick;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.listDocuments;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.uploadDocument;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.removeDocument;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.viewDocument;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.downloadDocument;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsDocumentsComponent.prototype.liveapps;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsDocumentsComponent.prototype.documentsService;
    /** @type {?} */
    LiveAppsDocumentsComponent.prototype.dialog;
}
var LiveAppsDocumentUploadDialogComponent = /** @class */ (function () {
    function LiveAppsDocumentUploadDialogComponent(dialogRef) {
        var _this = this;
        this.dialogRef = dialogRef;
        this.fileevent = new EventEmitter();
        this.fileToUpload = undefined;
        this.description = undefined;
        this.uploadFile = (/**
         * @return {?}
         */
        function () {
            if (_this.fileToUpload) {
                _this.fileevent.emit({ file: _this.fileToUpload, description: _this.description });
                _this.dialogRef.close();
            }
        });
    }
    /**
     * @param {?} description
     * @return {?}
     */
    LiveAppsDocumentUploadDialogComponent.prototype.setFileDescription = /**
     * @param {?} description
     * @return {?}
     */
    function (description) {
        this.description = description;
    };
    /**
     * @param {?} files
     * @return {?}
     */
    LiveAppsDocumentUploadDialogComponent.prototype.attachFile = /**
     * @param {?} files
     * @return {?}
     */
    function (files) {
        // this.uploadMessage = '';
        this.fileToUpload = files.item(0);
    };
    /**
     * @return {?}
     */
    LiveAppsDocumentUploadDialogComponent.prototype.onNoClick = /**
     * @return {?}
     */
    function () {
        this.dialogRef.close();
    };
    LiveAppsDocumentUploadDialogComponent.decorators = [
        { type: Component, args: [{
                    selector: 'tcla-live-apps-document-upload-dialog',
                    template: "<h1 mat-dialog-title>Upload New File</h1>\n<div mat-dialog-content>\n  <form #fileUploadForm=\"ngForm\" fxFlex fxLayout=\"column\">\n    <div fxLayout=\"row\">\n      <button type=\"button\" mat-raised-button (click)=\"fileInput.click()\">Choose File To Upload</button>\n      <div *ngIf=\"fileToUpload\">{{fileToUpload.name}}</div>\n      <!-- below input is hidden and enabled by above button -->\n      <input class=\"tcs-hidden-input\" (change)=\"attachFile($event.target.files)\" #fileInput type=\"file\" id=\"file\">\n    </div>\n    <mat-form-field fxFlex>\n      <input matInput name=\"description\" type=\"text\" placeholder=\"Comments\" [(ngModel)]=\"description\"/>\n    </mat-form-field>\n\n  </form>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"uploadFile()\" type=\"submit\" [disabled]=\"!fileToUpload\">Upload</button>\n  <button mat-button (click)=\"onNoClick()\">Cancel</button>\n</div>\n",
                    styles: [".tcs-hidden-input{display:none}"]
                }] }
    ];
    /** @nocollapse */
    LiveAppsDocumentUploadDialogComponent.ctorParameters = function () { return [
        { type: MatDialogRef }
    ]; };
    LiveAppsDocumentUploadDialogComponent.propDecorators = {
        fileevent: [{ type: Output }]
    };
    return LiveAppsDocumentUploadDialogComponent;
}());
export { LiveAppsDocumentUploadDialogComponent };
if (false) {
    /** @type {?} */
    LiveAppsDocumentUploadDialogComponent.prototype.fileevent;
    /** @type {?} */
    LiveAppsDocumentUploadDialogComponent.prototype.fileToUpload;
    /** @type {?} */
    LiveAppsDocumentUploadDialogComponent.prototype.description;
    /** @type {?} */
    LiveAppsDocumentUploadDialogComponent.prototype.uploadFile;
    /** @type {?} */
    LiveAppsDocumentUploadDialogComponent.prototype.dialogRef;
}
var LiveAppsDocumentViewerDialogComponent = /** @class */ (function () {
    function LiveAppsDocumentViewerDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.doc = this.data.doc;
        this.folderType = this.data.folderType;
        this.folderId = this.data.folderId;
        this.sandboxId = this.data.sandboxId;
    }
    /**
     * @return {?}
     */
    LiveAppsDocumentViewerDialogComponent.prototype.onNoClick = /**
     * @return {?}
     */
    function () {
        this.dialogRef.close();
    };
    LiveAppsDocumentViewerDialogComponent.decorators = [
        { type: Component, args: [{
                    selector: 'tcla-live-apps-document-viewer-dialog',
                    template: "<div fxFill fxLayout=\"column\">\n<h1 mat-dialog-title>View Document</h1>\n<div mat-dialog-content fxFlex=\"grow\" style=\"overflow: hidden\">\n  <tcla-live-apps-document-viewer [document]=\"doc\" [folderId]=\"folderId\" [folderType]=\"folderType\" [sandboxId]=\"sandboxId\"></tcla-live-apps-document-viewer>\n</div>\n<div mat-dialog-actions>\n  <button mat-button (click)=\"onNoClick()\">Close</button>\n</div>\n</div>\n",
                    styles: [".tcs-hidden-input{display:none}"]
                }] }
    ];
    /** @nocollapse */
    LiveAppsDocumentViewerDialogComponent.ctorParameters = function () { return [
        { type: MatDialogRef },
        { type: undefined, decorators: [{ type: Inject, args: [MAT_DIALOG_DATA,] }] }
    ]; };
    return LiveAppsDocumentViewerDialogComponent;
}());
export { LiveAppsDocumentViewerDialogComponent };
if (false) {
    /** @type {?} */
    LiveAppsDocumentViewerDialogComponent.prototype.doc;
    /** @type {?} */
    LiveAppsDocumentViewerDialogComponent.prototype.folderType;
    /** @type {?} */
    LiveAppsDocumentViewerDialogComponent.prototype.folderId;
    /** @type {?} */
    LiveAppsDocumentViewerDialogComponent.prototype.sandboxId;
    /** @type {?} */
    LiveAppsDocumentViewerDialogComponent.prototype.dialogRef;
    /** @type {?} */
    LiveAppsDocumentViewerDialogComponent.prototype.data;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1hcHBzLWRvY3VtZW50cy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGliY28tdGNzdGsvdGMtbGl2ZWFwcHMtbGliLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvbGl2ZS1hcHBzLWRvY3VtZW50cy9saXZlLWFwcHMtZG9jdW1lbnRzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQXFCLE1BQU0sRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUVoRyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sa0NBQWtDLENBQUM7QUFDakUsT0FBTyxFQUFNLElBQUksRUFBRSxTQUFTLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUNwRCxPQUFPLEVBQXlCLGNBQWMsRUFBQyxNQUFNLDBCQUEwQixDQUFDO0FBQ2hGLE9BQU8sRUFBQyxlQUFlLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBQyxNQUFNLG1CQUFtQixDQUFDO0FBQzNFLE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLHNEQUFzRCxDQUFDO0FBQ3ZGLE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLG9DQUFvQyxDQUFDO0FBQ3JFLE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSxzQkFBc0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNCbkQ7SUFLZ0Qsc0RBQWlCO0lBRS9ELG9DQUFzQixRQUF5QixFQUFZLGdCQUFtQyxFQUFTLE1BQWlCO1FBQXhILFlBQ0UsaUJBQU8sU0FDUjtRQUZxQixjQUFRLEdBQVIsUUFBUSxDQUFpQjtRQUFZLHNCQUFnQixHQUFoQixnQkFBZ0IsQ0FBbUI7UUFBUyxZQUFNLEdBQU4sTUFBTSxDQUFXOzs7O1FBK0IvRyxnQkFBVSxHQUFZLEtBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEtBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElB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QXFFOztJQUNyRSxxREFBeUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbmplY3QsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCwgT3V0cHV0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0xpdmVBcHBzU2VydmljZX0gZnJvbSAnLi4vLi4vc2VydmljZXMvbGl2ZS1hcHBzLnNlcnZpY2UnO1xuaW1wb3J0IHttYXAsIHRha2UsIHRha2VVbnRpbH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHtEb2N1bWVudExpc3QsIERvY3VtZW50LCBEb2N1bWVudEFjdGlvbn0gZnJvbSAnLi4vLi4vbW9kZWxzL3RjLWRvY3VtZW50JztcbmltcG9ydCB7TUFUX0RJQUxPR19EQVRBLCBNYXREaWFsb2csIE1hdERpYWxvZ1JlZn0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IHtMaXZlQXBwc0NvbXBvbmVudH0gZnJvbSAnLi4vbGl2ZS1hcHBzLWNvbXBvbmVudC9saXZlLWFwcHMtY29tcG9uZW50LmNvbXBvbmVudCc7XG5pbXBvcnQge1RjRG9jdW1lbnRTZXJ2aWNlfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy90Yy1kb2N1bWVudC5zZXJ2aWNlJztcbmltcG9ydCB7SHR0cEV2ZW50VHlwZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5cbi8qKlxuICogRG9jdW1lbnQgTGlzdCBhbmQgdXBsb2FkIENvbXBvbmVudFxuICpcbiAqIFRoaXMgQ29tcG9uZW50IGFsbG93cyB0byBsaXN0LCB1cGxvYWQsIGRvd25sb2FkLCBEb2N1bWVudHMgYXR0YWNoZWQgdG8gYSBDYXNlLUluc3RhbmNlIG9yIGEgd2hvbGUgQXBwbGljYXRpb24uXG4gKiBJbiB0aGUgVXBsb2FkIERpYWxvZyB0aGUgVXNlciBpcyBhYmxlIHRvIHNlbGVjdCBhIGxvY2FsIEZpbGUgYW5kIGVudGVyIGEgc2hvcnQgRGVzY3JpcHRpb24uXG4gKlxuICogVGhlIENvbXBvbmVudCBzdG9yZXMgYWxzbyB0aGUgZm9sbG93aW5nIERhdGFcbiAqIC0gdXBsb2FkaW5nIFVzZXJcbiAqIC0gVGltZXN0YW1wXG4gKiAtIEZpbGUgU2l6ZVxuICpcbiAqIERvY3VtZW50IExpc3Q8YnI+XG4gKiAhW2FsdC10ZXh0XSguLi9saXZlLWFwcHMtZG9jdW1lbnRzLnBuZyBcIkRvY3VtZW50cyBDb21wb25lbnQgSW1hZ2VcIilcbiAqIERvY3VtZW50IFVwbG9hZCBEaWFsb2cgPGJyPlxuICogIVthbHQtdGV4dF0oLi4vRG9jcy1VcGxvYWQucG5nIFwiRG9jdW1lbnRzIENvbXBvbmVudCBJbWFnZVwiKVxuICpcbiAqQGV4YW1wbGUgPHRjbGEtbGl2ZS1hcHBzLWRvY3VtZW50cz48L3RjbGEtbGl2ZS1hcHBzLWRvY3VtZW50cz5cbiAqL1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd0Y2xhLWxpdmUtYXBwcy1kb2N1bWVudHMnLFxuICB0ZW1wbGF0ZVVybDogJy4vbGl2ZS1hcHBzLWRvY3VtZW50cy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2xpdmUtYXBwcy1kb2N1bWVudHMuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIExpdmVBcHBzRG9jdW1lbnRzQ29tcG9uZW50IGV4dGVuZHMgTGl2ZUFwcHNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBsaXZlYXBwczogTGl2ZUFwcHNTZXJ2aWNlLCBwcm90ZWN0ZWQgZG9jdW1lbnRzU2VydmljZTogVGNEb2N1bWVudFNlcnZpY2UsIHB1YmxpYyBkaWFsb2c6IE1hdERpYWxvZykge1xuICAgIHN1cGVyKCk7XG4gIH1cbiAgLyoqXG4gICAqIHNhbmRib3hJZCAtIHRoaXMgY29tZXMgZnJvbSBjbGFpbXMgcmVzb2x2ZXJcbiAgICovXG4gIEBJbnB1dCgpIHNhbmRib3hJZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBvcmdGb2xkZXJzJyBvciAnY2FzZUZvbGRlcnMnIC0gZGlmZmVyZW50IEFQSSBjYWxscyBtYWRlIGFjY29yZGluZyB0byB3aGljaCBvbmUgdGhpcyBpc1xuICAgKi9cbiAgQElucHV0KCkgZm9sZGVyVHlwZTogc3RyaW5nOyAvLyAnb3JnRm9sZGVycycgb3IgJ2Nhc2VGb2xkZXJzJ1xuXG4gIC8qKlxuICAgKiBUaGUgb3JnYW5pc2F0aW9uIGZvbGRlciB0byBzdG9yZS9yZXRyaWV2ZSBkb2N1bWVudHNcbiAgICovXG4gIEBJbnB1dCgpIGZvbGRlcklkOiBzdHJpbmc7ICAgLy8gY2FzZVJlZiBmb3IgY2FzZUZvbGRlclxuXG4gIC8qKlxuICAgKiBOT1QgdXNlZCBidXQgd291bGQgYWxsb3cgYSBzZWFyY2ggZmlsdGVyIG9uIGRvY3VtZW50c1xuICAgKi9cbiAgQElucHV0KCkgZmlsdGVyOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIGhlYWRlciB0ZXh0IG9uIGNvbXBvbmVudCAoZGVmYXVsdHMgdG8gZG9jdW1lbnRzKVxuICAgKi9cbiAgQElucHV0KCkgZm9sZGVyRGVzY3JpcHRpb246IHN0cmluZztcblxuICAvKipcbiAgICogV2hldGhlciB0byBzaG93IHRoZSBoZWFkZXIgYmFyIGluIHRoZSB3aWRnZXQgLSBlZy4gZmF2b3JpdGVzIG9uIGhvbWUgcGFnZSAoY29udGFpbnMgaWNvbiBldGMpIC0gaWYgb2ZmIGljb25zIHN0aWxsIGFwcGVhciB3aXRob3V0IGJhclxuICAgKi9cbiAgQElucHV0KCkgc2hvd0hlYWRlcjogYm9vbGVhbiA9IHRoaXMuc2hvd0hlYWRlciA/IHRoaXMuc2hvd0hlYWRlciA6IHRydWU7XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBEb2N1bWVudCBCdXR0b25zIChhcnJheSBvZiB0ZXh0KVxuICAgKi9cbiAgQElucHV0KCkgY3VzdG9tQWN0aW9uczogc3RyaW5nW11cblxuICAvKipcbiAgICogQ3VzdG9tIERvY3VtZW50IEFjdGlvbiBFdmVudDogZmlyZWQgd2hlbiBhIGN1c3RvbSBhY3Rpb24gaXMgY2xpY2tlZCBmb3IgYSBkb2N1bWVudCAob3V0cHV0cyB0aGUgYWN0aW9uIG5hbWUgYW5kIGEgZG9jdW1lbnQgKERvY3VtZW50QWN0aW9uKSlcbiAgICovXG4gIEBPdXRwdXQoKSBjdXN0b21BY3Rpb25DbGlja2VkOiBFdmVudEVtaXR0ZXI8RG9jdW1lbnRBY3Rpb24+ID0gbmV3IEV2ZW50RW1pdHRlcjxEb2N1bWVudEFjdGlvbj4oKVxuXG4gIHB1YmxpYyBlcnJvck1lc3NhZ2U6IHN0cmluZztcbiAgcHVibGljIGRvY3VtZW50czogRG9jdW1lbnRbXTtcbiAgcHVibGljIGZpbGVUb1VwbG9hZDogRmlsZSA9IHVuZGVmaW5lZDtcbiAgcHVibGljIGZpbGVEZXNjcmlwdGlvbjogc3RyaW5nO1xuICB1cGxvYWRNZXNzYWdlOiBzdHJpbmc7XG4gIHB1YmxpYyB1cGxvYWRQcm9ncmVzczogbnVtYmVyO1xuXG4gIHB1YmxpYyByZWZyZXNoID0gKCkgPT4ge1xuICAgIHRoaXMubGlzdERvY3VtZW50cygpO1xuICB9XG5cbiAgcHVibGljIGN1c3RvbUFjdGlvbkNsaWNrID0gKGFjdGlvbjogc3RyaW5nLCBkb2N1bWVudDogRG9jdW1lbnQpID0+IHtcbiAgICB0aGlzLmN1c3RvbUFjdGlvbkNsaWNrZWQuZW1pdChuZXcgRG9jdW1lbnRBY3Rpb24oKS5kZXNlcmlhbGl6ZShcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uLFxuICAgICAgICBkb2N1bWVudFxuICAgICAgfVxuICAgICkpO1xuICB9XG5cbiAgcHVibGljIGxpc3REb2N1bWVudHMgPSAoKSA9PiB7XG4gICAgdGhpcy5kb2N1bWVudHNTZXJ2aWNlLmxpc3REb2N1bWVudHModGhpcy5mb2xkZXJUeXBlLCB0aGlzLmZvbGRlcklkLCB0aGlzLnNhbmRib3hJZCwgdGhpcy5maWx0ZXIpXG4gICAgICAucGlwZShcbiAgICAgICAgdGFrZSgxKSxcbiAgICAgICAgdGFrZVVudGlsKHRoaXMuX2Rlc3Ryb3llZCQpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKGRvY3VtZW50c2xpc3QgPT4ge1xuICAgICAgICB0aGlzLmRvY3VtZW50cyA9IGRvY3VtZW50c2xpc3QuZG9jdW1lbnRzO1xuICAgICAgfSwgZXJyb3IgPT4geyB0aGlzLmVycm9yTWVzc2FnZSA9ICdFcnJvciByZXRyaWV2aW5nIGNhc2Ugc3RhdGVzOiAnICsgZXJyb3IuZXJyb3IuZXJyb3JNc2c7IH0pO1xuICAgIH1cblxuICBwdWJsaWMgdXBsb2FkRG9jdW1lbnQgPSAoZG9jKSA9PiB7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlRG9jdW1lbnQgPSAoZG9jKSA9PiB7XG4gICAgdGhpcy5kb2N1bWVudHNTZXJ2aWNlLmRlbGV0ZURvY3VtZW50KHRoaXMuZm9sZGVyVHlwZSwgdGhpcy5mb2xkZXJJZCwgZG9jLm5hbWUsIHRoaXMuc2FuZGJveElkKVxuICAgICAgLnBpcGUoXG4gICAgICAgIHRha2UoMSksXG4gICAgICAgIHRha2VVbnRpbCh0aGlzLl9kZXN0cm95ZWQkKVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgdmFsID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyh2YWwpO1xuICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9LCBlcnJvciA9PiB7IHRoaXMuZXJyb3JNZXNzYWdlID0gJ0Vycm9yIHJlbW92aW5nIGRvY3VtZW50OiAnICsgZXJyb3IuZXJyb3JNc2c7IH0pO1xuICB9XG5cbiAgcHVibGljIHZpZXdEb2N1bWVudCA9IChkb2MpID0+IHtcbiAgICBjb25zdCB2aWV3RG9jRGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3BlbihMaXZlQXBwc0RvY3VtZW50Vmlld2VyRGlhbG9nQ29tcG9uZW50LCB7XG4gICAgICB3aWR0aDogJzc1JScsXG4gICAgICBoZWlnaHQ6ICc3NSUnLFxuICAgICAgZGF0YToge1xuICAgICAgICBkb2M6IGRvYyxcbiAgICAgICAgZm9sZGVyVHlwZTogdGhpcy5mb2xkZXJUeXBlLFxuICAgICAgICBmb2xkZXJJZDogdGhpcy5mb2xkZXJJZCxcbiAgICAgICAgc2FuZGJveElkOiB0aGlzLnNhbmRib3hJZFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmlld0RvY0RpYWxvZ1JlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZShyZXN1bHQgPT4ge1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGRvd25sb2FkRG9jdW1lbnQgPSAoZG9jKSA9PiB7XG4gICAgdGhpcy5kb2N1bWVudHNTZXJ2aWNlLmRvd25sb2FkRG9jdW1lbnQodGhpcy5mb2xkZXJUeXBlLCB0aGlzLmZvbGRlcklkLCBkb2MubmFtZSwgZG9jLmFydGlmYWN0VmVyc2lvbiwgdGhpcy5zYW5kYm94SWQpXG4gICAgICAucGlwZShcbiAgICAgICAgdGFrZSgxKSxcbiAgICAgICAgdGFrZVVudGlsKHRoaXMuX2Rlc3Ryb3llZCQpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICAvLyB0b2RvOiBjaGVjayBpZiB0aGlzIHdvcmtzIG9uIGFsbCBicm93c2Vyc1xuICAgICAgICAgIGNvbnN0IGRvd25sb2FkVVJMID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YSk7XG4gICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICBsaW5rLmhyZWYgPSBkb3dubG9hZFVSTDtcbiAgICAgICAgICBsaW5rLmRvd25sb2FkID0gZG9jLm5hbWU7XG4gICAgICAgICAgbGluay5jbGljaygpO1xuICAgICAgICB9LCBlcnJvciA9PiB7IHRoaXMuZXJyb3JNZXNzYWdlID0gJ0Vycm9yIGRvd25sb2FkaW5nIGRvY3VtZW50OiAnICsgZXJyb3IuZXJyb3JNc2c7IH0pO1xuICB9XG5cbiAgYXR0YWNoRmlsZShmaWxlczogRmlsZUxpc3QpIHtcbiAgICB0aGlzLnVwbG9hZE1lc3NhZ2UgPSAnJztcbiAgICB0aGlzLmZpbGVUb1VwbG9hZCA9IGZpbGVzLml0ZW0oMCk7XG4gIH1cblxuICBzZXRGaWxlRGVzY3JpcHRpb24oZGVzY3JpcHRpb246IHN0cmluZykge1xuICAgIHRoaXMuZmlsZURlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIH1cblxuICB1cGxvYWRGaWxlKGZpbGVUb1VwbG9hZCwgZGVzY3JpcHRpb24pIHtcbiAgICB0aGlzLmZpbGVUb1VwbG9hZCA9IGZpbGVUb1VwbG9hZDtcbiAgICB0aGlzLnVwbG9hZE1lc3NhZ2UgPSAnVXBsb2FkaW5nOiAnICsgZmlsZVRvVXBsb2FkLm5hbWU7XG4gICAgdGhpcy5maWxlRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLnVwbG9hZFByb2dyZXNzID0gMDtcbiAgICBpZiAodGhpcy5maWxlVG9VcGxvYWQpIHtcbiAgICAgIHRoaXMuZG9jdW1lbnRzU2VydmljZS51cGxvYWREb2N1bWVudCh0aGlzLmZvbGRlclR5cGUsIHRoaXMuZm9sZGVySWQsIHRoaXMuc2FuZGJveElkLFxuICAgICAgICB0aGlzLmZpbGVUb1VwbG9hZCwgdGhpcy5maWxlVG9VcGxvYWQubmFtZSwgdGhpcy5maWxlRGVzY3JpcHRpb24pXG4gICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgKHJlc3BvbnNlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS50eXBlID09PSBIdHRwRXZlbnRUeXBlLlVwbG9hZFByb2dyZXNzKSB7XG4gICAgICAgICAgICAgIHRoaXMudXBsb2FkUHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKDEwMCAqIHJlc3BvbnNlLmxvYWRlZCAvIHJlc3BvbnNlLnRvdGFsKTtcbiAgICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkUHJvZ3Jlc3MgPT09IDEwMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsZVRvVXBsb2FkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMudXBsb2FkTWVzc2FnZSA9ICdVcGxvYWRlZDogJyArIGZpbGVUb1VwbG9hZC5uYW1lO1xuICAgICAgICAgICAgICAgIC8vIGFwaSBzZWVtcyBub3QgdG8gc2hvdyBuZXcgZG9jdW1lbnRzIHN0cmFpZ2h0IGF3YXkgc29tZXRpbWVzIC0gc28gdGhpcyBtaW5pbWl6ZXMgdGhlIGNoYW5jZXMgb2YgdGhhdCBpZiBmaWxlID4gMW1iXG4gICAgICAgICAgICAgICAgaWYgKGZpbGVUb1VwbG9hZC5zaXplID4gMTAwMDAwMCkge1xuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMucmVmcmVzaCgpOyB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLnVwbG9hZE1lc3NhZ2UgPSAnJzsgdGhpcy51cGxvYWRQcm9ncmVzcyA9IHVuZGVmaW5lZDsgfSwgNTAwMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yID0+IHsgY29uc29sZS5sb2coJ2Vycm9yJyk7IHRoaXMuZXJyb3JNZXNzYWdlID0gJ0Vycm9yIHVwbG9hZGluZyBkb2N1bWVudDogJyArIGVycm9yLmVycm9yTXNnOyB9KTtcbiAgICB9XG4gIH1cblxuICBvcGVuRGlhbG9nKCk6IHZvaWQge1xuICAgIC8vIG9ubHkgYWxsb3cgaWYgdXBsb2FkIG5vdCBpbiBwcm9ncmVzc1xuICAgIGlmICghdGhpcy51cGxvYWRQcm9ncmVzcyB8fCB0aGlzLnVwbG9hZFByb2dyZXNzID09PSAxMDApIHtcbiAgICAgIGNvbnN0IGRpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4oTGl2ZUFwcHNEb2N1bWVudFVwbG9hZERpYWxvZ0NvbXBvbmVudCwge1xuICAgICAgICB3aWR0aDogJzUwMHB4JyxcbiAgICAgICAgZGF0YToge31cbiAgICAgIH0pO1xuXG4gICAgICBkaWFsb2dSZWYuY29tcG9uZW50SW5zdGFuY2UuZmlsZWV2ZW50LnN1YnNjcmliZSgoJGUpID0+IHtcbiAgICAgICAgdGhpcy51cGxvYWRGaWxlKCRlLmZpbGUsICRlLmRlc2NyaXB0aW9uKTtcbiAgICAgIH0pXG5cbiAgICAgIGRpYWxvZ1JlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZShyZXN1bHQgPT4ge1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cbn1cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGNsYS1saXZlLWFwcHMtZG9jdW1lbnQtdXBsb2FkLWRpYWxvZycsXG4gIHRlbXBsYXRlVXJsOiAnYXBwLWxpdmUtYXBwcy1kb2N1bWVudC11cGxvYWQtZGlhbG9nLmh0bWwnLFxuICBzdHlsZVVybHM6IFsgJ2FwcC1saXZlLWFwcHMtZG9jdW1lbnQtdXBsb2FkLWRpYWxvZy5jc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBMaXZlQXBwc0RvY3VtZW50VXBsb2FkRGlhbG9nQ29tcG9uZW50IHtcblxuICBAT3V0cHV0KCkgZmlsZWV2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIHB1YmxpYyBmaWxlVG9VcGxvYWQ6IEZpbGUgPSB1bmRlZmluZWQ7XG4gIHB1YmxpYyBkZXNjcmlwdGlvbjogc3RyaW5nID0gdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBkaWFsb2dSZWY6IE1hdERpYWxvZ1JlZjxMaXZlQXBwc0RvY3VtZW50VXBsb2FkRGlhbG9nQ29tcG9uZW50Pikge31cblxuXG4gIHB1YmxpYyB1cGxvYWRGaWxlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmZpbGVUb1VwbG9hZCkge1xuICAgICAgdGhpcy5maWxlZXZlbnQuZW1pdCh7IGZpbGU6IHRoaXMuZmlsZVRvVXBsb2FkLCBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbiB9KTtcbiAgICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RmlsZURlc2NyaXB0aW9uKGRlc2NyaXB0aW9uOiBzdHJpbmcpIHtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIH1cblxuICBhdHRhY2hGaWxlKGZpbGVzOiBGaWxlTGlzdCkge1xuICAgIC8vIHRoaXMudXBsb2FkTWVzc2FnZSA9ICcnO1xuICAgIHRoaXMuZmlsZVRvVXBsb2FkID0gZmlsZXMuaXRlbSgwKTtcbiAgfVxuXG4gIG9uTm9DbGljaygpOiB2b2lkIHtcbiAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZSgpO1xuICB9XG5cbn1cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGNsYS1saXZlLWFwcHMtZG9jdW1lbnQtdmlld2VyLWRpYWxvZycsXG4gIHRlbXBsYXRlVXJsOiAnYXBwLWxpdmUtYXBwcy1kb2N1bWVudC12aWV3ZXItZGlhbG9nLmh0bWwnLFxuICBzdHlsZVVybHM6IFsgJ2FwcC1saXZlLWFwcHMtZG9jdW1lbnQtdmlld2VyLWRpYWxvZy5jc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBMaXZlQXBwc0RvY3VtZW50Vmlld2VyRGlhbG9nQ29tcG9uZW50IHtcbiAgcHVibGljIGRvYzogRG9jdW1lbnQ7XG4gIHB1YmxpYyBmb2xkZXJUeXBlOiBzdHJpbmc7XG4gIHB1YmxpYyBmb2xkZXJJZDogc3RyaW5nO1xuICBwdWJsaWMgc2FuZGJveElkOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGRpYWxvZ1JlZjogTWF0RGlhbG9nUmVmPExpdmVBcHBzRG9jdW1lbnRVcGxvYWREaWFsb2dDb21wb25lbnQ+LFxuICAgIEBJbmplY3QoTUFUX0RJQUxPR19EQVRBKSBwdWJsaWMgZGF0YTogYW55KSB7XG4gICAgdGhpcy5kb2MgPSB0aGlzLmRhdGEuZG9jO1xuICAgIHRoaXMuZm9sZGVyVHlwZSA9IHRoaXMuZGF0YS5mb2xkZXJUeXBlO1xuICAgIHRoaXMuZm9sZGVySWQgPSB0aGlzLmRhdGEuZm9sZGVySWQ7XG4gICAgdGhpcy5zYW5kYm94SWQgPSB0aGlzLmRhdGEuc2FuZGJveElkO1xuICB9XG5cbiAgb25Ob0NsaWNrKCk6IHZvaWQge1xuICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKCk7XG4gIH1cblxufVxuXG4iXX0=