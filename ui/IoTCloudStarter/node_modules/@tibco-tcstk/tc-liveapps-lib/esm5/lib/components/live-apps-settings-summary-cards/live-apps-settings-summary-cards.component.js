/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component } from '@angular/core';
import { LiveAppsSettingsComponent } from '../live-apps-settings/live-apps-settings.component';
import { map, take, takeUntil } from 'rxjs/operators';
import { TcCaseCardConfigService } from '../../services/tc-case-card-config.service';
import { ActivatedRoute } from '@angular/router';
import { TcLiveAppsConfigService } from '../../services/tc-live-apps-config.service';
import { MatSnackBar } from '@angular/material';
/**
 * Configuration of summary cards
 *
 * ![alt-text](../live-apps-settings-summary-cards.png "")
 *
 * \@example <tcla-live-apps-settings-summary-cards></tcla-live-apps-settings-summary-cards>
 */
var LiveAppsSettingsSummaryCardsComponent = /** @class */ (function (_super) {
    tslib_1.__extends(LiveAppsSettingsSummaryCardsComponent, _super);
    function LiveAppsSettingsSummaryCardsComponent(caseCardConfigService, routeExt, liveAppsConfigServiceExt, snackBar) {
        var _this = _super.call(this, routeExt, liveAppsConfigServiceExt, snackBar) || this;
        _this.caseCardConfigService = caseCardConfigService;
        _this.routeExt = routeExt;
        _this.liveAppsConfigServiceExt = liveAppsConfigServiceExt;
        _this.snackBar = snackBar;
        _this.handleConfigChanged = (/**
         * @param {?} caseCardConfig
         * @return {?}
         */
        function (caseCardConfig) {
            _this.caseCardConfig = caseCardConfig;
            console.log(caseCardConfig);
        });
        _this.handleAppSelection = (/**
         * @param {?} application
         * @return {?}
         */
        function (application) {
            _this.selectedApp = application;
        });
        _this.runSaveFunction = (/**
         * @return {?}
         */
        function () {
            _this.caseCardConfigService.updateCaseCardConfig(_this.sandboxId, _this.selectedApp.applicationId, _this.generalConfig.uiAppId, _this.caseCardConfig)
                .pipe(take(1), takeUntil(_this._destroyed$), map((/**
             * @param {?} caseCardConfig
             * @return {?}
             */
            function (caseCardConfig) {
                _this.caseCardConfig = caseCardConfig;
            }))).subscribe((/**
             * @param {?} result
             * @return {?}
             */
            function (result) {
                _this.snackBar.open('Summary cards settings saved', 'OK', {
                    duration: 3000
                });
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
                _this.snackBar.open('Error saving Summary Cards settings', 'OK', {
                    duration: 3000
                });
                console.log('Unable to update case card config: ' + error.errorMsg);
            }));
        });
        return _this;
    }
    LiveAppsSettingsSummaryCardsComponent.decorators = [
        { type: Component, args: [{
                    selector: 'tcla-live-apps-settings-summary-cards',
                    template: "<div fxLayout=\"column\" class=\"tcs-live-apps-summary-cards-settings\" fxFill>\n  <tc-tibco-cloud-widget-header style=\"height: 40px;\" [icon]=\"'tcs-capabilities'\" [headerText]=\"'Live Apps Summary Card Configuration'\"></tc-tibco-cloud-widget-header>\n\n  <div style=\"padding: 20px 20px 20px 20px;\" fxLayout=\"column\" fxFlex>\n    <div class=\"tcs-card-config-widget-pane\" fxFlex fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\n      <tcla-live-apps-app-configuration-widget fxFlex=\"grow\" [sandboxId]=\"sandboxId\" [appIds]=\"liveAppsConfig.applicationIds\" [uiAppId]=\"generalConfig.uiAppId\" [folderId]=\"liveAppsConfig.caseIconsFolderId\" (configChanged)=\"handleConfigChanged($event)\" (appSelected)=\"handleAppSelection($event)\"></tcla-live-apps-app-configuration-widget>\n    </div>\n    <div fxLayout=\"column\" fxLayoutAlign=\"end end\" style=\"min-height: 50px\">\n      <button mat-raised-button color=\"primary\" (click)=\"runSaveFunction()\" [disabled]=\"!caseCardConfig || !selectedApp\">Save</button>\n    </div>\n  </div>\n</div>\n",
                    styles: [".tcs-card-config-widget-pane,.tcs-live-apps-summary-cards-settings{overflow:hidden}"]
                }] }
    ];
    /** @nocollapse */
    LiveAppsSettingsSummaryCardsComponent.ctorParameters = function () { return [
        { type: TcCaseCardConfigService },
        { type: ActivatedRoute },
        { type: TcLiveAppsConfigService },
        { type: MatSnackBar }
    ]; };
    return LiveAppsSettingsSummaryCardsComponent;
}(LiveAppsSettingsComponent));
export { LiveAppsSettingsSummaryCardsComponent };
if (false) {
    /** @type {?} */
    LiveAppsSettingsSummaryCardsComponent.prototype.caseCardConfig;
    /** @type {?} */
    LiveAppsSettingsSummaryCardsComponent.prototype.selectedApp;
    /** @type {?} */
    LiveAppsSettingsSummaryCardsComponent.prototype.handleConfigChanged;
    /** @type {?} */
    LiveAppsSettingsSummaryCardsComponent.prototype.handleAppSelection;
    /** @type {?} */
    LiveAppsSettingsSummaryCardsComponent.prototype.runSaveFunction;
    /**
     * @type {?}
     * @private
     */
    LiveAppsSettingsSummaryCardsComponent.prototype.caseCardConfigService;
    /**
     * @type {?}
     * @private
     */
    LiveAppsSettingsSummaryCardsComponent.prototype.routeExt;
    /**
     * @type {?}
     * @private
     */
    LiveAppsSettingsSummaryCardsComponent.prototype.liveAppsConfigServiceExt;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsSettingsSummaryCardsComponent.prototype.snackBar;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1hcHBzLXNldHRpbmdzLXN1bW1hcnktY2FyZHMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRpYmNvLXRjc3RrL3RjLWxpdmVhcHBzLWxpYi8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL2xpdmUtYXBwcy1zZXR0aW5ncy1zdW1tYXJ5LWNhcmRzL2xpdmUtYXBwcy1zZXR0aW5ncy1zdW1tYXJ5LWNhcmRzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDbEQsT0FBTyxFQUFDLHlCQUF5QixFQUFDLE1BQU0sb0RBQW9ELENBQUM7QUFFN0YsT0FBTyxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFDcEQsT0FBTyxFQUFDLHVCQUF1QixFQUFDLE1BQU0sNENBQTRDLENBQUM7QUFHbkYsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBQyx1QkFBdUIsRUFBQyxNQUFNLDRDQUE0QyxDQUFDO0FBRW5GLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQzs7Ozs7Ozs7QUFVaEQ7SUFLMkQsaUVBQXlCO0lBS2xGLCtDQUFvQixxQkFBOEMsRUFBVSxRQUF3QixFQUFVLHdCQUFpRCxFQUFZLFFBQXFCO1FBQWhNLFlBQ0Usa0JBQU0sUUFBUSxFQUFFLHdCQUF3QixFQUFFLFFBQVEsQ0FBQyxTQUNwRDtRQUZtQiwyQkFBcUIsR0FBckIscUJBQXFCLENBQXlCO1FBQVUsY0FBUSxHQUFSLFFBQVEsQ0FBZ0I7UUFBVSw4QkFBd0IsR0FBeEIsd0JBQXdCLENBQXlCO1FBQVksY0FBUSxHQUFSLFFBQVEsQ0FBYTtRQUl6TCx5QkFBbUI7Ozs7UUFBRyxVQUFDLGNBQThCO1lBQzFELEtBQUksQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO1lBQ3JDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDOUIsQ0FBQyxFQUFBO1FBRU0sd0JBQWtCOzs7O1FBQUcsVUFBQyxXQUFxQjtZQUNoRCxLQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUNqQyxDQUFDLEVBQUE7UUFFTSxxQkFBZTs7O1FBQUc7WUFDdkIsS0FBSSxDQUFDLHFCQUFxQixDQUFDLG9CQUFvQixDQUFDLEtBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsS0FBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLEVBQUUsS0FBSSxDQUFDLGNBQWMsQ0FBQztpQkFDN0ksSUFBSSxDQUNILElBQUksQ0FBQyxDQUFDLENBQUMsRUFDUCxTQUFTLENBQUMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxFQUMzQixHQUFHOzs7O1lBQUMsVUFBQSxjQUFjO2dCQUNoQixLQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztZQUN2QyxDQUFDLEVBQUMsQ0FDSCxDQUFDLFNBQVM7Ozs7WUFDUCxVQUFBLE1BQU07Z0JBQ0YsS0FBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsOEJBQThCLEVBQUUsSUFBSSxFQUFFO29CQUNyRCxRQUFRLEVBQUUsSUFBSTtpQkFDakIsQ0FBQyxDQUFDO1lBQ1AsQ0FBQzs7OztZQUNELFVBQUEsS0FBSztnQkFDRCxLQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxxQ0FBcUMsRUFBRSxJQUFJLEVBQUU7b0JBQzVELFFBQVEsRUFBRSxJQUFJO2lCQUNqQixDQUFDLENBQUM7Z0JBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQ0FBcUMsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDeEUsQ0FBQyxFQUNOLENBQUM7UUFDSixDQUFDLEVBQUE7O0lBaENELENBQUM7O2dCQVpGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUsdUNBQXVDO29CQUNqRCxtakNBQWdFOztpQkFFakU7Ozs7Z0JBcEJPLHVCQUF1QjtnQkFHdkIsY0FBYztnQkFDZCx1QkFBdUI7Z0JBRXRCLFdBQVc7O0lBd0RwQiw0Q0FBQztDQUFBLEFBOUNELENBSzJELHlCQUF5QixHQXlDbkY7U0F6Q1kscUNBQXFDOzs7SUFFaEQsK0RBQXNDOztJQUN0Qyw0REFBNkI7O0lBTTdCLG9FQUdDOztJQUVELG1FQUVDOztJQUVELGdFQXFCQzs7Ozs7SUFsQ1csc0VBQXNEOzs7OztJQUFFLHlEQUFnQzs7Ozs7SUFBRSx5RUFBeUQ7Ozs7O0lBQUUseURBQStCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7TGl2ZUFwcHNTZXR0aW5nc0NvbXBvbmVudH0gZnJvbSAnLi4vbGl2ZS1hcHBzLXNldHRpbmdzL2xpdmUtYXBwcy1zZXR0aW5ncy5jb21wb25lbnQnO1xuaW1wb3J0IHtDYXNlQ2FyZENvbmZpZ30gZnJvbSAnLi4vLi4vbW9kZWxzL3RjLWNhc2UtY2FyZC1jb25maWcnO1xuaW1wb3J0IHttYXAsIHRha2UsIHRha2VVbnRpbH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHtUY0Nhc2VDYXJkQ29uZmlnU2VydmljZX0gZnJvbSAnLi4vLi4vc2VydmljZXMvdGMtY2FzZS1jYXJkLWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7SHR0cENsaWVudH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHtEb21TYW5pdGl6ZXJ9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuaW1wb3J0IHtBY3RpdmF0ZWRSb3V0ZX0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7VGNMaXZlQXBwc0NvbmZpZ1NlcnZpY2V9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3RjLWxpdmUtYXBwcy1jb25maWcuc2VydmljZSc7XG5pbXBvcnQge0Nhc2VUeXBlfSBmcm9tICcuLi8uLi9tb2RlbHMvbGl2ZWFwcHNkYXRhJztcbmltcG9ydCB7IE1hdFNuYWNrQmFyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuXG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBvZiBzdW1tYXJ5IGNhcmRzXG4gKlxuICogIVthbHQtdGV4dF0oLi4vbGl2ZS1hcHBzLXNldHRpbmdzLXN1bW1hcnktY2FyZHMucG5nIFwiXCIpXG4gKlxuICpAZXhhbXBsZSA8dGNsYS1saXZlLWFwcHMtc2V0dGluZ3Mtc3VtbWFyeS1jYXJkcz48L3RjbGEtbGl2ZS1hcHBzLXNldHRpbmdzLXN1bW1hcnktY2FyZHM+XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3RjbGEtbGl2ZS1hcHBzLXNldHRpbmdzLXN1bW1hcnktY2FyZHMnLFxuICB0ZW1wbGF0ZVVybDogJy4vbGl2ZS1hcHBzLXNldHRpbmdzLXN1bW1hcnktY2FyZHMuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9saXZlLWFwcHMtc2V0dGluZ3Mtc3VtbWFyeS1jYXJkcy5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTGl2ZUFwcHNTZXR0aW5nc1N1bW1hcnlDYXJkc0NvbXBvbmVudCBleHRlbmRzIExpdmVBcHBzU2V0dGluZ3NDb21wb25lbnQge1xuXG4gIHB1YmxpYyBjYXNlQ2FyZENvbmZpZzogQ2FzZUNhcmRDb25maWc7XG4gIHB1YmxpYyBzZWxlY3RlZEFwcDogQ2FzZVR5cGU7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjYXNlQ2FyZENvbmZpZ1NlcnZpY2U6IFRjQ2FzZUNhcmRDb25maWdTZXJ2aWNlLCBwcml2YXRlIHJvdXRlRXh0OiBBY3RpdmF0ZWRSb3V0ZSwgcHJpdmF0ZSBsaXZlQXBwc0NvbmZpZ1NlcnZpY2VFeHQ6IFRjTGl2ZUFwcHNDb25maWdTZXJ2aWNlLCBwcm90ZWN0ZWQgc25hY2tCYXI6IE1hdFNuYWNrQmFyKSB7XG4gICAgc3VwZXIocm91dGVFeHQsIGxpdmVBcHBzQ29uZmlnU2VydmljZUV4dCwgc25hY2tCYXIpO1xuICB9XG5cbiAgcHVibGljIGhhbmRsZUNvbmZpZ0NoYW5nZWQgPSAoY2FzZUNhcmRDb25maWc6IENhc2VDYXJkQ29uZmlnKSA9PiB7XG4gICAgdGhpcy5jYXNlQ2FyZENvbmZpZyA9IGNhc2VDYXJkQ29uZmlnO1xuICAgIGNvbnNvbGUubG9nKGNhc2VDYXJkQ29uZmlnKTtcbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVBcHBTZWxlY3Rpb24gPSAoYXBwbGljYXRpb246IENhc2VUeXBlKSA9PiB7XG4gICAgdGhpcy5zZWxlY3RlZEFwcCA9IGFwcGxpY2F0aW9uO1xuICB9XG5cbiAgcHVibGljIHJ1blNhdmVGdW5jdGlvbiA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLmNhc2VDYXJkQ29uZmlnU2VydmljZS51cGRhdGVDYXNlQ2FyZENvbmZpZyh0aGlzLnNhbmRib3hJZCwgdGhpcy5zZWxlY3RlZEFwcC5hcHBsaWNhdGlvbklkLCB0aGlzLmdlbmVyYWxDb25maWcudWlBcHBJZCwgdGhpcy5jYXNlQ2FyZENvbmZpZylcbiAgICAgIC5waXBlKFxuICAgICAgICB0YWtlKDEpLFxuICAgICAgICB0YWtlVW50aWwodGhpcy5fZGVzdHJveWVkJCksXG4gICAgICAgIG1hcChjYXNlQ2FyZENvbmZpZyA9PiB7XG4gICAgICAgICAgdGhpcy5jYXNlQ2FyZENvbmZpZyA9IGNhc2VDYXJkQ29uZmlnO1xuICAgICAgICB9KVxuICAgICAgKS5zdWJzY3JpYmUoXG4gICAgICAgICAgcmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5zbmFja0Jhci5vcGVuKCdTdW1tYXJ5IGNhcmRzIHNldHRpbmdzIHNhdmVkJywgJ09LJywge1xuICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMDBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuc25hY2tCYXIub3BlbignRXJyb3Igc2F2aW5nIFN1bW1hcnkgQ2FyZHMgc2V0dGluZ3MnLCAnT0snLCB7XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VuYWJsZSB0byB1cGRhdGUgY2FzZSBjYXJkIGNvbmZpZzogJyArIGVycm9yLmVycm9yTXNnKTtcbiAgICAgICAgICB9XG4gICAgKTtcbiAgfVxuXG59XG4iXX0=