/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component } from '@angular/core';
import { Location } from '@angular/common';
import { TcCoreCommonFunctions, LandingPageItemConfig, TcGeneralLandingPageService } from '@tibco-tcstk/tc-core-lib';
import { Router, ActivatedRoute } from '@angular/router';
import { map } from 'rxjs/operators';
import { TcRolesService } from '../../services/tc-roles-service.ts.service';
/**
 * Landing page
 *
 * This component allows a configurable landing page on a per role basis
 *
 * \@example <tcla-live-apps-landing-page></tcla-live-apps-landing-page>
 */
var LiveAppsLandingPageComponent = /** @class */ (function () {
    function LiveAppsLandingPageComponent(location, route, router, landingPageService, rolesService) {
        var _this = this;
        this.location = location;
        this.route = route;
        this.router = router;
        this.landingPageService = landingPageService;
        this.rolesService = rolesService;
        this.moveHome = (/**
         * @return {?}
         */
        function () {
            _this.router.navigate([_this.navigateURL]);
        });
    }
    /**
     * @return {?}
     */
    LiveAppsLandingPageComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var uiAppId = this.route.snapshot.data.generalConfigHolder.uiAppId;
        /** @type {?} */
        var roleId = this.route.snapshot.data.activeRoleHolder.id;
        this.landingPageService.getLandingPageForRole(roleId, uiAppId).pipe(map((/**
         * @param {?} landingPage
         * @return {?}
         */
        function (landingPage) {
            if (landingPage != undefined) {
                _this.title = landingPage.title;
                _this.subtitle = landingPage.subtitle;
                _this.backgroundImage = (landingPage.backgroundURL != '' ? TcCoreCommonFunctions.prepareUrlForStaticResource(_this.location, landingPage.backgroundURL) : '');
                _this.highlights = new Array();
                _this.highlights.push(new LandingPageItemConfig().deserialize({
                    title: landingPage.highlights[0].title,
                    content: landingPage.highlights[0].content,
                    iconURL: landingPage.highlights[0].iconURL
                }));
                _this.highlights.push(new LandingPageItemConfig().deserialize({
                    title: landingPage.highlights[1].title,
                    content: landingPage.highlights[1].content,
                    iconURL: landingPage.highlights[1].iconURL
                }));
                _this.highlights.push(new LandingPageItemConfig().deserialize({
                    title: landingPage.highlights[2].title,
                    content: landingPage.highlights[2].content,
                    iconURL: landingPage.highlights[2].iconURL
                }));
                _this.navigateURL = landingPage.homeRoute;
            }
            else {
                _this.router.navigate(['errorHandler/NO_ROLE/NO_ROLE']);
            }
        }))).subscribe();
    };
    LiveAppsLandingPageComponent.decorators = [
        { type: Component, args: [{
                    selector: 'tcla-live-apps-landing-page',
                    template: "<tc-tibco-cloud-splash-screen fxFill\n    [title]=\"title\" \n    [subTitle]=\"subtitle\" \n    [backGroundImage]=\"backgroundImage\"\n    [highlights]=\"highlights\"\n    (getStartedEvent)=\"moveHome()\">\n</tc-tibco-cloud-splash-screen>",
                    styles: [""]
                }] }
    ];
    /** @nocollapse */
    LiveAppsLandingPageComponent.ctorParameters = function () { return [
        { type: Location },
        { type: ActivatedRoute },
        { type: Router },
        { type: TcGeneralLandingPageService },
        { type: TcRolesService }
    ]; };
    return LiveAppsLandingPageComponent;
}());
export { LiveAppsLandingPageComponent };
if (false) {
    /** @type {?} */
    LiveAppsLandingPageComponent.prototype.title;
    /** @type {?} */
    LiveAppsLandingPageComponent.prototype.subtitle;
    /** @type {?} */
    LiveAppsLandingPageComponent.prototype.backgroundImage;
    /** @type {?} */
    LiveAppsLandingPageComponent.prototype.highlights;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.navigateURL;
    /** @type {?} */
    LiveAppsLandingPageComponent.prototype.moveHome;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.location;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.route;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.router;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.landingPageService;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.rolesService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1hcHBzLWxhbmRpbmctcGFnZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGliY28tdGNzdGsvdGMtbGl2ZWFwcHMtbGliLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvbGl2ZS1hcHBzLWxhbmRpbmctcGFnZS9saXZlLWFwcHMtbGFuZGluZy1wYWdlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUFFLHFCQUFxQixFQUFFLHFCQUFxQixFQUFFLDJCQUEyQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckgsT0FBTyxFQUFFLE1BQU0sRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDckMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDRDQUE0QyxDQUFDOzs7Ozs7OztBQVU1RTtJQWNJLHNDQUNZLFFBQWtCLEVBQ2xCLEtBQXFCLEVBQ3JCLE1BQWMsRUFDZCxrQkFBK0MsRUFDL0MsWUFBNEI7UUFMeEMsaUJBTUs7UUFMTyxhQUFRLEdBQVIsUUFBUSxDQUFVO1FBQ2xCLFVBQUssR0FBTCxLQUFLLENBQWdCO1FBQ3JCLFdBQU0sR0FBTixNQUFNLENBQVE7UUFDZCx1QkFBa0IsR0FBbEIsa0JBQWtCLENBQTZCO1FBQy9DLGlCQUFZLEdBQVosWUFBWSxDQUFnQjtRQXlDakMsYUFBUTs7O1FBQUc7WUFDZCxLQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQzdDLENBQUMsRUFBQTtJQTFDRyxDQUFDOzs7O0lBRUwsK0NBQVE7OztJQUFSO1FBQUEsaUJBb0NDOztZQW5DUyxPQUFP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L0NHLGdEQUEwQjs7Ozs7SUFDMUIsNkNBQTZCOzs7OztJQUM3Qiw4Q0FBc0I7Ozs7O0lBQ3RCLDBEQUF1RDs7Ozs7SUFDdkQsb0RBQW9DIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IExvY2F0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFRjQ29yZUNvbW1vbkZ1bmN0aW9ucywgTGFuZGluZ1BhZ2VJdGVtQ29uZmlnLCBUY0dlbmVyYWxMYW5kaW5nUGFnZVNlcnZpY2UgfSBmcm9tICdAdGliY28tdGNzdGsvdGMtY29yZS1saWInO1xuaW1wb3J0IHsgUm91dGVyLCBBY3RpdmF0ZWRSb3V0ZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBUY1JvbGVzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3RjLXJvbGVzLXNlcnZpY2UudHMuc2VydmljZSc7XG5cblxuLyoqXG4gKiBMYW5kaW5nIHBhZ2VcbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBhbGxvd3MgYSBjb25maWd1cmFibGUgbGFuZGluZyBwYWdlIG9uIGEgcGVyIHJvbGUgYmFzaXNcbiAqXG4gKiBAZXhhbXBsZSA8dGNsYS1saXZlLWFwcHMtbGFuZGluZy1wYWdlPjwvdGNsYS1saXZlLWFwcHMtbGFuZGluZy1wYWdlPlxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3RjbGEtbGl2ZS1hcHBzLWxhbmRpbmctcGFnZScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2xpdmUtYXBwcy1sYW5kaW5nLXBhZ2UuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2xpdmUtYXBwcy1sYW5kaW5nLXBhZ2UuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIExpdmVBcHBzTGFuZGluZ1BhZ2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgcHVibGljIHRpdGxlOiBzdHJpbmc7XG4gICAgcHVibGljIHN1YnRpdGxlOiBzdHJpbmc7XG4gICAgcHVibGljIGJhY2tncm91bmRJbWFnZTogc3RyaW5nO1xuICAgIHB1YmxpYyBoaWdobGlnaHRzOiBMYW5kaW5nUGFnZUl0ZW1Db25maWdbXTtcbiAgICBcbiAgICBwcml2YXRlIG5hdmlnYXRlVVJMOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBsb2NhdGlvbjogTG9jYXRpb24sXG4gICAgICAgIHByaXZhdGUgcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxuICAgICAgICBwcml2YXRlIHJvdXRlcjogUm91dGVyLFxuICAgICAgICBwcml2YXRlIGxhbmRpbmdQYWdlU2VydmljZTogVGNHZW5lcmFsTGFuZGluZ1BhZ2VTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHJvbGVzU2VydmljZTogVGNSb2xlc1NlcnZpY2VcbiAgICApIHsgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGNvbnN0IHVpQXBwSWQgPSB0aGlzLnJvdXRlLnNuYXBzaG90LmRhdGEuZ2VuZXJhbENvbmZpZ0hvbGRlci51aUFwcElkO1xuICAgICAgICBjb25zdCByb2xlSWQgPSB0aGlzLnJvdXRlLnNuYXBzaG90LmRhdGEuYWN0aXZlUm9sZUhvbGRlci5pZDtcblxuICAgICAgICAgICAgdGhpcy5sYW5kaW5nUGFnZVNlcnZpY2UuZ2V0TGFuZGluZ1BhZ2VGb3JSb2xlKHJvbGVJZCwgdWlBcHBJZCkucGlwZShcbiAgICAgICAgICAgICAgICBtYXAobGFuZGluZ1BhZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFuZGluZ1BhZ2UgIT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGl0bGUgPSBsYW5kaW5nUGFnZS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VidGl0bGUgPSBsYW5kaW5nUGFnZS5zdWJ0aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlID0gKGxhbmRpbmdQYWdlLmJhY2tncm91bmRVUkwgIT0gJycgPyBUY0NvcmVDb21tb25GdW5jdGlvbnMucHJlcGFyZVVybEZvclN0YXRpY1Jlc291cmNlKHRoaXMubG9jYXRpb24sIGxhbmRpbmdQYWdlLmJhY2tncm91bmRVUkwpIDogJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0cy5wdXNoKG5ldyBMYW5kaW5nUGFnZUl0ZW1Db25maWcoKS5kZXNlcmlhbGl6ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGxhbmRpbmdQYWdlLmhpZ2hsaWdodHNbMF0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogbGFuZGluZ1BhZ2UuaGlnaGxpZ2h0c1swXS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VUkw6IGxhbmRpbmdQYWdlLmhpZ2hsaWdodHNbMF0uaWNvblVSTFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodHMucHVzaChuZXcgTGFuZGluZ1BhZ2VJdGVtQ29uZmlnKCkuZGVzZXJpYWxpemUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBsYW5kaW5nUGFnZS5oaWdobGlnaHRzWzFdLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGxhbmRpbmdQYWdlLmhpZ2hsaWdodHNbMV0uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uVVJMOiBsYW5kaW5nUGFnZS5oaWdobGlnaHRzWzFdLmljb25VUkxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRzLnB1c2gobmV3IExhbmRpbmdQYWdlSXRlbUNvbmZpZygpLmRlc2VyaWFsaXplKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogbGFuZGluZ1BhZ2UuaGlnaGxpZ2h0c1syXS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBsYW5kaW5nUGFnZS5oaWdobGlnaHRzWzJdLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVSTDogbGFuZGluZ1BhZ2UuaGlnaGxpZ2h0c1syXS5pY29uVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGVVUkwgPSBsYW5kaW5nUGFnZS5ob21lUm91dGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJ2Vycm9ySGFuZGxlci9OT19ST0xFL05PX1JPTEUnXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKS5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZUhvbWUgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt0aGlzLm5hdmlnYXRlVVJMXSk7XG4gICAgfVxuXG59XG4iXX0=