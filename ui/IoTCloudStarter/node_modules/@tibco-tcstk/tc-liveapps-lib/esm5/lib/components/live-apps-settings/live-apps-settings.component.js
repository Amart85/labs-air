/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component } from '@angular/core';
import { LiveAppsConfig } from '../../models/tc-liveapps-config';
import { ActivatedRoute } from '@angular/router';
import { TcLiveAppsConfigService } from '../../services/tc-live-apps-config.service';
import { LiveAppsComponent } from '../live-apps-component/live-apps-component.component';
import { MatSnackBar } from '@angular/material';
/**
 * Allow Selection of live apps applications (part of config)
 *
 * ![alt-text](../live-apps-settings.png "")
 *
 * \@example <tcla-live-apps-settings></tcla-live-apps-settings>
 */
var LiveAppsSettingsComponent = /** @class */ (function (_super) {
    tslib_1.__extends(LiveAppsSettingsComponent, _super);
    function LiveAppsSettingsComponent(route, liveAppsConfigService, snackBar) {
        var _this = _super.call(this) || this;
        _this.route = route;
        _this.liveAppsConfigService = liveAppsConfigService;
        _this.snackBar = snackBar;
        _this.LIVE_APPS_URL = '/apps/dt-app/index.html#/application-content/';
        _this.handleEditLiveAppClick = (/**
         * @return {?}
         */
        function () {
            // window.open(this.LIVE_APPS_URL + applicationId);
            // currently no public API to get the appId version for design time to populate the URL
            window.open(_this.LIVE_APPS_URL);
        });
        _this.runSaveFunction = (/**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var liveAppsConfig = new LiveAppsConfig().deserialize({
                applicationIds: _this.selectedAppIds,
                caseIconsFolderId: _this.liveAppsConfig.caseIconsFolderId,
                documentAppId: _this.liveAppsConfig.documentAppId,
                collaborationAppId: _this.liveAppsConfig.documentAppId
            });
            _this.liveAppsConfigService.updateLiveAppsConfig(_this.sandboxId, _this.generalConfig.uiAppId, liveAppsConfig, _this.liveAppsConfig.id).subscribe((/**
             * @param {?} result
             * @return {?}
             */
            function (result) {
                _this.snackBar.open('Live Apps App Selection Configuration settings saved', 'OK', {
                    duration: 3000
                });
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
                _this.snackBar.open('Error saving Live Apps App Selection Configuration', 'OK', {
                    duration: 3000
                });
            }));
        });
        return _this;
    }
    /**
     * @protected
     * @return {?}
     */
    LiveAppsSettingsComponent.prototype.getLiveAppsConfigService = /**
     * @protected
     * @return {?}
     */
    function () {
        return this.liveAppsConfigService;
    };
    /**
     * @param {?} appIds
     * @return {?}
     */
    LiveAppsSettingsComponent.prototype.handleAppIdSelection = /**
     * @param {?} appIds
     * @return {?}
     */
    function (appIds) {
        console.log('Selected: ', appIds);
        this.selectedAppIds = appIds;
    };
    /**
     * @return {?}
     */
    LiveAppsSettingsComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.generalConfig = this.route.snapshot.data.laConfigHolder.generalConfig;
        this.liveAppsConfig = this.route.snapshot.data.laConfigHolder.liveAppsConfig;
        this.claims = this.route.snapshot.data.claims;
        this.sandboxId = Number(this.claims.primaryProductionSandbox.id).valueOf();
        this.selectedAppIds = this.liveAppsConfig.applicationIds;
    };
    LiveAppsSettingsComponent.decorators = [
        { type: Component, args: [{
                    selector: 'tcla-live-apps-settings',
                    template: "<div fxLayout=\"column\" class=\"tcs-live-apps-settings-pane\" fxFill>\n  <tc-tibco-cloud-widget-header style=\"height: 40px;\" [icon]=\"'tcs-capabilities'\" [headerText]=\"'Live Apps App Selection Configuration'\">\n</tc-tibco-cloud-widget-header>\n  <div fxFlex style=\"padding: 20px;\" fxLayout=\"column\">\n    <div fxLayout=\"row\" fxLayoutAlign=\"start start\" fxLayoutGap=\"5px\" style=\"height: 20px\">\n      <p>Choose the TIBCO Cloud Live Apps Applications to be used within this application:</p>\n      <mat-icon class=\"tcs-designer-link\" [svgIcon]=\"'tcs-application-edit'\" (click)=\"handleEditLiveAppClick()\" matTooltip=\"Open Live Apps Designer\" matTooltipShowDelay=\"1000\" matTooltipPosition=\"below\"></mat-icon>\n    </div>\n    <tcla-live-apps-application-list class=\"tcs-app-selection-list-widget\" fxFlex=\"grow\" [sandboxId]=\"sandboxId\" [selectedAppIds]=\"selectedAppIds\" (appIdsSelected)=\"handleAppIdSelection($event)\"></tcla-live-apps-application-list>\n    <div fxFlex class=\"tcs-filler-panel\"></div>\n    <div fxLayout=\"column\" fxLayoutAlign=\"end end\" style=\"min-height: 50px\">\n      <button mat-raised-button color=\"primary\" (click)=\"runSaveFunction()\">Save</button>\n    </div>\n  </div>\n</div>\n",
                    styles: [".tcs-designer-link{margin-bottom:10px}.tcs-designer-link:hover{fill:#0081cb;cursor:pointer}.tcs-app-selection-list-widget,.tcs-live-apps-settings-pane{overflow:hidden}"]
                }] }
    ];
    /** @nocollapse */
    LiveAppsSettingsComponent.ctorParameters = function () { return [
        { type: ActivatedRoute },
        { type: TcLiveAppsConfigService },
        { type: MatSnackBar }
    ]; };
    return LiveAppsSettingsComponent;
}(LiveAppsComponent));
export { LiveAppsSettingsComponent };
if (false) {
    /** @type {?} */
    LiveAppsSettingsComponent.prototype.LIVE_APPS_URL;
    /** @type {?} */
    LiveAppsSettingsComponent.prototype.sandboxId;
    /** @type {?} */
    LiveAppsSettingsComponent.prototype.selectedAppIds;
    /** @type {?} */
    LiveAppsSettingsComponent.prototype.liveAppsConfig;
    /** @type {?} */
    LiveAppsSettingsComponent.prototype.generalConfig;
    /** @type {?} */
    LiveAppsSettingsComponent.prototype.claims;
    /** @type {?} */
    LiveAppsSettingsComponent.prototype.handleEditLiveAppClick;
    /** @type {?} */
    LiveAppsSettingsComponent.prototype.runSaveFunction;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsSettingsComponent.prototype.route;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsSettingsComponent.prototype.liveAppsConfigService;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsSettingsComponent.prototype.snackBar;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1hcHBzLXNldHRpbmdzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0aWJjby10Y3N0ay90Yy1saXZlYXBwcy1saWIvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9saXZlLWFwcHMtc2V0dGluZ3MvbGl2ZS1hcHBzLXNldHRpbmdzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBQyxTQUFTLEVBQVMsTUFBTSxlQUFlLENBQUM7QUFDaEQsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLGlDQUFpQyxDQUFDO0FBQy9ELE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSxpQkFBaUIsQ0FBQztBQUUvQyxPQUFPLEVBQUMsdUJBQXVCLEVBQUMsTUFBTSw0Q0FBNEMsQ0FBQztBQUNuRixPQUFPLEVBQUMsaUJBQWlCLEVBQUMsTUFBTSxzREFBc0QsQ0FBQztBQUN2RixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7Ozs7Ozs7O0FBVWhEO0lBSytDLHFEQUFpQjtJQVU5RCxtQ0FBc0IsS0FBcUIsRUFBWSxxQkFBOEMsRUFBWSxRQUFxQjtRQUF0SSxZQUNFLGlCQUFPLFNBQ1I7UUFGcUIsV0FBSyxHQUFMLEtBQUssQ0FBZ0I7UUFBWSwyQkFBcUIsR0FBckIscUJBQXFCLENBQXlCO1FBQVksY0FBUSxHQUFSLFFBQVEsQ0FBYTtRQVJ0SSxtQkFBYSxHQUFHLCtDQUErQyxDQUFDO1FBcUJ6RCw0QkFBc0I7OztRQUFHO1lBQzlCLG1EQUFtRDtZQUNuRCx1RkFBdUY7WUFDdkYsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDbEMsQ0FBQyxFQUFBO1FBVU0scUJBQWU7OztRQUFHOztnQkFDakIsY0FBYyxHQUFHLElBQUksY0FBYyxFQUFFLENBQUMsV0FBVyxDQUFDO2dCQUN0RCxjQUFjLEVBQUUsS0FBSSxDQUFDLGNBQWM7Z0JBQ25DLGlCQUFpQixFQUFFLEtBQUksQ0FBQyxjQUFjLENBQUMsaUJBQWlCO2dCQUN4RCxhQUFhLEVBQUUsS0FBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhO2dCQUNoRCxrQkFBa0IsRUFBRSxLQUFJLENBQUMsY0FBYyxDQUFDLGFBQWE7YUFDdEQsQ0FBQztZQUNGLEtBQUksQ0FBQyxxQkFBcUIsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFJLENBQUMsU0FBUyxFQUFFLEtBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxFQUFFLGNBQWMsRUFBRSxLQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVM7Ozs7WUFDekksVUFBQSxNQUFNO2dCQUNGLEtBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLHNEQUFzRCxFQUFFLElBQUksRUFBRTtvQkFDN0UsUUFBUSxFQUFFLElBQUk7aUJBQ2pCLENBQUMsQ0FBQztZQUNQLENBQUM7Ozs7WUFDRCxVQUFBLEtBQUs7Z0JBQ0QsS0FBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsb0RBQW9ELEVBQUUsSUFBSSxFQUFFO29CQUMzRSxRQUFRLEVBQUUsSUFBSTtpQkFDakIsQ0FBQyxDQUFDO1lBQ1AsQ0FBQyxFQUNKLENBQUM7UUFDSixDQUFDLEVBQUE7O0lBNUNELENBQUM7Ozs7O0lBRVMsNERBQXdCOzs7O0lBQWxDO1FBQ0UsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUM7SUFDcEMsQ0FBQzs7Ozs7SUFFTSx3REFBb0I7Ozs7SUFBM0IsVUFBNEIsTUFBZ0I7UUFDMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDbEMsSUFBSSxDQUFDLGNBQWMsR0FBRyxNQUFNLENBQUM7SUFDL0IsQ0FBQzs7OztJQVFNLDRDQUFROzs7SUFBZjtRQUNFLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUM7UUFDM0UsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQztRQUM3RSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDOUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUMzRSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDO0lBQzNELENBQUM7O2dCQXhDRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLHlCQUF5QjtvQkFDbkMsNnVDQUFrRDs7aUJBRW5EOzs7O2dCQWxCTyxjQUFjO2dCQUVkLHVCQUF1QjtnQkFFdEIsV0FBVzs7SUF3RXBCLGdDQUFDO0NBQUEsQUE5REQsQ0FLK0MsaUJBQWlCLEdBeUQvRDtTQXpEWSx5QkFBeUI7OztJQUVwQyxrREFBZ0U7O0lBRWhFLDhDQUF5Qjs7SUFDekIsbURBQWdDOztJQUNoQyxtREFBc0M7O0lBQ3RDLGtEQUFvQzs7SUFDcEMsMkNBQXFCOztJQWVyQiwyREFJQzs7SUFVRCxvREFtQkM7Ozs7O0lBOUNXLDBDQUErQjs7Ozs7SUFBRSwwREFBd0Q7Ozs7O0lBQUUsNkNBQStCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnQsIE9uSW5pdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0xpdmVBcHBzQ29uZmlnfSBmcm9tICcuLi8uLi9tb2RlbHMvdGMtbGl2ZWFwcHMtY29uZmlnJztcbmltcG9ydCB7QWN0aXZhdGVkUm91dGV9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQge0dlbmVyYWxDb25maWcsIENsYWltLCBTYW5kYm94fSBmcm9tICdAdGliY28tdGNzdGsvdGMtY29yZS1saWInO1xuaW1wb3J0IHtUY0xpdmVBcHBzQ29uZmlnU2VydmljZX0gZnJvbSAnLi4vLi4vc2VydmljZXMvdGMtbGl2ZS1hcHBzLWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7TGl2ZUFwcHNDb21wb25lbnR9IGZyb20gJy4uL2xpdmUtYXBwcy1jb21wb25lbnQvbGl2ZS1hcHBzLWNvbXBvbmVudC5jb21wb25lbnQnO1xuaW1wb3J0IHsgTWF0U25hY2tCYXIgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5cblxuLyoqXG4gKiBBbGxvdyBTZWxlY3Rpb24gb2YgbGl2ZSBhcHBzIGFwcGxpY2F0aW9ucyAocGFydCBvZiBjb25maWcpXG4gKlxuICogIVthbHQtdGV4dF0oLi4vbGl2ZS1hcHBzLXNldHRpbmdzLnBuZyBcIlwiKVxuICpcbiAqQGV4YW1wbGUgPHRjbGEtbGl2ZS1hcHBzLXNldHRpbmdzPjwvdGNsYS1saXZlLWFwcHMtc2V0dGluZ3M+XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3RjbGEtbGl2ZS1hcHBzLXNldHRpbmdzJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2xpdmUtYXBwcy1zZXR0aW5ncy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2xpdmUtYXBwcy1zZXR0aW5ncy5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTGl2ZUFwcHNTZXR0aW5nc0NvbXBvbmVudCBleHRlbmRzIExpdmVBcHBzQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICBMSVZFX0FQUFNfVVJMID0gJy9hcHBzL2R0LWFwcC9pbmRleC5odG1sIy9hcHBsaWNhdGlvbi1jb250ZW50Lyc7XG5cbiAgcHVibGljIHNhbmRib3hJZDogbnVtYmVyO1xuICBwdWJsaWMgc2VsZWN0ZWRBcHBJZHM6IHN0cmluZ1tdO1xuICBwdWJsaWMgbGl2ZUFwcHNDb25maWc6IExpdmVBcHBzQ29uZmlnO1xuICBwdWJsaWMgZ2VuZXJhbENvbmZpZzogR2VuZXJhbENvbmZpZztcbiAgcHVibGljIGNsYWltczogQ2xhaW07XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSwgcHJvdGVjdGVkIGxpdmVBcHBzQ29uZmlnU2VydmljZTogVGNMaXZlQXBwc0NvbmZpZ1NlcnZpY2UsIHByb3RlY3RlZCBzbmFja0JhcjogTWF0U25hY2tCYXIpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldExpdmVBcHBzQ29uZmlnU2VydmljZSgpOiBUY0xpdmVBcHBzQ29uZmlnU2VydmljZSB7XG4gICAgcmV0dXJuIHRoaXMubGl2ZUFwcHNDb25maWdTZXJ2aWNlO1xuICB9XG5cbiAgcHVibGljIGhhbmRsZUFwcElkU2VsZWN0aW9uKGFwcElkczogc3RyaW5nW10pIHtcbiAgICBjb25zb2xlLmxvZygnU2VsZWN0ZWQ6ICcsIGFwcElkcyk7XG4gICAgdGhpcy5zZWxlY3RlZEFwcElkcyA9IGFwcElkcztcbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVFZGl0TGl2ZUFwcENsaWNrID0gKCkgPT4ge1xuICAgIC8vIHdpbmRvdy5vcGVuKHRoaXMuTElWRV9BUFBTX1VSTCArIGFwcGxpY2F0aW9uSWQpO1xuICAgIC8vIGN1cnJlbnRseSBubyBwdWJsaWMgQVBJIHRvIGdldCB0aGUgYXBwSWQgdmVyc2lvbiBmb3IgZGVzaWduIHRpbWUgdG8gcG9wdWxhdGUgdGhlIFVSTFxuICAgIHdpbmRvdy5vcGVuKHRoaXMuTElWRV9BUFBTX1VSTCk7XG4gIH1cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5nZW5lcmFsQ29uZmlnID0gdGhpcy5yb3V0ZS5zbmFwc2hvdC5kYXRhLmxhQ29uZmlnSG9sZGVyLmdlbmVyYWxDb25maWc7XG4gICAgdGhpcy5saXZlQXBwc0NvbmZpZyA9IHRoaXMucm91dGUuc25hcHNob3QuZGF0YS5sYUNvbmZpZ0hvbGRlci5saXZlQXBwc0NvbmZpZztcbiAgICB0aGlzLmNsYWltcyA9IHRoaXMucm91dGUuc25hcHNob3QuZGF0YS5jbGFpbXM7XG4gICAgdGhpcy5zYW5kYm94SWQgPSBOdW1iZXIodGhpcy5jbGFpbXMucHJpbWFyeVByb2R1Y3Rpb25TYW5kYm94LmlkKS52YWx1ZU9mKCk7XG4gICAgdGhpcy5zZWxlY3RlZEFwcElkcyA9IHRoaXMubGl2ZUFwcHNDb25maWcuYXBwbGljYXRpb25JZHM7XG4gIH1cblxuICBwdWJsaWMgcnVuU2F2ZUZ1bmN0aW9uID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGxpdmVBcHBzQ29uZmlnID0gbmV3IExpdmVBcHBzQ29uZmlnKCkuZGVzZXJpYWxpemUoe1xuICAgICAgYXBwbGljYXRpb25JZHM6IHRoaXMuc2VsZWN0ZWRBcHBJZHMsXG4gICAgICBjYXNlSWNvbnNGb2xkZXJJZDogdGhpcy5saXZlQXBwc0NvbmZpZy5jYXNlSWNvbnNGb2xkZXJJZCxcbiAgICAgIGRvY3VtZW50QXBwSWQ6IHRoaXMubGl2ZUFwcHNDb25maWcuZG9jdW1lbnRBcHBJZCxcbiAgICAgIGNvbGxhYm9yYXRpb25BcHBJZDogdGhpcy5saXZlQXBwc0NvbmZpZy5kb2N1bWVudEFwcElkXG4gICAgfSk7XG4gICAgdGhpcy5saXZlQXBwc0NvbmZpZ1NlcnZpY2UudXBkYXRlTGl2ZUFwcHNDb25maWcodGhpcy5zYW5kYm94SWQsIHRoaXMuZ2VuZXJhbENvbmZpZy51aUFwcElkLCBsaXZlQXBwc0NvbmZpZywgdGhpcy5saXZlQXBwc0NvbmZpZy5pZCkuc3Vic2NyaWJlKFxuICAgICAgICByZXN1bHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5zbmFja0Jhci5vcGVuKCdMaXZlIEFwcHMgQXBwIFNlbGVjdGlvbiBDb25maWd1cmF0aW9uIHNldHRpbmdzIHNhdmVkJywgJ09LJywge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy5zbmFja0Jhci5vcGVuKCdFcnJvciBzYXZpbmcgTGl2ZSBBcHBzIEFwcCBTZWxlY3Rpb24gQ29uZmlndXJhdGlvbicsICdPSycsIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICApO1xuICB9XG59XG5cbiJdfQ==