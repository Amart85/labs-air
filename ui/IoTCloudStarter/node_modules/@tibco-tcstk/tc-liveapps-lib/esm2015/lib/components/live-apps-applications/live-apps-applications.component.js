/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { LiveAppsService } from '../../services/live-apps.service';
import { CaseType, CaseTypesList } from '../../models/liveappsdata';
import { map, take, takeUntil } from 'rxjs/operators';
import { LiveAppsComponent } from '../live-apps-component/live-apps-component.component';
/**
 * Lists live apps applications in drop down list allowing selection of app
 *
 * ![alt-text](../live-apps-applications.png "Image")
 *
 * \@example <tcla-live-apps-applications></tcla-live-apps-applications>
 */
export class LiveAppsApplicationsComponent extends LiveAppsComponent {
    /**
     * @param {?} liveapps
     */
    constructor(liveapps) {
        super();
        this.liveapps = liveapps;
        /**
         * Application selected from dropdown (output)
         */
        this.selectedApp = this.selectedApp ? this.selectedApp : new CaseType();
        /**
         * ~event selection : Value selected in child component
         * ~payload CaseType : type varies.  but is when something is selected in a drop down it is passed back to the caller
         */
        this.selection = new EventEmitter();
        this.applications = new CaseTypesList();
        this.changeAppSelection = (/**
         * @param {?} appSelected
         * @return {?}
         */
        (appSelected) => {
            this.selectedApp = this.applications.casetypes.find((/**
             * @param {?} casetype
             * @return {?}
             */
            (casetype) => {
                return casetype.applicationId === appSelected.applicationId;
            }));
        });
        this.selectApplication = (/**
         * @param {?} selectionEvent
         * @return {?}
         */
        (selectionEvent) => {
            this.selectedApp = selectionEvent.source.value;
            this.selection.emit(selectionEvent.source.value);
        });
        this.refresh = (/**
         * @param {?} bypassCache
         * @return {?}
         */
        (bypassCache) => {
            this.liveapps.getApplications(this.sandboxId, this.appIds, 100, bypassCache)
                .pipe(take(1), takeUntil(this._destroyed$), map((/**
             * @param {?} applicationList
             * @return {?}
             */
            applicationList => {
                this.applications = applicationList;
                if (this.selectedApp.applicationId) {
                    this.selectedApp = applicationList.casetypes.find((/**
                     * @param {?} casetype
                     * @return {?}
                     */
                    (casetype) => {
                        return casetype.applicationId === this.selectedApp.applicationId;
                    }));
                    // this.selection.emit(this.selectedApp);
                }
                else 
                // select first as default
                if (applicationList.casetypes.length > 0 && this.selectFirstApp) {
                    this.selectedApp = applicationList.casetypes[0];
                    this.selection.emit(applicationList.casetypes[0]);
                }
            })))
                .subscribe(null, (/**
             * @param {?} error
             * @return {?}
             */
            error => { this.errorMessage = 'Error retrieving applications: ' + error.error.errorMsg; }));
        });
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.refresh(false);
    }
}
LiveAppsApplicationsComponent.decorators = [
    { type: Component, args: [{
                selector: 'tcla-live-apps-applications',
                template: "<div class=\"tcs-application-selector\" fxFlex style=\"margin-left: 10px;\">\n    <mat-label></mat-label>\n    <mat-select *ngIf=\"selectedApp\" class=\"tcs-application-selector-option\" [disableOptionCentering]=\"true\" placeholder=\"Application\" [(value)]=\"selectedApp\" (selectionChange)=\"selectApplication($event)\" matTooltip=\"{{selectedApp.applicationName}}\" matTooltipShowDelay=\"1000\" matTooltipPosition=\"below\">\n      <mat-option *ngFor=\"let application of applications.casetypes\" [value]=\"application\">\n        {{application.label | ellipsis : 20}}\n      </mat-option>\n    </mat-select>\n</div>\n\n\n\n<!--div *ngIf=\"errorMessage\">{{errorMessage}}</div>\n<div *ngIf=\"applications\" class=\"la-applications-div\" fxLayoutAlign=\"space-around start\">\n  <div class=\"la-applications-card\" fxLayout=\"column\">\n    <h3>Select application:</h3>\n    <div class=\"la-application-selection\">\n      <div class=\"la-available-sub\" (click)=\"selectApplication(application)\" *ngFor=\"let application of applications.casetypes\">\n        <div class=\"la-application-name\">{{application.applicationName}}</div>\n        <div fxLayout=\"column\" class=\"la-application-selection-dtl\" fxLayoutAlign=\"start start\">\n          <div>Application Id: {{application.applicationId}}</div>\n          <div>Type Id: {{application.id}}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div-->\n",
                styles: ["::ng-deep .tcs-application-selector .mat-form-field-underline{display:none}:host ::ng-deep .mat-select-value{min-width:100px;max-width:100%;width:auto}.la-applications-div{margin-top:50px}.la-applications-card{width:500px}.la-available-sub:hover{box-shadow:0 7px 14px 0 rgba(0,0,0,.3);-webkit-transition:.2s ease-in-out;transition:.2s ease-in-out;cursor:pointer}.la-available-sub{border:1px solid #dedede;border-radius:4px;box-shadow:0 1px 4px 0 rgba(0,0,0,.1);padding:20px 31px 31px;margin-top:5px;margin-bottom:5px}.la-application-name{font-size:18px;font-weight:700}:host ::ng-deep .tcs-application-selector-option .mat-select-value span{font-family:Source Sans Pro;font-size:16px;font-weight:400;font-style:normal;font-stretch:normal;line-height:1.5;letter-spacing:.3px;color:#0081cb}:host ::ng-deep .tcs-application-selector-option .mat-select-arrow-wrapper div{color:#0081cb}"]
            }] }
];
/** @nocollapse */
LiveAppsApplicationsComponent.ctorParameters = () => [
    { type: LiveAppsService }
];
LiveAppsApplicationsComponent.propDecorators = {
    sandboxId: [{ type: Input }],
    appIds: [{ type: Input }],
    selectFirstApp: [{ type: Input }],
    selectedApp: [{ type: Input }],
    selection: [{ type: Output }]
};
if (false) {
    /**
     * sandboxId - this comes from claims resolver
     * @type {?}
     */
    LiveAppsApplicationsComponent.prototype.sandboxId;
    /**
     * The list of LA Application IDs you want to handle
     * @type {?}
     */
    LiveAppsApplicationsComponent.prototype.appIds;
    /**
     * Whether to auto select the first app in dropdown selector (eg search)
     * @type {?}
     */
    LiveAppsApplicationsComponent.prototype.selectFirstApp;
    /**
     * Application selected from dropdown (output)
     * @type {?}
     */
    LiveAppsApplicationsComponent.prototype.selectedApp;
    /**
     * ~event selection : Value selected in child component
     * ~payload CaseType : type varies.  but is when something is selected in a drop down it is passed back to the caller
     * @type {?}
     */
    LiveAppsApplicationsComponent.prototype.selection;
    /** @type {?} */
    LiveAppsApplicationsComponent.prototype.applications;
    /** @type {?} */
    LiveAppsApplicationsComponent.prototype.errorMessage;
    /** @type {?} */
    LiveAppsApplicationsComponent.prototype.changeAppSelection;
    /** @type {?} */
    LiveAppsApplicationsComponent.prototype.selectApplication;
    /** @type {?} */
    LiveAppsApplicationsComponent.prototype.refresh;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsApplicationsComponent.prototype.liveapps;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1hcHBzLWFwcGxpY2F0aW9ucy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGliY28tdGNzdGsvdGMtbGl2ZWFwcHMtbGliLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvbGl2ZS1hcHBzLWFwcGxpY2F0aW9ucy9saXZlLWFwcHMtYXBwbGljYXRpb25zLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBRUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFxQixNQUFNLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDeEYsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLGtDQUFrQyxDQUFDO0FBQ2pFLE9BQU8sRUFBVyxRQUFRLEVBQUUsYUFBYSxFQUFDLE1BQU0sMkJBQTJCLENBQUM7QUFDNUUsT0FBTyxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFFcEQsT0FBTyxFQUFDLGlCQUFpQixFQUFDLE1BQU0sc0RBQXNELENBQUM7Ozs7Ozs7O0FBaUJ2RixNQUFNLE9BQU8sNkJBQThCLFNBQVEsaUJBQWlCOzs7O0lBZ0NsRSxZQUFzQixRQUF5QjtRQUM3QyxLQUFLLEVBQUUsQ0FBQztRQURZLGFBQVEsR0FBUixRQUFRLENBQWlCOzs7O1FBYnRDLGdCQUFXLEdBQWEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxRQUFRLEVBQUUsQ0FBQzs7Ozs7UUFPNUUsY0FBUyxHQUEyQixJQUFJLFlBQVksRUFBWSxDQUFDO1FBRTNFLGlCQUFZLEdBQWtCLElBQUksYUFBYSxFQUFFLENBQUM7UUFRbEQsdUJBQWtCOzs7O1FBQUcsQ0FBQyxXQUFxQixFQUFFLEVBQUU7WUFDN0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJOzs7O1lBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTtnQkFDL0QsT0FBTyxRQUFRLENBQUMsYUFBYSxLQUFLLFdBQVcsQ0FBQyxhQUFhLENBQUM7WUFDOUQsQ0FBQyxFQUFDLENBQUM7UUFDTCxDQUFDLEVBQUE7UUFFRCxzQkFBaUI7Ozs7UUFBRyxDQUFDLGNBQWMsRUFBRSxFQUFFO1lBQ3JDLElBQUksQ0FBQyxXQUFXLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDL0MsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxDQUFDLEVBQUE7UUFFTSxZQUFPOzs7O1FBQUcsQ0FBQyxXQUFvQixFQUFFLEVBQUU7WUFDeEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLENBQUM7aUJBQ3pFLElBQUksQ0FDSCxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ1AsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFDM0IsR0FBRzs7OztZQUFDLGVBQWUsQ0FBQyxFQUFFO2dCQUNwQixJQUFJLENBQUMsWUFBWSxHQUFHLGVBQWUsQ0FBQztnQkFDcEMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRTtvQkFDbEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxlQUFlLENBQUMsU0FBUyxDQUFDLElBQUk7Ozs7b0JBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTt3QkFDN0QsT0FBTyxRQUFRLENBQUMsYUFBYSxLQUFLLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDO29CQUNuRSxDQUFDLEVBQUMsQ0FBQztvQkFDSCx5Q0FBeUM7aUJBQzFDOztnQkFDRCwwQkFBMEI7Z0JBQ3hCLElBQUksZUFBZSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7b0JBQy9ELElBQUksQ0FBQyxXQUFXLEdBQUcsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDaEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNyRDtZQUNILENBQUMsRUFBQyxDQUNIO2lCQUNBLFNBQVMsQ0FBQyxJQUFJOzs7O1lBQUUsS0FBSyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsWUFBWSxHQUFHLGlDQUFpQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUM7UUFDakgsQ0FBQyxFQUFBO0lBbENELENBQUM7Ozs7SUFvQ0QsUUFBUTtRQUNOLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEIsQ0FBQzs7O1lBOUVGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsNkJBQTZCO2dCQUN2QywwNUNBQXNEOzthQUV2RDs7OztZQW5CTyxlQUFlOzs7d0JBeUJwQixLQUFLO3FCQUtMLEtBQUs7NkJBS0wsS0FBSzswQkFLTCxLQUFLO3dCQU9MLE1BQU07Ozs7Ozs7SUF0QlAsa0RBQTJCOzs7OztJQUszQiwrQ0FBMEI7Ozs7O0lBSzFCLHVEQUFpQzs7Ozs7SUFLakMsb0RBQXNGOzs7Ozs7SUFPdEYsa0RBQTJFOztJQUUzRSxxREFBa0Q7O0lBRWxELHFEQUFxQjs7SUFNckIsMkRBSUM7O0lBRUQsMERBR0M7O0lBRUQsZ0RBcUJDOzs7OztJQXBDVyxpREFBbUMiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuaW1wb3J0IHtDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uRGVzdHJveSwgT25Jbml0LCBPdXRwdXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtMaXZlQXBwc1NlcnZpY2V9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2xpdmUtYXBwcy5zZXJ2aWNlJztcbmltcG9ydCB7Q2FzZUluZm8sIENhc2VUeXBlLCBDYXNlVHlwZXNMaXN0fSBmcm9tICcuLi8uLi9tb2RlbHMvbGl2ZWFwcHNkYXRhJztcbmltcG9ydCB7bWFwLCB0YWtlLCB0YWtlVW50aWx9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge0xpdmVBcHBzQ29tcG9uZW50fSBmcm9tICcuLi9saXZlLWFwcHMtY29tcG9uZW50L2xpdmUtYXBwcy1jb21wb25lbnQuY29tcG9uZW50JztcblxuXG4vKipcbiAqIExpc3RzIGxpdmUgYXBwcyBhcHBsaWNhdGlvbnMgaW4gZHJvcCBkb3duIGxpc3QgYWxsb3dpbmcgc2VsZWN0aW9uIG9mIGFwcFxuICpcbiAqICFbYWx0LXRleHRdKC4uL2xpdmUtYXBwcy1hcHBsaWNhdGlvbnMucG5nIFwiSW1hZ2VcIilcbiAqXG4gKkBleGFtcGxlIDx0Y2xhLWxpdmUtYXBwcy1hcHBsaWNhdGlvbnM+PC90Y2xhLWxpdmUtYXBwcy1hcHBsaWNhdGlvbnM+XG4gKi9cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGNsYS1saXZlLWFwcHMtYXBwbGljYXRpb25zJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2xpdmUtYXBwcy1hcHBsaWNhdGlvbnMuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9saXZlLWFwcHMtYXBwbGljYXRpb25zLmNvbXBvbmVudC5jc3MnXVxufSlcblxuZXhwb3J0IGNsYXNzIExpdmVBcHBzQXBwbGljYXRpb25zQ29tcG9uZW50IGV4dGVuZHMgTGl2ZUFwcHNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAvKipcbiAgICogc2FuZGJveElkIC0gdGhpcyBjb21lcyBmcm9tIGNsYWltcyByZXNvbHZlclxuICAgKi9cbiAgQElucHV0KCkgc2FuZGJveElkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIExBIEFwcGxpY2F0aW9uIElEcyB5b3Ugd2FudCB0byBoYW5kbGVcbiAgICovXG4gIEBJbnB1dCgpIGFwcElkczogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gYXV0byBzZWxlY3QgdGhlIGZpcnN0IGFwcCBpbiBkcm9wZG93biBzZWxlY3RvciAoZWcgc2VhcmNoKVxuICAgKi9cbiAgQElucHV0KCkgc2VsZWN0Rmlyc3RBcHA6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFwcGxpY2F0aW9uIHNlbGVjdGVkIGZyb20gZHJvcGRvd24gKG91dHB1dClcbiAgICovXG4gIEBJbnB1dCgpIHNlbGVjdGVkQXBwOiBDYXNlVHlwZSA9IHRoaXMuc2VsZWN0ZWRBcHAgPyB0aGlzLnNlbGVjdGVkQXBwIDogbmV3IENhc2VUeXBlKCk7XG5cblxuICAvKipcbiAgICogfmV2ZW50IHNlbGVjdGlvbiA6IFZhbHVlIHNlbGVjdGVkIGluIGNoaWxkIGNvbXBvbmVudFxuICAgKiB+cGF5bG9hZCBDYXNlVHlwZSA6IHR5cGUgdmFyaWVzLiAgYnV0IGlzIHdoZW4gc29tZXRoaW5nIGlzIHNlbGVjdGVkIGluIGEgZHJvcCBkb3duIGl0IGlzIHBhc3NlZCBiYWNrIHRvIHRoZSBjYWxsZXJcbiAgICovXG4gIEBPdXRwdXQoKSBzZWxlY3Rpb246IEV2ZW50RW1pdHRlcjxDYXNlVHlwZT4gPSBuZXcgRXZlbnRFbWl0dGVyPENhc2VUeXBlPigpO1xuXG4gIGFwcGxpY2F0aW9uczogQ2FzZVR5cGVzTGlzdCA9IG5ldyBDYXNlVHlwZXNMaXN0KCk7XG4gIC8vIHNlbGVjdGVkQXBwOiBDYXNlVHlwZSA9IG5ldyBDYXNlVHlwZSgpO1xuICBlcnJvck1lc3NhZ2U6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgbGl2ZWFwcHM6IExpdmVBcHBzU2VydmljZSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBjaGFuZ2VBcHBTZWxlY3Rpb24gPSAoYXBwU2VsZWN0ZWQ6IENhc2VUeXBlKSA9PiB7XG4gICAgdGhpcy5zZWxlY3RlZEFwcCA9IHRoaXMuYXBwbGljYXRpb25zLmNhc2V0eXBlcy5maW5kKChjYXNldHlwZSkgPT4ge1xuICAgICAgcmV0dXJuIGNhc2V0eXBlLmFwcGxpY2F0aW9uSWQgPT09IGFwcFNlbGVjdGVkLmFwcGxpY2F0aW9uSWQ7XG4gICAgfSk7XG4gIH1cblxuICBzZWxlY3RBcHBsaWNhdGlvbiA9IChzZWxlY3Rpb25FdmVudCkgPT4ge1xuICAgIHRoaXMuc2VsZWN0ZWRBcHAgPSBzZWxlY3Rpb25FdmVudC5zb3VyY2UudmFsdWU7XG4gICAgdGhpcy5zZWxlY3Rpb24uZW1pdChzZWxlY3Rpb25FdmVudC5zb3VyY2UudmFsdWUpO1xuICB9XG5cbiAgcHVibGljIHJlZnJlc2ggPSAoYnlwYXNzQ2FjaGU6IGJvb2xlYW4pID0+IHtcbiAgICB0aGlzLmxpdmVhcHBzLmdldEFwcGxpY2F0aW9ucyh0aGlzLnNhbmRib3hJZCwgdGhpcy5hcHBJZHMsIDEwMCwgYnlwYXNzQ2FjaGUpXG4gICAgICAucGlwZShcbiAgICAgICAgdGFrZSgxKSxcbiAgICAgICAgdGFrZVVudGlsKHRoaXMuX2Rlc3Ryb3llZCQpLFxuICAgICAgICBtYXAoYXBwbGljYXRpb25MaXN0ID0+IHtcbiAgICAgICAgICB0aGlzLmFwcGxpY2F0aW9ucyA9IGFwcGxpY2F0aW9uTGlzdDtcbiAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEFwcC5hcHBsaWNhdGlvbklkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQXBwID0gYXBwbGljYXRpb25MaXN0LmNhc2V0eXBlcy5maW5kKChjYXNldHlwZSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gY2FzZXR5cGUuYXBwbGljYXRpb25JZCA9PT0gdGhpcy5zZWxlY3RlZEFwcC5hcHBsaWNhdGlvbklkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB0aGlzLnNlbGVjdGlvbi5lbWl0KHRoaXMuc2VsZWN0ZWRBcHApO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgIC8vIHNlbGVjdCBmaXJzdCBhcyBkZWZhdWx0XG4gICAgICAgICAgICBpZiAoYXBwbGljYXRpb25MaXN0LmNhc2V0eXBlcy5sZW5ndGggPiAwICYmIHRoaXMuc2VsZWN0Rmlyc3RBcHApIHtcbiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEFwcCA9IGFwcGxpY2F0aW9uTGlzdC5jYXNldHlwZXNbMF07XG4gICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmVtaXQoYXBwbGljYXRpb25MaXN0LmNhc2V0eXBlc1swXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZShudWxsLCBlcnJvciA9PiB7IHRoaXMuZXJyb3JNZXNzYWdlID0gJ0Vycm9yIHJldHJpZXZpbmcgYXBwbGljYXRpb25zOiAnICsgZXJyb3IuZXJyb3IuZXJyb3JNc2c7IH0pO1xuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5yZWZyZXNoKGZhbHNlKTtcbiAgfVxuXG59XG4iXX0=