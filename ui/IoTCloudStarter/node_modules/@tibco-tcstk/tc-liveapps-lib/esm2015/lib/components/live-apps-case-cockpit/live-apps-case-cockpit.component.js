/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ContentChildren, EventEmitter, Input, Output, ViewChild, ViewChildren } from '@angular/core';
import { Router } from '@angular/router';
import { map, take, takeUntil } from 'rxjs/operators';
import { Subject } from 'rxjs';
import { LiveAppsCaseActionsComponent } from '../live-apps-case-actions/live-apps-case-actions.component';
import { LiveAppsCaseAuditComponent } from '../live-apps-case-audit/live-apps-case-audit.component';
import { LiveAppsCaseDataComponent } from '../live-apps-case-data/live-apps-case-data.component';
import { LiveAppsCaseStateAuditComponent } from '../live-apps-case-state-audit/live-apps-case-state-audit.component';
import { LiveAppsCaseStatesComponent } from '../live-apps-case-states/live-apps-case-states.component';
import { LiveAppsDocumentsComponent } from '../live-apps-documents/live-apps-documents.component';
import { LiveAppsNotesComponent } from '../live-apps-notes/live-apps-notes.component';
import { LiveAppsCaseSummaryComponent } from '../live-apps-case-summary/live-apps-case-summary.component';
import { LiveAppsService } from '../../services/live-apps.service';
import { TcButtonsHelperService } from '@tibco-tcstk/tc-core-lib';
import { MatTabGroup } from '@angular/material';
import { QueryList } from '@angular/core';
import { RouteAction } from '@tibco-tcstk/tc-core-lib';
import { Roles, RouteAccessControlConfig } from '../../models/tc-groups-data';
import { TcRolesService } from '../../services/tc-roles-service.ts.service';
import { CustomFormDefs } from '@tibco-tcstk/tc-forms-lib';
/**
 * High level component to allow interaction with case.
 *
 *  ![alt-text](../live-apps-case-cockpit.png "Image")
 *
 * \@example <tcla-live-apps-case-cockpit></tcla-live-apps-case-cockpit>
 */
export class LiveAppsCaseCockpitComponent {
    /**
     * @param {?} liveapps
     * @param {?} buttonsHelper
     * @param {?} router
     * @param {?} rolesService
     */
    constructor(liveapps, buttonsHelper, router, rolesService) {
        this.liveapps = liveapps;
        this.buttonsHelper = buttonsHelper;
        this.router = router;
        this.rolesService = rolesService;
        // this default layout displays all data but will hide buttons
        this.DEFAULT_CASE_DATA_LAYOUT = [
            '*',
            { type: 'submit', title: 'Save', condition: '1===2' },
            { type: 'actions', title: 'Hidden', condition: '1===2' }
        ];
        /**
         * Layout object that can be passed to override default layout of the form renderer
         */
        this.layout = this.layout ? this.layout : this.DEFAULT_CASE_DATA_LAYOUT;
        /**
         * Whether to show notes in context panel (default true)
         */
        this.showNotes = this.showNotes ? this.showNotes : true;
        /**
         * Whether to show documents in context panel (default true)
         */
        this.showDocuments = this.showDocuments ? this.showDocuments : true;
        /**
         * Whether to show states in context panel (default true)
         */
        this.showStates = this.showStates ? this.showStates : true;
        /**
         * Whether to show audit in context panel (default true)
         */
        this.showAudit = this.showAudit ? this.showAudit : true;
        /**
         * ~event routeAction : Component requests route to another page
         * ~payload RouteAction : RouteAction object to tell caller to navigate somewhere
         */
        this.routeAction = new EventEmitter();
        this.valid = false;
        this.toolbarButtons = [];
        this.incConfigButton = true;
        this.incFavButton = true;
        this.incRefreshButton = true;
        this.incHomeButton = true;
        this.dataTabActive = 0;
        this.actionTabActive = false;
        // use the _destroyed$/takeUntil pattern to avoid memory leaks if a response was never received
        this._destroyed$ = new Subject();
        this.createToolbarButtons = (/**
         * @return {?}
         */
        () => {
            /** @type {?} */
            const buttons = [];
            if (this.incConfigButton) {
                /** @type {?} */
                const configButton = this.buttonsHelper.createButton('config', 'tcs-capabilities', true, 'Config', (this.access ? this.rolesService.checkButton('configure', this.roles, this.access) : true), true);
                buttons.push(configButton);
            }
            if (this.incFavButton) {
                /** @type {?} */
                const favButton = this.buttonsHelper.createButton('favorite', 'tcs-favorites-icon', this.isFavorite, 'Toggle Favorite', (this.access ? this.rolesService.checkButton('favorite', this.roles, this.access) : true), true);
                buttons.push(favButton);
            }
            if (this.incRefreshButton) {
                /** @type {?} */
                const refreshButton = this.buttonsHelper.createButton('refresh', 'tcs-refresh-icon', true, 'Refresh', (this.access ? this.rolesService.checkButton('refresh', this.roles, this.access) : true), true);
                buttons.push(refreshButton);
            }
            if (this.incHomeButton) {
                /** @type {?} */
                const homeButton = this.buttonsHelper.createButton('close', 'tcs-close-icon', true, 'Close', true, true);
                buttons.push(homeButton);
            }
            return buttons;
        });
        this.handleToolbarButtonEvent = (/**
         * @param {?} buttonId
         * @return {?}
         */
        (buttonId) => {
            if (buttonId === 'favorite') {
                this.toggleFavorite();
            }
            if (buttonId === 'refresh') {
                this.refresh();
            }
            if (buttonId === 'close') {
                this.routeAction.emit(new RouteAction('backClicked', null));
            }
            if (buttonId === 'config') {
                this.routeAction.emit(new RouteAction('configClicked', null));
            }
        });
        this.handleActionSelection = (/**
         * @param {?} actionSelection
         * @return {?}
         */
        (actionSelection) => {
            this.caseActionsComponent.toggleEnable();
            this.actionSelection = actionSelection;
        });
        this.actionTabCreated = (/**
         * @param {?} data
         * @return {?}
         */
        (data) => {
            // the tab isn't actually in the tab-group at this point but this should still work as length is current tab + 1
            this.dataTabGroups.selectedIndex = this.dataTabGroups._tabs.length;
            this.actionTabId = this.dataTabGroups._tabs.length;
            this.actionTabActive = true;
        });
        this.handleCancelAction = (/**
         * @return {?}
         */
        () => {
            this.actionSelection = undefined;
            this.caseActionsComponent.toggleEnable();
        });
        this.handleActionCompleted = (/**
         * @param {?} processId
         * @return {?}
         */
        (processId) => {
            this.actionSelection = undefined;
            this.caseActionsComponent.toggleEnable();
            // to allow case to update async before we refresh
            setTimeout((/**
             * @return {?}
             */
            () => {
                this.refresh();
            }), 1000);
        });
        this.handleDataTabChanged = (/**
         * @param {?} tabNumber
         * @return {?}
         */
        (tabNumber) => {
            this.dataTabId = tabNumber;
            if (tabNumber === this.actionTabId) {
                this.actionTabActive = true;
            }
            else {
                this.actionTabActive = false;
            }
        });
        this.refresh = (/**
         * @return {?}
         */
        () => {
            if (this.caseSummaryComponent) {
                this.caseSummaryComponent.refresh();
            }
            if (this.caseDataComponent) {
                this.caseDataComponent.refresh();
            }
            if (this.caseStatesComponent) {
                this.caseStatesComponent.refresh();
            }
            if (this.caseActionsComponent) {
                this.caseActionsComponent.refresh();
            }
            if (this.caseAuditComponent) {
                this.caseAuditComponent.refresh();
            }
            if (this.caseStateAuditComponent) {
                this.caseStateAuditComponent.refresh();
            }
            if (this.caseStatesComponent) {
                this.caseStatesComponent.refresh();
            }
            if (this.caseDocumentsComponent) {
                this.caseDocumentsComponent.refresh();
            }
            if (this.caseNotesComponent) {
                this.caseNotesComponent.refresh();
            }
        });
        this.toggleFavorite = (/**
         * @return {?}
         */
        () => {
            this.liveapps.setFavoriteCase(this.caseRef, this.uiAppId, this.sandboxId);
            this.isFavorite = !this.isFavorite;
            /** @type {?} */
            const updatedFavButton = this.buttonsHelper.createButton('favorite', 'tcs-favorites-icon', this.isFavorite, 'Toggle Favorite', true, true);
            this.toolbarButtons = this.buttonsHelper.updateButtons([updatedFavButton], this.toolbarButtons);
        });
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        if (!isNaN(Number(this.caseRef))) {
            // dont set recent if it is in the exclude app list
            if (!this.exclRecentAppIds || (this.exclRecentAppIds.indexOf(this.appId) === -1)) {
                this.liveapps.setRecentCase(this.caseRef, this.uiAppId, this.sandboxId);
            }
            this.valid = true;
        }
        if (this.incFavButton) {
            this.liveapps.isFavoriteCase(this.caseRef, this.uiAppId, this.sandboxId)
                .pipe(take(1), takeUntil(this._destroyed$), map((/**
             * @param {?} result
             * @return {?}
             */
            result => {
                this.isFavorite = result;
                this.toolbarButtons = this.toolbarButtons.concat(this.createToolbarButtons());
                return result;
            })))
                .subscribe(null, (/**
             * @param {?} error
             * @return {?}
             */
            error => {
                this.errorMessage = 'Error retrieving isFavorite: ' + error.error.errorMsg;
            }));
        }
        else {
            this.toolbarButtons = this.toolbarButtons.concat(this.createToolbarButtons());
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this._destroyed$.next();
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        this.matTabGroup._tabs.reset([...this.inclusiveTabs.toArray(), ...this.tabsFromNgContent.toArray()]);
        // this.matTabGroup.afterViewInit();
    }
}
LiveAppsCaseCockpitComponent.decorators = [
    { type: Component, args: [{
                selector: 'tcla-live-apps-case-cockpit',
                template: "<div fxFill fxLayout=\"column\" fxLayoutAlign=\"space-between stretch\" style=\"overflow: hidden\">\n  <tc-tibco-cloud-menu-bar [toolbarButtons]=\"toolbarButtons\" (toolbarButtonEvent)=\"handleToolbarButtonEvent($event)\">\n    <!-- this is content projection. Tibco cloud menu bar contains ng-template and content here is projected inside the ng-content -->\n    <tcla-live-apps-case-summary fxFlex class=\"live-apps-widget\" [uiAppId]=\"uiAppId\" [typeBar]=\"true\" [borderCard]=\"false\" [displayType]=\"'staticlist'\" [sandboxId]=\"sandboxId\" [caseRef]=\"caseRef\"></tcla-live-apps-case-summary>\n    <ng-content select=\"[customToolbarContent]\" fxFlex></ng-content>\n  </tc-tibco-cloud-menu-bar>\n  <div *ngIf=\"valid\" fxLayout=\"column\" fxFlex fxFill style=\"padding: 20px; overflow: hidden;\">\n    <div fxLayout=\"row\" fxLayoutAlign=\"start start\">\n      <tcla-live-apps-case-states fxFlex [sandboxId]=\"sandboxId\" [caseRef]=\"caseRef\" [appId]=\"appId\"></tcla-live-apps-case-states>\n    </div>\n\n    <div fxLayout=\"row\" fxLayoutAlign=\"end center\" class=\"tcs-actions-bar\">\n      <tcla-live-apps-case-actions [sandboxId]=\"sandboxId\" [typeId]=\"typeId\" [appId]=\"appId\" [caseRef]=\"caseRef\" [caseState]=\"'Created'\" [maxActions]=\"5\" (actionClicked)=\"handleActionSelection($event)\"></tcla-live-apps-case-actions>\n    </div>\n    <div fxLayout=\"row\" style=\"overflow: hidden; height: 100%\">\n      <div fxFlex fxLayoutGap=\"20px\" fxLayout.gt-md=\"row\" fxLayout.lt-lg=\"column\" ngStyle.lt-lg=\"overflow: auto\">\n        <div fxLayout=\"column\" fxFlex.gt-md=\"1 0 50\" fxFlex.lt-lg=\"none\">\n          <mat-tab-group #dataTabGroup [ngStyle]=\"{ 'height': !actionTabActive ? '100%' : '0%' }\" style=\"overflow: hidden; min-height: 49px\" (selectedIndexChange)=\"handleDataTabChanged($event)\">\n            <mat-tab label=\"Case Data\">\n              <ng-template matTabContent>\n                <tcla-live-apps-case-data class=\"live-apps-widget\" fxFill [caseRef]=\"caseRef\" [sandboxId]=\"sandboxId\" [uiAppId]=\"uiAppId\" [appId]=\"appId\" [typeId]=\"typeId\" [layout]=\"layout\" [showHeader]=\"false\" [customFormDefs]=\"customFormDefs\"></tcla-live-apps-case-data>\n              </ng-template>\n            </mat-tab>\n            <mat-tab #actionTab *ngIf=\"actionSelection\" tcOnCreate (fireCreated)=\"actionTabCreated($event)\">\n              <ng-template mat-tab-label>\n                {{actionSelection?.process?.name ? actionSelection.process.name : 'Action' }}\n                <mat-icon fxLayoutAlign=\"end start\" class=\"tcs-cancel-action-button\" [svgIcon]=\"'tcs-close-icon'\" (click)=\"handleCancelAction()\"></mat-icon>\n              </ng-template>\n            </mat-tab>\n          </mat-tab-group>\n          <!-- using a hidden tab for actions so they are NOT reloaded on tab switch -->\n          <div [hidden]=\"!actionTabActive\" style=\"overflow: auto\">\n            <tcla-live-apps-case-action [customFormDefs]=\"customFormDefs\" [process]=\"actionSelection\" [caseRef]=\"caseRef\" [typeId]=\"typeId\" [applicationId]=\"appId\" [sandboxId]=\"sandboxId\" (caseChanged)=\"handleActionCompleted($event)\"></tcla-live-apps-case-action>\n          </div>\n        </div>\n        <div fxLayout=\"column\" fxFlex.gt-md=\"1 1 50\" fxFlex.lt-lg=\"none\" ngStyle.lt-lg=\"min-height: 500px\" fxLayoutGap=\"20px\" style=\"overflow: hidden;\" *ngIf=\"showAudit || showNotes || showDocuments || showStates || tabsFromNgContent.length > 0\">\n          <mat-tab-group #contextTabGroup style=\"overflow: hidden; height: 100%\">\n            <ng-content></ng-content>\n            <mat-tab #contextTabs label=\"Notes\" *ngIf=\"showNotes\">\n              <ng-template matTabContent>\n                <tcla-live-apps-notes class=\"live-apps-widget\" [relatedItemType]=\"'CASE_APP'\" [relatedItemId]=\"caseRef\" [userId]=\"userId\"></tcla-live-apps-notes>\n              </ng-template>\n            </mat-tab>\n            <mat-tab #contextTabs label=\"Documents\" *ngIf=\"showDocuments\">\n              <ng-template matTabContent>\n                <tcla-live-apps-documents class=\"live-apps-widget\" [sandboxId]=\"sandboxId\" [folderId]=\"caseRef\" [folderType]=\"'caseFolders'\"></tcla-live-apps-documents>\n              </ng-template>\n            </mat-tab>\n            <mat-tab #contextTabs label=\"States\" *ngIf=\"showStates\">\n              <ng-template matTabContent>\n                <tcla-live-apps-case-state-audit [caseRef]=\"caseRef\" [sandboxId]=\"sandboxId\" [appId]=\"appId\"></tcla-live-apps-case-state-audit>\n              </ng-template>\n            </mat-tab>\n            <mat-tab #contextTabs label=\"Audit\" *ngIf=\"showAudit\">\n              <ng-template matTabContent>\n                <tcla-live-apps-case-audit [sandboxId]=\"sandboxId\" [caseRef]=\"caseRef\"></tcla-live-apps-case-audit>\n              </ng-template>\n            </mat-tab>\n          </mat-tab-group>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n",
                styles: [".live-apps-widget{background-color:#fff;border-radius:3px}.tcs-actions-bar{height:50px;margin-top:5px}:host ::ng-deep .tcs-cancel-action-button svg{width:15px;height:15px}"]
            }] }
];
/** @nocollapse */
LiveAppsCaseCockpitComponent.ctorParameters = () => [
    { type: LiveAppsService },
    { type: TcButtonsHelperService },
    { type: Router },
    { type: TcRolesService }
];
LiveAppsCaseCockpitComponent.propDecorators = {
    matTabGroup: [{ type: ViewChild, args: ['contextTabGroup', { static: false },] }],
    inclusiveTabs: [{ type: ViewChildren, args: ['contextTabs',] }],
    tabsFromNgContent: [{ type: ContentChildren, args: ['projectedTab',] }],
    uiAppId: [{ type: Input }],
    appId: [{ type: Input }],
    typeId: [{ type: Input }],
    sandboxId: [{ type: Input }],
    caseRef: [{ type: Input }],
    userId: [{ type: Input }],
    exclRecentAppIds: [{ type: Input }],
    roles: [{ type: Input }],
    access: [{ type: Input }],
    customFormDefs: [{ type: Input }],
    layout: [{ type: Input }],
    showNotes: [{ type: Input }],
    showDocuments: [{ type: Input }],
    showStates: [{ type: Input }],
    showAudit: [{ type: Input }],
    routeAction: [{ type: Output }],
    caseSummaryComponent: [{ type: ViewChild, args: [LiveAppsCaseSummaryComponent, { static: false },] }],
    caseDataComponent: [{ type: ViewChild, args: [LiveAppsCaseDataComponent, { static: false },] }],
    caseActionsComponent: [{ type: ViewChild, args: [LiveAppsCaseActionsComponent, { static: false },] }],
    caseAuditComponent: [{ type: ViewChild, args: [LiveAppsCaseAuditComponent, { static: false },] }],
    caseDocumentsComponent: [{ type: ViewChild, args: [LiveAppsDocumentsComponent, { static: false },] }],
    caseNotesComponent: [{ type: ViewChild, args: [LiveAppsNotesComponent, { static: false },] }],
    caseStatesComponent: [{ type: ViewChild, args: [LiveAppsCaseStatesComponent, { static: false },] }],
    caseStateAuditComponent: [{ type: ViewChild, args: [LiveAppsCaseStateAuditComponent, { static: false },] }],
    dataTabGroups: [{ type: ViewChild, args: ['dataTabGroup', { static: false },] }]
};
if (false) {
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.matTabGroup;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.inclusiveTabs;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.tabsFromNgContent;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.DEFAULT_CASE_DATA_LAYOUT;
    /**
     * The Application ID of the UI (should ideally be unique as it is shared state key)
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.uiAppId;
    /**
     * The LA Application Id
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.appId;
    /**
     * The LA Application Type Id (generally 1)
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.typeId;
    /**
     * sandboxId - this comes from claims resolver
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.sandboxId;
    /**
     * The case reference
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.caseRef;
    /**
     * The ID of the logged user
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.userId;
    /**
     * The list of LA Application Ids you want to mark as recent cases when accessed
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.exclRecentAppIds;
    /**
     * Roles - The users current roles
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.roles;
    /**
     * RouteAccessControlConfig - basically the config for access control
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.access;
    /**
     * Custom Form configuration file
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.customFormDefs;
    /**
     * Layout object that can be passed to override default layout of the form renderer
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.layout;
    /**
     * Whether to show notes in context panel (default true)
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.showNotes;
    /**
     * Whether to show documents in context panel (default true)
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.showDocuments;
    /**
     * Whether to show states in context panel (default true)
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.showStates;
    /**
     * Whether to show audit in context panel (default true)
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.showAudit;
    /**
     * ~event routeAction : Component requests route to another page
     * ~payload RouteAction : RouteAction object to tell caller to navigate somewhere
     * @type {?}
     */
    LiveAppsCaseCockpitComponent.prototype.routeAction;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.caseSummaryComponent;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.caseDataComponent;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.caseActionsComponent;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.caseAuditComponent;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.caseDocumentsComponent;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.caseNotesComponent;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.caseStatesComponent;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.caseStateAuditComponent;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.dataTabGroups;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.isFavorite;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.valid;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.toolbarButtons;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.actionSelection;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.incConfigButton;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.incFavButton;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.incRefreshButton;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.incHomeButton;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.dataTabActive;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.dataTabId;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.actionTabId;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.actionTabActive;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsCaseCockpitComponent.prototype._destroyed$;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsCaseCockpitComponent.prototype.errorMessage;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsCaseCockpitComponent.prototype.createToolbarButtons;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.handleToolbarButtonEvent;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.handleActionSelection;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.actionTabCreated;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.handleCancelAction;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.handleActionCompleted;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.handleDataTabChanged;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.refresh;
    /** @type {?} */
    LiveAppsCaseCockpitComponent.prototype.toggleFavorite;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsCaseCockpitComponent.prototype.liveapps;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsCaseCockpitComponent.prototype.buttonsHelper;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsCaseCockpitComponent.prototype.router;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsCaseCockpitComponent.prototype.rolesService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1hcHBzLWNhc2UtY29ja3BpdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGliY28tdGNzdGsvdGMtbGl2ZWFwcHMtbGliLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvbGl2ZS1hcHBzLWNhc2UtY29ja3BpdC9saXZlLWFwcHMtY2FzZS1jb2NrcGl0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUVMLFNBQVMsRUFDVCxlQUFlLEVBRWYsWUFBWSxFQUNaLEtBQUssRUFHTCxNQUFNLEVBQ04sU0FBUyxFQUNULFlBQVksRUFDYixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQWlCLE1BQU0sRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBQ3ZELE9BQU8sRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBQ3BELE9BQU8sRUFBQyxPQUFPLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFDN0IsT0FBTyxFQUFDLDRCQUE0QixFQUFDLE1BQU0sNERBQTRELENBQUM7QUFDeEcsT0FBTyxFQUFDLDBCQUEwQixFQUFDLE1BQU0sd0RBQXdELENBQUM7QUFDbEcsT0FBTyxFQUFDLHlCQUF5QixFQUFDLE1BQU0sc0RBQXNELENBQUM7QUFDL0YsT0FBTyxFQUFDLCtCQUErQixFQUFDLE1BQU0sb0VBQW9FLENBQUM7QUFDbkgsT0FBTyxFQUFDLDJCQUEyQixFQUFDLE1BQU0sMERBQTBELENBQUM7QUFDckcsT0FBTyxFQUFDLDBCQUEwQixFQUFDLE1BQU0sc0RBQXNELENBQUM7QUFDaEcsT0FBTyxFQUFDLHNCQUFzQixFQUFDLE1BQU0sOENBQThDLENBQUM7QUFDcEYsT0FBTyxFQUFDLDRCQUE0QixFQUFDLE1BQU0sNERBQTRELENBQUM7QUFDeEcsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLGtDQUFrQyxDQUFDO0FBQ2pFLE9BQU8sRUFBZ0Isc0JBQXNCLEVB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LDZEQUdDOztJQUVELHdEQUtDOztJQUVELDBEQUdDOztJQUVELDZEQU9DOztJQUVELDREQU9DOztJQUVELCtDQTRCQzs7SUFFRCxzREFNQzs7Ozs7SUE5R1csZ0RBQW1DOzs7OztJQUFFLHFEQUErQzs7Ozs7SUFBRSw4Q0FBd0I7Ozs7O0lBQUUsb0RBQXNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ29tcG9uZW50LFxuICBDb250ZW50Q2hpbGRyZW4sXG4gIERpcmVjdGl2ZSxcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgVmlld0NoaWxkLFxuICBWaWV3Q2hpbGRyZW5cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0FjdGl2YXRlZFJvdXRlLCBSb3V0ZXJ9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQge21hcCwgdGFrZSwgdGFrZVVudGlsfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge1N1YmplY3R9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtMaXZlQXBwc0Nhc2VBY3Rpb25zQ29tcG9uZW50fSBmcm9tICcuLi9saXZlLWFwcHMtY2FzZS1hY3Rpb25zL2xpdmUtYXBwcy1jYXNlLWFjdGlvbnMuY29tcG9uZW50JztcbmltcG9ydCB7TGl2ZUFwcHNDYXNlQXVkaXRDb21wb25lbnR9IGZyb20gJy4uL2xpdmUtYXBwcy1jYXNlLWF1ZGl0L2xpdmUtYXBwcy1jYXNlLWF1ZGl0LmNvbXBvbmVudCc7XG5pbXBvcnQge0xpdmVBcHBzQ2FzZURhdGFDb21wb25lbnR9IGZyb20gJy4uL2xpdmUtYXBwcy1jYXNlLWRhdGEvbGl2ZS1hcHBzLWNhc2UtZGF0YS5jb21wb25lbnQnO1xuaW1wb3J0IHtMaXZlQXBwc0Nhc2VTdGF0ZUF1ZGl0Q29tcG9uZW50fSBmcm9tICcuLi9saXZlLWFwcHMtY2FzZS1zdGF0ZS1hdWRpdC9saXZlLWFwcHMtY2FzZS1zdGF0ZS1hdWRpdC5jb21wb25lbnQnO1xuaW1wb3J0IHtMaXZlQXBwc0Nhc2VTdGF0ZXNDb21wb25lbnR9IGZyb20gJy4uL2xpdmUtYXBwcy1jYXNlLXN0YXRlcy9saXZlLWFwcHMtY2FzZS1zdGF0ZXMuY29tcG9uZW50JztcbmltcG9ydCB7TGl2ZUFwcHNEb2N1bWVudHNDb21wb25lbnR9IGZyb20gJy4uL2xpdmUtYXBwcy1kb2N1bWVudHMvbGl2ZS1hcHBzLWRvY3VtZW50cy5jb21wb25lbnQnO1xuaW1wb3J0IHtMaXZlQXBwc05vdGVzQ29tcG9uZW50fSBmcm9tICcuLi9saXZlLWFwcHMtbm90ZXMvbGl2ZS1hcHBzLW5vdGVzLmNvbXBvbmVudCc7XG5pbXBvcnQge0xpdmVBcHBzQ2FzZVN1bW1hcnlDb21wb25lbnR9IGZyb20gJy4uL2xpdmUtYXBwcy1jYXNlLXN1bW1hcnkvbGl2ZS1hcHBzLWNhc2Utc3VtbWFyeS5jb21wb25lbnQnO1xuaW1wb3J0IHtMaXZlQXBwc1NlcnZpY2V9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2xpdmUtYXBwcy5zZXJ2aWNlJztcbmltcG9ydCB7VG9vbGJhckJ1dHRvbiwgVGNCdXR0b25zSGVscGVyU2VydmljZX0gZnJvbSAnQHRpYmNvLXRjc3RrL3RjLWNvcmUtbGliJztcbmltcG9ydCB7TGFQcm9jZXNzU2VsZWN0aW9ufSBmcm9tICcuLi8uLi9tb2RlbHMvdGMtY2FzZS1wcm9jZXNzZXMnO1xuaW1wb3J0IHtNYXRUYWIsIE1hdFRhYkdyb3VwfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQge1F1ZXJ5TGlzdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSb3V0ZUFjdGlvbiB9IGZyb20gJ0B0aWJjby10Y3N0ay90Yy1jb3JlLWxpYic7XG5pbXBvcnQge1JvbGVzLCBSb3V0ZUFjY2Vzc0NvbnRyb2xDb25maWd9IGZyb20gJy4uLy4uL21vZGVscy90Yy1ncm91cHMtZGF0YSc7XG5pbXBvcnQge1RjUm9sZXNTZXJ2aWNlfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy90Yy1yb2xlcy1zZXJ2aWNlLnRzLnNlcnZpY2UnO1xuaW1wb3J0IHtDdXN0b21Gb3JtRGVmc30gZnJvbSAnQHRpYmNvLXRjc3RrL3RjLWZvcm1zLWxpYic7XG5cblxuLyoqXG4gKiBIaWdoIGxldmVsIGNvbXBvbmVudCB0byBhbGxvdyBpbnRlcmFjdGlvbiB3aXRoIGNhc2UuXG4gKlxuICogICFbYWx0LXRleHRdKC4uL2xpdmUtYXBwcy1jYXNlLWNvY2twaXQucG5nIFwiSW1hZ2VcIilcbiAqXG4gKkBleGFtcGxlIDx0Y2xhLWxpdmUtYXBwcy1jYXNlLWNvY2twaXQ+PC90Y2xhLWxpdmUtYXBwcy1jYXNlLWNvY2twaXQ+XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3RjbGEtbGl2ZS1hcHBzLWNhc2UtY29ja3BpdCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9saXZlLWFwcHMtY2FzZS1jb2NrcGl0LmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbGl2ZS1hcHBzLWNhc2UtY29ja3BpdC5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTGl2ZUFwcHNDYXNlQ29ja3BpdENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95LCBBZnRlclZpZXdJbml0IHtcblxuICBAVmlld0NoaWxkKCdjb250ZXh0VGFiR3JvdXAnLCB7c3RhdGljOiBmYWxzZX0pIG1hdFRhYkdyb3VwOiBNYXRUYWJHcm91cDtcbiAgQFZpZXdDaGlsZHJlbignY29udGV4dFRhYnMnKSBpbmNsdXNpdmVUYWJzOiBRdWVyeUxpc3Q8TWF0VGFiPjtcbiAgQENvbnRlbnRDaGlsZHJlbigncHJvamVjdGVkVGFiJykgdGFic0Zyb21OZ0NvbnRlbnQ6IFF1ZXJ5TGlzdDxNYXRUYWI+O1xuXG4gIC8vIHRoaXMgZGVmYXVsdCBsYXlvdXQgZGlzcGxheXMgYWxsIGRhdGEgYnV0IHdpbGwgaGlkZSBidXR0b25zXG4gIERFRkFVTFRfQ0FTRV9EQVRBX0xBWU9VVCA9IFtcbiAgICAnKicsXG4gICAgeyB0eXBlOiAnc3VibWl0JywgdGl0bGU6ICdTYXZlJywgY29uZGl0aW9uOiAnMT09PTInIH0sXG4gICAgeyB0eXBlOiAnYWN0aW9ucycsIHRpdGxlOiAnSGlkZGVuJywgY29uZGl0aW9uOiAnMT09PTInIH1cbiAgXTtcblxuICAvKipcbiAgICogVGhlIEFwcGxpY2F0aW9uIElEIG9mIHRoZSBVSSAoc2hvdWxkIGlkZWFsbHkgYmUgdW5pcXVlIGFzIGl0IGlzIHNoYXJlZCBzdGF0ZSBrZXkpXG4gICAqL1xuICBASW5wdXQoKSB1aUFwcElkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBMQSBBcHBsaWNhdGlvbiBJZFxuICAgKi9cbiAgQElucHV0KCkgYXBwSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIExBIEFwcGxpY2F0aW9uIFR5cGUgSWQgKGdlbmVyYWxseSAxKVxuICAgKi9cbiAgQElucHV0KCkgdHlwZUlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIHNhbmRib3hJZCAtIHRoaXMgY29tZXMgZnJvbSBjbGFpbXMgcmVzb2x2ZXJcbiAgICovXG4gIEBJbnB1dCgpIHNhbmRib3hJZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgY2FzZSByZWZlcmVuY2VcbiAgICovXG4gIEBJbnB1dCgpIGNhc2VSZWY6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBsb2dnZWQgdXNlclxuICAgKi9cbiAgQElucHV0KCkgdXNlcklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIExBIEFwcGxpY2F0aW9uIElkcyB5b3Ugd2FudCB0byBtYXJrIGFzIHJlY2VudCBjYXNlcyB3aGVuIGFjY2Vzc2VkXG4gICAqL1xuICBASW5wdXQoKSBleGNsUmVjZW50QXBwSWRzOiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogUm9sZXMgLSBUaGUgdXNlcnMgY3VycmVudCByb2xlc1xuICAgKi9cbiAgQElucHV0KCkgcm9sZXM6IFJvbGVzO1xuXG4gIC8qKlxuICAgKiBSb3V0ZUFjY2Vzc0NvbnRyb2xDb25maWcgLSBiYXNpY2FsbHkgdGhlIGNvbmZpZyBmb3IgYWNjZXNzIGNvbnRyb2xcbiAgICovXG4gIEBJbnB1dCgpIGFjY2VzczogUm91dGVBY2Nlc3NDb250cm9sQ29uZmlnO1xuXG4gIC8qKlxuICAgKiBDdXN0b20gRm9ybSBjb25maWd1cmF0aW9uIGZpbGVcbiAgICovXG4gIEBJbnB1dCgpIGN1c3RvbUZvcm1EZWZzOiBDdXN0b21Gb3JtRGVmcztcblxuICAvKipcbiAgICogTGF5b3V0IG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gb3ZlcnJpZGUgZGVmYXVsdCBsYXlvdXQgb2YgdGhlIGZvcm0gcmVuZGVyZXJcbiAgICovXG4gIEBJbnB1dCgpIGxheW91dDogYW55W10gPSB0aGlzLmxheW91dCA/ICB0aGlzLmxheW91dCA6IHRoaXMuREVGQVVMVF9DQVNFX0RBVEFfTEFZT1VUO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHNob3cgbm90ZXMgaW4gY29udGV4dCBwYW5lbCAoZGVmYXVsdCB0cnVlKVxuICAgKi9cbiAgQElucHV0KCkgc2hvd05vdGVzOiBib29sZWFuID0gdGhpcy5zaG93Tm90ZXMgPyB0aGlzLnNob3dOb3RlcyA6IHRydWU7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc2hvdyBkb2N1bWVudHMgaW4gY29udGV4dCBwYW5lbCAoZGVmYXVsdCB0cnVlKVxuICAgKi9cbiAgQElucHV0KCkgc2hvd0RvY3VtZW50czogYm9vbGVhbiA9IHRoaXMuc2hvd0RvY3VtZW50cyA/IHRoaXMuc2hvd0RvY3VtZW50cyA6IHRydWU7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc2hvdyBzdGF0ZXMgaW4gY29udGV4dCBwYW5lbCAoZGVmYXVsdCB0cnVlKVxuICAgKi9cbiAgQElucHV0KCkgc2hvd1N0YXRlczogYm9vbGVhbiA9IHRoaXMuc2hvd1N0YXRlcyA/IHRoaXMuc2hvd1N0YXRlcyA6ICB0cnVlO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHNob3cgYXVkaXQgaW4gY29udGV4dCBwYW5lbCAoZGVmYXVsdCB0cnVlKVxuICAgKi9cbiAgQElucHV0KCkgc2hvd0F1ZGl0OiBib29sZWFuID0gdGhpcy5zaG93QXVkaXQgPyB0aGlzLnNob3dBdWRpdCA6ICB0cnVlO1xuXG5cbiAgLyoqXG4gICAqIH5ldmVudCByb3V0ZUFjdGlvbiA6IENvbXBvbmVudCByZXF1ZXN0cyByb3V0ZSB0byBhbm90aGVyIHBhZ2VcbiAgICogfnBheWxvYWQgUm91dGVBY3Rpb24gOiBSb3V0ZUFjdGlvbiBvYmplY3QgdG8gdGVsbCBjYWxsZXIgdG8gbmF2aWdhdGUgc29tZXdoZXJlXG4gICAqL1xuICBAT3V0cHV0KCkgcm91dGVBY3Rpb246IEV2ZW50RW1pdHRlcjxSb3V0ZUFjdGlvbj4gPSBuZXcgRXZlbnRFbWl0dGVyPFJvdXRlQWN0aW9uPigpO1xuXG4vLyBUaGUgVmlld0NoaWxkIGRlY2xhcmF0aW9ucyBnaXZlIGFjY2VzcyB0byBjb21wb25lbnRzIG1hcmtlZCBvbiB0aGUgdGVtcGxhdGUgc28gdGhhdCBJIGNhbiBjYWxsIHB1YmxpYyBmdW5jdGlvbnMgbGlrZSByZWZyZXNoXG4gIEBWaWV3Q2hpbGQoTGl2ZUFwcHNDYXNlU3VtbWFyeUNvbXBvbmVudCwge3N0YXRpYzogZmFsc2V9KSBjYXNlU3VtbWFyeUNvbXBvbmVudDogTGl2ZUFwcHNDYXNlU3VtbWFyeUNvbXBvbmVudDtcbiAgQFZpZXdDaGlsZChMaXZlQXBwc0Nhc2VEYXRhQ29tcG9uZW50LCB7c3RhdGljOiBmYWxzZX0pIGNhc2VEYXRhQ29tcG9uZW50OiBMaXZlQXBwc0Nhc2VEYXRhQ29tcG9uZW50O1xuICBAVmlld0NoaWxkKExpdmVBcHBzQ2FzZUFjdGlvbnNDb21wb25lbnQsIHtzdGF0aWM6IGZhbHNlfSkgY2FzZUFjdGlvbnNDb21wb25lbnQ6IExpdmVBcHBzQ2FzZUFjdGlvbnNDb21wb25lbnQ7XG4gIEBWaWV3Q2hpbGQoTGl2ZUFwcHNDYXNlQXVkaXRDb21wb25lbnQsIHtzdGF0aWM6IGZhbHNlfSkgY2FzZUF1ZGl0Q29tcG9uZW50OiBMaXZlQXBwc0Nhc2VBdWRpdENvbXBvbmVudDtcbiAgQFZpZXdDaGlsZChMaXZlQXBwc0RvY3VtZW50c0NvbXBvbmVudCwge3N0YXRpYzogZmFsc2V9KSBjYXNlRG9jdW1lbnRzQ29tcG9uZW50OiBMaXZlQXBwc0RvY3VtZW50c0NvbXBvbmVudDtcbiAgQFZpZXdDaGlsZChMaXZlQXBwc05vdGVzQ29tcG9uZW50LCB7c3RhdGljOiBmYWxzZX0pIGNhc2VOb3Rlc0NvbXBvbmVudDogTGl2ZUFwcHNOb3Rlc0NvbXBvbmVudDtcbiAgQFZpZXdDaGlsZChMaXZlQXBwc0Nhc2VTdGF0ZXNDb21wb25lbnQsIHtzdGF0aWM6IGZhbHNlfSkgY2FzZVN0YXRlc0NvbXBvbmVudDogTGl2ZUFwcHNDYXNlU3RhdGVzQ29tcG9uZW50O1xuICBAVmlld0NoaWxkKExpdmVBcHBzQ2FzZVN0YXRlQXVkaXRDb21wb25lbnQsIHtzdGF0aWM6IGZhbHNlfSkgY2FzZVN0YXRlQXVkaXRDb21wb25lbnQ6IExpdmVBcHBzQ2FzZVN0YXRlQXVkaXRDb21wb25lbnQ7XG4gIEBWaWV3Q2hpbGQoJ2RhdGFUYWJHcm91cCcsIHtzdGF0aWM6IGZhbHNlfSkgZGF0YVRhYkdyb3VwczogTWF0VGFiR3JvdXA7XG5cbiAgaXNGYXZvcml0ZTogYm9vbGVhbjtcbiAgdmFsaWQgPSBmYWxzZTtcbiAgdG9vbGJhckJ1dHRvbnM6IFRvb2xiYXJCdXR0b25bXSA9IFtdO1xuICBhY3Rpb25TZWxlY3Rpb246IExhUHJvY2Vzc1NlbGVjdGlvbjtcbiAgaW5jQ29uZmlnQnV0dG9uID0gdHJ1ZTtcbiAgaW5jRmF2QnV0dG9uID0gdHJ1ZTtcbiAgaW5jUmVmcmVzaEJ1dHRvbiA9IHRydWU7XG4gIGluY0hvbWVCdXR0b24gPSB0cnVlO1xuICBkYXRhVGFiQWN0aXZlID0gMDtcbiAgZGF0YVRhYklkO1xuICBhY3Rpb25UYWJJZDtcbiAgYWN0aW9uVGFiQWN0aXZlID0gZmFsc2U7XG5cbiAgLy8gdXNlIHRoZSBfZGVzdHJveWVkJC90YWtlVW50aWwgcGF0dGVybiB0byBhdm9pZCBtZW1vcnkgbGVha3MgaWYgYSByZXNwb25zZSB3YXMgbmV2ZXIgcmVjZWl2ZWRcbiAgcHJvdGVjdGVkIF9kZXN0cm95ZWQkID0gbmV3IFN1YmplY3QoKTtcbiAgcHJvdGVjdGVkIGVycm9yTWVzc2FnZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBsaXZlYXBwczogTGl2ZUFwcHNTZXJ2aWNlLCBwcm90ZWN0ZWQgYnV0dG9uc0hlbHBlcjogVGNCdXR0b25zSGVscGVyU2VydmljZSwgcHJvdGVjdGVkIHJvdXRlcjogUm91dGVyLCBwcm90ZWN0ZWQgcm9sZXNTZXJ2aWNlOiBUY1JvbGVzU2VydmljZSkge1xuICB9XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZVRvb2xiYXJCdXR0b25zID0gKCk6IFRvb2xiYXJCdXR0b25bXSA9PiB7XG4gICAgY29uc3QgYnV0dG9ucyA9IFtdO1xuICAgIGlmICh0aGlzLmluY0NvbmZpZ0J1dHRvbikge1xuICAgICAgY29uc3QgY29uZmlnQnV0dG9uID0gdGhpcy5idXR0b25zSGVscGVyLmNyZWF0ZUJ1dHRvbignY29uZmlnJywgJ3Rjcy1jYXBhYmlsaXRpZXMnLCB0cnVlLCAnQ29uZmlnJywgKHRoaXMuYWNjZXNzID8gdGhpcy5yb2xlc1NlcnZpY2UuY2hlY2tCdXR0b24oJ2NvbmZpZ3VyZScsIHRoaXMucm9sZXMsIHRoaXMuYWNjZXNzKSA6IHRydWUpLCB0cnVlKTtcbiAgICAgIGJ1dHRvbnMucHVzaChjb25maWdCdXR0b24pO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbmNGYXZCdXR0b24pIHtcbiAgICAgIGNvbnN0IGZhdkJ1dHRvbiA9IHRoaXMuYnV0dG9uc0hlbHBlci5jcmVhdGVCdXR0b24oJ2Zhdm9yaXRlJywgJ3Rjcy1mYXZvcml0ZXMtaWNvbicsIHRoaXMuaXNGYXZvcml0ZSwgJ1RvZ2dsZSBGYXZvcml0ZScsICh0aGlzLmFjY2VzcyA/IHRoaXMucm9sZXNTZXJ2aWNlLmNoZWNrQnV0dG9uKCdmYXZvcml0ZScsIHRoaXMucm9sZXMsIHRoaXMuYWNjZXNzKSA6IHRydWUpLCB0cnVlKTtcbiAgICAgIGJ1dHRvbnMucHVzaChmYXZCdXR0b24pO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbmNSZWZyZXNoQnV0dG9uKSB7XG4gICAgICBjb25zdCByZWZyZXNoQnV0dG9uID0gdGhpcy5idXR0b25zSGVscGVyLmNyZWF0ZUJ1dHRvbigncmVmcmVzaCcsICd0Y3MtcmVmcmVzaC1pY29uJywgdHJ1ZSwgJ1JlZnJlc2gnLCAodGhpcy5hY2Nlc3MgPyB0aGlzLnJvbGVzU2VydmljZS5jaGVja0J1dHRvbigncmVmcmVzaCcsIHRoaXMucm9sZXMsIHRoaXMuYWNjZXNzKSA6IHRydWUpLCB0cnVlKTtcbiAgICAgIGJ1dHRvbnMucHVzaChyZWZyZXNoQnV0dG9uKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW5jSG9tZUJ1dHRvbikge1xuICAgICAgY29uc3QgaG9tZUJ1dHRvbiA9IHRoaXMuYnV0dG9uc0hlbHBlci5jcmVhdGVCdXR0b24oJ2Nsb3NlJywgJ3Rjcy1jbG9zZS1pY29uJywgdHJ1ZSwgJ0Nsb3NlJywgdHJ1ZSwgdHJ1ZSk7XG4gICAgICBidXR0b25zLnB1c2goaG9tZUJ1dHRvbik7XG4gICAgfVxuICAgIHJldHVybiBidXR0b25zO1xuICB9XG5cbiAgcHVibGljIGhhbmRsZVRvb2xiYXJCdXR0b25FdmVudCA9IChidXR0b25JZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGJ1dHRvbklkID09PSAnZmF2b3JpdGUnKSB7XG4gICAgICB0aGlzLnRvZ2dsZUZhdm9yaXRlKCk7XG4gICAgfVxuICAgIGlmIChidXR0b25JZCA9PT0gJ3JlZnJlc2gnKSB7XG4gICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG4gICAgaWYgKGJ1dHRvbklkID09PSAnY2xvc2UnKSB7XG4gICAgICB0aGlzLnJvdXRlQWN0aW9uLmVtaXQobmV3IFJvdXRlQWN0aW9uKCdiYWNrQ2xpY2tlZCcsIG51bGwpKTtcbiAgICB9XG4gICAgaWYgKGJ1dHRvbklkID09PSAnY29uZmlnJykge1xuICAgICAgdGhpcy5yb3V0ZUFjdGlvbi5lbWl0KG5ldyBSb3V0ZUFjdGlvbignY29uZmlnQ2xpY2tlZCcsIG51bGwpKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlQWN0aW9uU2VsZWN0aW9uID0gKGFjdGlvblNlbGVjdGlvbikgPT4ge1xuICAgIHRoaXMuY2FzZUFjdGlvbnNDb21wb25lbnQudG9nZ2xlRW5hYmxlKCk7XG4gICAgdGhpcy5hY3Rpb25TZWxlY3Rpb24gPSBhY3Rpb25TZWxlY3Rpb247XG4gIH1cblxuICBwdWJsaWMgYWN0aW9uVGFiQ3JlYXRlZCA9IChkYXRhKSA9PiB7XG4gICAgLy8gdGhlIHRhYiBpc24ndCBhY3R1YWxseSBpbiB0aGUgdGFiLWdyb3VwIGF0IHRoaXMgcG9pbnQgYnV0IHRoaXMgc2hvdWxkIHN0aWxsIHdvcmsgYXMgbGVuZ3RoIGlzIGN1cnJlbnQgdGFiICsgMVxuICAgIHRoaXMuZGF0YVRhYkdyb3Vwcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5kYXRhVGFiR3JvdXBzLl90YWJzLmxlbmd0aDtcbiAgICB0aGlzLmFjdGlvblRhYklkID0gdGhpcy5kYXRhVGFiR3JvdXBzLl90YWJzLmxlbmd0aDtcbiAgICB0aGlzLmFjdGlvblRhYkFjdGl2ZSA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlQ2FuY2VsQWN0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuYWN0aW9uU2VsZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY2FzZUFjdGlvbnNDb21wb25lbnQudG9nZ2xlRW5hYmxlKCk7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlQWN0aW9uQ29tcGxldGVkID0gKHByb2Nlc3NJZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5hY3Rpb25TZWxlY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jYXNlQWN0aW9uc0NvbXBvbmVudC50b2dnbGVFbmFibGUoKTtcbiAgICAvLyB0byBhbGxvdyBjYXNlIHRvIHVwZGF0ZSBhc3luYyBiZWZvcmUgd2UgcmVmcmVzaFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlRGF0YVRhYkNoYW5nZWQgPSAodGFiTnVtYmVyOiBudW1iZXIpID0+IHtcbiAgICB0aGlzLmRhdGFUYWJJZCA9IHRhYk51bWJlcjtcbiAgICBpZiAodGFiTnVtYmVyID09PSB0aGlzLmFjdGlvblRhYklkKSB7XG4gICAgICB0aGlzLmFjdGlvblRhYkFjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWN0aW9uVGFiQWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlZnJlc2ggPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuY2FzZVN1bW1hcnlDb21wb25lbnQpIHtcbiAgICAgIHRoaXMuY2FzZVN1bW1hcnlDb21wb25lbnQucmVmcmVzaCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYXNlRGF0YUNvbXBvbmVudCkge1xuICAgICAgdGhpcy5jYXNlRGF0YUNvbXBvbmVudC5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhc2VTdGF0ZXNDb21wb25lbnQpIHtcbiAgICAgIHRoaXMuY2FzZVN0YXRlc0NvbXBvbmVudC5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhc2VBY3Rpb25zQ29tcG9uZW50KSB7XG4gICAgICB0aGlzLmNhc2VBY3Rpb25zQ29tcG9uZW50LnJlZnJlc2goKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FzZUF1ZGl0Q29tcG9uZW50KSB7XG4gICAgICB0aGlzLmNhc2VBdWRpdENvbXBvbmVudC5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhc2VTdGF0ZUF1ZGl0Q29tcG9uZW50KSB7XG4gICAgICB0aGlzLmNhc2VTdGF0ZUF1ZGl0Q29tcG9uZW50LnJlZnJlc2goKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FzZVN0YXRlc0NvbXBvbmVudCkge1xuICAgICAgdGhpcy5jYXNlU3RhdGVzQ29tcG9uZW50LnJlZnJlc2goKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FzZURvY3VtZW50c0NvbXBvbmVudCkge1xuICAgICAgdGhpcy5jYXNlRG9jdW1lbnRzQ29tcG9uZW50LnJlZnJlc2goKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FzZU5vdGVzQ29tcG9uZW50KSB7XG4gICAgICB0aGlzLmNhc2VOb3Rlc0NvbXBvbmVudC5yZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHRvZ2dsZUZhdm9yaXRlID0gKCkgPT4ge1xuICAgIHRoaXMubGl2ZWFwcHMuc2V0RmF2b3JpdGVDYXNlKHRoaXMuY2FzZVJlZiwgdGhpcy51aUFwcElkLCB0aGlzLnNhbmRib3hJZCk7XG4gICAgdGhpcy5pc0Zhdm9yaXRlID0gIXRoaXMuaXNGYXZvcml0ZTtcbiAgICBjb25zdCB1cGRhdGVkRmF2QnV0dG9uID0gdGhpcy5idXR0b25zSGVscGVyLmNyZWF0ZUJ1dHRvbihcbiAgICAgICdmYXZvcml0ZScsICd0Y3MtZmF2b3JpdGVzLWljb24nLCB0aGlzLmlzRmF2b3JpdGUsICdUb2dnbGUgRmF2b3JpdGUnLCB0cnVlLCB0cnVlKTtcbiAgICB0aGlzLnRvb2xiYXJCdXR0b25zID0gdGhpcy5idXR0b25zSGVscGVyLnVwZGF0ZUJ1dHRvbnMoW3VwZGF0ZWRGYXZCdXR0b25dLCB0aGlzLnRvb2xiYXJCdXR0b25zKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIGlmICghaXNOYU4oTnVtYmVyKHRoaXMuY2FzZVJlZikpKSB7XG4gICAgICAvLyBkb250IHNldCByZWNlbnQgaWYgaXQgaXMgaW4gdGhlIGV4Y2x1ZGUgYXBwIGxpc3RcbiAgICAgIGlmICghdGhpcy5leGNsUmVjZW50QXBwSWRzIHx8ICh0aGlzLmV4Y2xSZWNlbnRBcHBJZHMuaW5kZXhPZih0aGlzLmFwcElkKSA9PT0gLTEpKSB7XG4gICAgICAgIHRoaXMubGl2ZWFwcHMuc2V0UmVjZW50Q2FzZSh0aGlzLmNhc2VSZWYsIHRoaXMudWlBcHBJZCwgdGhpcy5zYW5kYm94SWQpO1xuICAgICAgfVxuICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLmluY0ZhdkJ1dHRvbikge1xuICAgICAgdGhpcy5saXZlYXBwcy5pc0Zhdm9yaXRlQ2FzZSh0aGlzLmNhc2VSZWYsIHRoaXMudWlBcHBJZCwgdGhpcy5zYW5kYm94SWQpXG4gICAgICAgIC5waXBlKFxuICAgICAgICAgIHRha2UoMSksXG4gICAgICAgICAgdGFrZVVudGlsKHRoaXMuX2Rlc3Ryb3llZCQpLFxuICAgICAgICAgIG1hcChyZXN1bHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc0Zhdm9yaXRlID0gcmVzdWx0O1xuICAgICAgICAgICAgdGhpcy50b29sYmFyQnV0dG9ucyA9IHRoaXMudG9vbGJhckJ1dHRvbnMuY29uY2F0KHRoaXMuY3JlYXRlVG9vbGJhckJ1dHRvbnMoKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICBudWxsLCBlcnJvciA9PiB7XG4gICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICdFcnJvciByZXRyaWV2aW5nIGlzRmF2b3JpdGU6ICcgKyBlcnJvci5lcnJvci5lcnJvck1zZztcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudG9vbGJhckJ1dHRvbnMgPSB0aGlzLnRvb2xiYXJCdXR0b25zLmNvbmNhdCh0aGlzLmNyZWF0ZVRvb2xiYXJCdXR0b25zKCkpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuX2Rlc3Ryb3llZCQubmV4dCgpO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIHRoaXMubWF0VGFiR3JvdXAuX3RhYnMucmVzZXQoWy4uLnRoaXMuaW5jbHVzaXZlVGFicy50b0FycmF5KCksIC4uLnRoaXMudGFic0Zyb21OZ0NvbnRlbnQudG9BcnJheSgpXSk7XG4gICAgLy8gdGhpcy5tYXRUYWJHcm91cC5hZnRlclZpZXdJbml0KCk7XG4gIH1cbn1cbiJdfQ==