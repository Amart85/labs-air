/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Inject } from '@angular/core';
import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';
import { CaseCreatorSelectionContext } from '../../models/tc-case-creator';
import { CaseRoute } from '../../models/liveappsdata';
/**
 * Dialog used on home screen to allow case creation (wraps other components)
 *
 * \@example <tcla-live-apps-creator-dialog></tcla-live-apps-creator-dialog>
 */
export class LiveAppsCreatorDialogComponent {
    /**
     * @param {?} dialogRef
     * @param {?} data
     */
    constructor(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.handleCaseCreated = (/**
         * @param {?} createdCase
         * @return {?}
         */
        (createdCase) => {
            this.createdCase = createdCase;
            if (!this.createdCase.caseIdentifier && !this.createdCase.caseReference) {
                // legacy process form (no case reference available)
            }
            else if (this.createdCase.caseReference === '-1') {
                // legacy process cancelled
                this.dialogRef.close();
            }
        });
        this.openCase = (/**
         * @return {?}
         */
        () => {
            /** @type {?} */
            const caseRoute = new CaseRoute().deserialize({ caseRef: this.createdCase.caseReference, appId: this.application.applicationId, typeId: this.application.id });
            this.dialogRef.close(caseRoute);
        });
        this.closeDialog = (/**
         * @return {?}
         */
        () => {
            this.dialogRef.close();
        });
        this.application = data.application;
        this.sandboxId = data.sandboxId;
        this.initialData = data.initialData;
        this.customFormDefs = data.customFormDefs;
        this.legacyCreators = data.legacyCreators;
        this.formsFramework = data.formsFramework;
    }
}
LiveAppsCreatorDialogComponent.decorators = [
    { type: Component, args: [{
                selector: 'tcla-live-apps-creator-dialog',
                template: "<div class=\"tcs-dialog-outer-div\">\n  <mat-toolbar class=\"tcs-case-creation-dialog-toolbar\">\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" fxFlex>\n      <span class=\"tcs-case-creation-dialog-toolbar-text\">Create New {{application.applicationName}}</span>\n    </div>\n    <mat-icon fxLayout=\"column\" fxLayoutAlign=\"start end\" class=\"tcs-case-creation-dialog-icons\" [svgIcon]=\"'tcs-close-icon'\" (click)=\"closeDialog()\"></mat-icon>\n  </mat-toolbar>\n  <div mat-dialog-content class=\"tcs-case-creation-dialog\" fxLayout=\"column\">\n    <div *ngIf=\"!createdCase\" class=\"tcs-case-creation-dialog-details\">\n      <tcla-live-apps-creators [sandboxId]=\"sandboxId\" [applicationId]=\"application.applicationId\"\n                               [typeId]=\"application.id\" [dataOverride]=\"initialData\"\n                               [customFormDefs]=\"customFormDefs\"\n                               [formsFramework]=\"formsFramework\"\n                               [legacyCreators]=\"legacyCreators\"\n                               (caseCreated)=\"handleCaseCreated($event)\"></tcla-live-apps-creators>\n    </div>\n    <div *ngIf=\"createdCase\" class=\"tcs-case-created-confirmation-details\" fxLayout=\"row\" fxLayoutAlign=\"center start\">\n      <span class=\"tcs-case-created-confirmation-text\">New {{application.applicationName}}\n        case successfully submitted</span>\n      </div>\n  </div>\n  <!--div class=\"tcs-spacer\"></div-->\n  <mat-dialog-actions *ngIf=\"createdCase\" class=\"tcs-dialog-actions\" style=\"height: 100%\" fxLayout=\"row\" fxLayoutAlign=\"end end\">\n    <button *ngIf=\"createdCase.caseReference\" mat-button mat-flat-button color=\"primary\" (click)=\"openCase()\">Open Case</button>\n    <button mat-button (click)=\"closeDialog()\">Close</button>\n  </mat-dialog-actions>\n</div>\n",
                styles: [".tcs-dialog-outer-div{height:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.tcs-spacer{-webkit-box-flex:1;flex-grow:1}.tcs-case-creation-dialog-toolbar{padding-left:20px;padding-right:20px;background-color:#fff;border-bottom:1px solid #dcdcdc;min-height:63px}.tcs-case-creation-dialog.mat-dialog-content{height:100%;padding:0;margin:0}.tcs-case-creation-dialog-toolbar-text{font-family:Source Sans Pro;font-size:18px;font-weight:600;font-style:normal;font-stretch:normal;line-height:1.5;letter-spacing:.3px}.tcs-case-creation-dialog-details{height:100%;padding:20px}.tcs-case-created-confirmation-text{font-family:Source Sans Pro;font-size:16px;font-weight:400;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#b6b6b6}.tcs-case-creation-dialog-actions{padding:20px}:host ::ng-deep .tcs-dialog-actions.mat-dialog-actions{margin-bottom:0;padding:20px}.tcs-case-created-confirmation-details{padding:20px}.tcs-case-creation-dialog-icons{height:16px;width:16px}.tcs-case-creation-dialog-icons:hover{cursor:pointer}:host ::ng-deep .tcs-case-creation-dialog-icons:hover .svg-content{fill:#0081cb}"]
            }] }
];
/** @nocollapse */
LiveAppsCreatorDialogComponent.ctorParameters = () => [
    { type: MatDialogRef },
    { type: CaseCreatorSelectionContext, decorators: [{ type: Inject, args: [MAT_DIALOG_DATA,] }] }
];
if (false) {
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.application;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.sandboxId;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.initialData;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.createdCase;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.customFormDefs;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.legacyCreators;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.formsFramework;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.handleCaseCreated;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.openCase;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.closeDialog;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.dialogRef;
    /** @type {?} */
    LiveAppsCreatorDialogComponent.prototype.data;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1hcHBzLWNyZWF0b3ItZGlhbG9nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0aWJjby10Y3N0ay90Yy1saXZlYXBwcy1saWIvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9saXZlLWFwcHMtY3JlYXRvci1kaWFsb2cvbGl2ZS1hcHBzLWNyZWF0b3ItZGlhbG9nLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxNQUFNLEVBQVMsTUFBTSxlQUFlLENBQUM7QUFDeEQsT0FBTyxFQUFDLGVBQWUsRUFBRSxZQUFZLEVBQUMsTUFBTSxtQkFBbUIsQ0FBQztBQUNoRSxPQUFPLEVBQUMsMkJBQTJCLEVBQUMsTUFBTSw4QkFBOEIsQ0FBQztBQUN6RSxPQUFPLEVBQUMsU0FBUyxFQUFzQixNQUFNLDJCQUEyQixDQUFDOzs7Ozs7QUFhekUsTUFBTSxPQUFPLDhCQUE4Qjs7Ozs7SUFVekMsWUFDUyxTQUF1RCxFQUM5QixJQUFpQztRQUQxRCxjQUFTLEdBQVQsU0FBUyxDQUE4QztRQUM5QixTQUFJLEdBQUosSUFBSSxDQUE2QjtRQVM1RCxzQkFBaUI7Ozs7UUFBRyxDQUFDLFdBQXNCLEVBQUUsRUFBRTtZQUNwRCxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztZQUMvQixJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRTtnQkFDdkUsb0RBQW9EO2FBQ3JEO2lCQUFNLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEtBQUssSUFBSSxFQUFFO2dCQUNsRCwyQkFBMkI7Z0JBQzNCLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUM7YUFDeEI7UUFFSCxDQUFDLEVBQUE7UUFFRCxhQUFROzs7UUFBRyxHQUFHLEVBQUU7O2tCQUNSLFNBQVMsR0FBRyxJQUFJLFNBQVMsRUFBRSxDQUFDLFdBQVcsQ0FDM0MsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ2xILElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xDLENBQUMsRUFBQTtRQUVELGdCQUFXOzs7UUFBRyxHQUFHLEVBQUU7WUFDakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN6QixDQUFDLEVBQUE7UUEzQkMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDcEMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQzFDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUMxQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDNUMsQ0FBQzs7O1lBeEJGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsK0JBQStCO2dCQUN6Qyx1MURBQXNEOzthQUV2RDs7OztZQWR3QixZQUFZO1lBQzdCLDJCQUEyQix1QkEwQjlCLE1BQU0sU0FBQyxlQUFlOzs7O0lBVnpCLHFEQUE2Qjs7SUFDN0IsbURBQXlCOztJQUN6QixxREFBd0I7O0lBQ3hCLHFEQUE4Qjs7SUFDOUIsd0RBQXNDOztJQUN0Qyx3REFBK0I7O0lBQy9CLHdEQUE4Qjs7SUFhOUIsMkRBU0M7O0lBRUQsa0RBSUM7O0lBRUQscURBRUM7O0lBN0JDLG1EQUE4RDs7SUFDOUQsOENBQWlFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnQsIEluamVjdCwgT25Jbml0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7TUFUX0RJQUxPR19EQVRBLCBNYXREaWFsb2dSZWZ9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcbmltcG9ydCB7Q2FzZUNyZWF0b3JTZWxlY3Rpb25Db250ZXh0fSBmcm9tICcuLi8uLi9tb2RlbHMvdGMtY2FzZS1jcmVhdG9yJztcbmltcG9ydCB7Q2FzZVJvdXRlLCBDYXNlVHlwZSwgUHJvY2Vzc0lkfSBmcm9tICcuLi8uLi9tb2RlbHMvbGl2ZWFwcHNkYXRhJztcbmltcG9ydCB7Q3VzdG9tRm9ybURlZnN9IGZyb20gJ0B0aWJjby10Y3N0ay90Yy1mb3Jtcy1saWInO1xuXG4vKipcbiAqIERpYWxvZyB1c2VkIG9uIGhvbWUgc2NyZWVuIHRvIGFsbG93IGNhc2UgY3JlYXRpb24gKHdyYXBzIG90aGVyIGNvbXBvbmVudHMpXG4gKlxuICpAZXhhbXBsZSA8dGNsYS1saXZlLWFwcHMtY3JlYXRvci1kaWFsb2c+PC90Y2xhLWxpdmUtYXBwcy1jcmVhdG9yLWRpYWxvZz5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGNsYS1saXZlLWFwcHMtY3JlYXRvci1kaWFsb2cnLFxuICB0ZW1wbGF0ZVVybDogJ2xpdmUtYXBwcy1jcmVhdG9yLWRpYWxvZy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWydsaXZlLWFwcHMtY3JlYXRvci1kaWFsb2cuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIExpdmVBcHBzQ3JlYXRvckRpYWxvZ0NvbXBvbmVudCB7XG5cbiAgcHVibGljIGFwcGxpY2F0aW9uOiBDYXNlVHlwZTtcbiAgcHVibGljIHNhbmRib3hJZDogbnVtYmVyO1xuICBwdWJsaWMgaW5pdGlhbERhdGE6IGFueTtcbiAgcHVibGljIGNyZWF0ZWRDYXNlOiBQcm9jZXNzSWQ7XG4gIHB1YmxpYyBjdXN0b21Gb3JtRGVmczogQ3VzdG9tRm9ybURlZnM7XG4gIHB1YmxpYyBsZWdhY3lDcmVhdG9yczogYm9vbGVhbjtcbiAgcHVibGljIGZvcm1zRnJhbWV3b3JrOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGRpYWxvZ1JlZjogTWF0RGlhbG9nUmVmPExpdmVBcHBzQ3JlYXRvckRpYWxvZ0NvbXBvbmVudD4sXG4gICAgQEluamVjdChNQVRfRElBTE9HX0RBVEEpIHB1YmxpYyBkYXRhOiBDYXNlQ3JlYXRvclNlbGVjdGlvbkNvbnRleHQpIHtcbiAgICB0aGlzLmFwcGxpY2F0aW9uID0gZGF0YS5hcHBsaWNhdGlvbjtcbiAgICB0aGlzLnNhbmRib3hJZCA9IGRhdGEuc2FuZGJveElkO1xuICAgIHRoaXMuaW5pdGlhbERhdGEgPSBkYXRhLmluaXRpYWxEYXRhO1xuICAgIHRoaXMuY3VzdG9tRm9ybURlZnMgPSBkYXRhLmN1c3RvbUZvcm1EZWZzO1xuICAgIHRoaXMubGVnYWN5Q3JlYXRvcnMgPSBkYXRhLmxlZ2FjeUNyZWF0b3JzO1xuICAgIHRoaXMuZm9ybXNGcmFtZXdvcmsgPSBkYXRhLmZvcm1zRnJhbWV3b3JrO1xuICB9XG5cbiAgcHVibGljIGhhbmRsZUNhc2VDcmVhdGVkID0gKGNyZWF0ZWRDYXNlOiBQcm9jZXNzSWQpID0+IHtcbiAgICB0aGlzLmNyZWF0ZWRDYXNlID0gY3JlYXRlZENhc2U7XG4gICAgaWYgKCF0aGlzLmNyZWF0ZWRDYXNlLmNhc2VJZGVudGlmaWVyICYmICF0aGlzLmNyZWF0ZWRDYXNlLmNhc2VSZWZlcmVuY2UpIHtcbiAgICAgIC8vIGxlZ2FjeSBwcm9jZXNzIGZvcm0gKG5vIGNhc2UgcmVmZXJlbmNlIGF2YWlsYWJsZSlcbiAgICB9IGVsc2UgaWYgKHRoaXMuY3JlYXRlZENhc2UuY2FzZVJlZmVyZW5jZSA9PT0gJy0xJykge1xuICAgICAgLy8gbGVnYWN5IHByb2Nlc3MgY2FuY2VsbGVkXG4gICAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZSgpO1xuICAgIH1cblxuICB9XG5cbiAgb3BlbkNhc2UgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FzZVJvdXRlID0gbmV3IENhc2VSb3V0ZSgpLmRlc2VyaWFsaXplKFxuICAgICAgeyBjYXNlUmVmOiB0aGlzLmNyZWF0ZWRDYXNlLmNhc2VSZWZlcmVuY2UsIGFwcElkOiB0aGlzLmFwcGxpY2F0aW9uLmFwcGxpY2F0aW9uSWQsIHR5cGVJZDogdGhpcy5hcHBsaWNhdGlvbi5pZCB9KTtcbiAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZShjYXNlUm91dGUpO1xuICB9XG5cbiAgY2xvc2VEaWFsb2cgPSAoKSA9PiB7XG4gICAgdGhpcy5kaWFsb2dSZWYuY2xvc2UoKTtcbiAgfVxuXG59XG5cbiJdfQ==