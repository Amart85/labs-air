/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component } from '@angular/core';
import { Location } from '@angular/common';
import { TcCoreCommonFunctions, LandingPageItemConfig, TcGeneralLandingPageService } from '@tibco-tcstk/tc-core-lib';
import { Router, ActivatedRoute } from '@angular/router';
import { map } from 'rxjs/operators';
import { TcRolesService } from '../../services/tc-roles-service.ts.service';
/**
 * Landing page
 *
 * This component allows a configurable landing page on a per role basis
 *
 * \@example <tcla-live-apps-landing-page></tcla-live-apps-landing-page>
 */
export class LiveAppsLandingPageComponent {
    /**
     * @param {?} location
     * @param {?} route
     * @param {?} router
     * @param {?} landingPageService
     * @param {?} rolesService
     */
    constructor(location, route, router, landingPageService, rolesService) {
        this.location = location;
        this.route = route;
        this.router = router;
        this.landingPageService = landingPageService;
        this.rolesService = rolesService;
        this.moveHome = (/**
         * @return {?}
         */
        () => {
            this.router.navigate([this.navigateURL]);
        });
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        /** @type {?} */
        const uiAppId = this.route.snapshot.data.generalConfigHolder.uiAppId;
        /** @type {?} */
        const roleId = this.route.snapshot.data.activeRoleHolder.id;
        this.landingPageService.getLandingPageForRole(roleId, uiAppId).pipe(map((/**
         * @param {?} landingPage
         * @return {?}
         */
        landingPage => {
            if (landingPage != undefined) {
                this.title = landingPage.title;
                this.subtitle = landingPage.subtitle;
                this.backgroundImage = (landingPage.backgroundURL != '' ? TcCoreCommonFunctions.prepareUrlForStaticResource(this.location, landingPage.backgroundURL) : '');
                this.highlights = new Array();
                this.highlights.push(new LandingPageItemConfig().deserialize({
                    title: landingPage.highlights[0].title,
                    content: landingPage.highlights[0].content,
                    iconURL: landingPage.highlights[0].iconURL
                }));
                this.highlights.push(new LandingPageItemConfig().deserialize({
                    title: landingPage.highlights[1].title,
                    content: landingPage.highlights[1].content,
                    iconURL: landingPage.highlights[1].iconURL
                }));
                this.highlights.push(new LandingPageItemConfig().deserialize({
                    title: landingPage.highlights[2].title,
                    content: landingPage.highlights[2].content,
                    iconURL: landingPage.highlights[2].iconURL
                }));
                this.navigateURL = landingPage.homeRoute;
            }
            else {
                this.router.navigate(['errorHandler/NO_ROLE/NO_ROLE']);
            }
        }))).subscribe();
    }
}
LiveAppsLandingPageComponent.decorators = [
    { type: Component, args: [{
                selector: 'tcla-live-apps-landing-page',
                template: "<tc-tibco-cloud-splash-screen fxFill\n    [title]=\"title\" \n    [subTitle]=\"subtitle\" \n    [backGroundImage]=\"backgroundImage\"\n    [highlights]=\"highlights\"\n    (getStartedEvent)=\"moveHome()\">\n</tc-tibco-cloud-splash-screen>",
                styles: [""]
            }] }
];
/** @nocollapse */
LiveAppsLandingPageComponent.ctorParameters = () => [
    { type: Location },
    { type: ActivatedRoute },
    { type: Router },
    { type: TcGeneralLandingPageService },
    { type: TcRolesService }
];
if (false) {
    /** @type {?} */
    LiveAppsLandingPageComponent.prototype.title;
    /** @type {?} */
    LiveAppsLandingPageComponent.prototype.subtitle;
    /** @type {?} */
    LiveAppsLandingPageComponent.prototype.backgroundImage;
    /** @type {?} */
    LiveAppsLandingPageComponent.prototype.highlights;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.navigateURL;
    /** @type {?} */
    LiveAppsLandingPageComponent.prototype.moveHome;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.location;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.route;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.router;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.landingPageService;
    /**
     * @type {?}
     * @private
     */
    LiveAppsLandingPageComponent.prototype.rolesService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1hcHBzLWxhbmRpbmctcGFnZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGliY28tdGNzdGsvdGMtbGl2ZWFwcHMtbGliLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvbGl2ZS1hcHBzLWxhbmRpbmctcGFnZS9saXZlLWFwcHMtbGFuZGluZy1wYWdlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUFFLHFCQUFxQixFQUFFLHFCQUFxQixFQUFFLDJCQUEyQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckgsT0FBTyxFQUFFLE1BQU0sRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDckMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDRDQUE0QyxDQUFDOzs7Ozs7OztBQWU1RSxNQUFNLE9BQU8sNEJBQTRCOzs7Ozs7OztJQVNyQyxZQUNZLFFBQWtCLEVBQ2xCLEtBQXFCLEVBQ3JCLE1BQWMsRUFDZCxrQkFBK0MsRUFDL0MsWUFBNEI7UUFKNUIsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUNsQixVQUFLLEdBQUwsS0FBSyxDQUFnQjtRQUNyQixXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQ2QsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUE2QjtRQUMvQyxpQkFBWSxHQUFaLFlBQVksQ0FBZ0I7UUF5Q2pDLGFBQVE7OztRQUFHLEdBQVMsRUFBRTtZQUN6QixJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQzdDLENBQUMsRUFBQTtJQTFDRyxDQUFDOzs7O0lBRUwsUUFBUTs7Y0FDRSxP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QUFzQjs7Ozs7SUFDdEIsMERBQXVEOzs7OztJQUN2RCxvREFBb0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTG9jYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgVGNDb3JlQ29tbW9uRnVuY3Rpb25zLCBMYW5kaW5nUGFnZUl0ZW1Db25maWcsIFRjR2VuZXJhbExhbmRpbmdQYWdlU2VydmljZSB9IGZyb20gJ0B0aWJjby10Y3N0ay90Yy1jb3JlLWxpYic7XG5pbXBvcnQgeyBSb3V0ZXIsIEFjdGl2YXRlZFJvdXRlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFRjUm9sZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdGMtcm9sZXMtc2VydmljZS50cy5zZXJ2aWNlJztcblxuXG4vKipcbiAqIExhbmRpbmcgcGFnZVxuICpcbiAqIFRoaXMgY29tcG9uZW50IGFsbG93cyBhIGNvbmZpZ3VyYWJsZSBsYW5kaW5nIHBhZ2Ugb24gYSBwZXIgcm9sZSBiYXNpc1xuICpcbiAqIEBleGFtcGxlIDx0Y2xhLWxpdmUtYXBwcy1sYW5kaW5nLXBhZ2U+PC90Y2xhLWxpdmUtYXBwcy1sYW5kaW5nLXBhZ2U+XG4gKi9cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndGNsYS1saXZlLWFwcHMtbGFuZGluZy1wYWdlJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vbGl2ZS1hcHBzLWxhbmRpbmctcGFnZS5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vbGl2ZS1hcHBzLWxhbmRpbmctcGFnZS5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTGl2ZUFwcHNMYW5kaW5nUGFnZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBwdWJsaWMgdGl0bGU6IHN0cmluZztcbiAgICBwdWJsaWMgc3VidGl0bGU6IHN0cmluZztcbiAgICBwdWJsaWMgYmFja2dyb3VuZEltYWdlOiBzdHJpbmc7XG4gICAgcHVibGljIGhpZ2hsaWdodHM6IExhbmRpbmdQYWdlSXRlbUNvbmZpZ1tdO1xuICAgIFxuICAgIHByaXZhdGUgbmF2aWdhdGVVUkw6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgICAgICAgcHJpdmF0ZSByb3V0ZTogQWN0aXZhdGVkUm91dGUsXG4gICAgICAgIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsXG4gICAgICAgIHByaXZhdGUgbGFuZGluZ1BhZ2VTZXJ2aWNlOiBUY0dlbmVyYWxMYW5kaW5nUGFnZVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgcm9sZXNTZXJ2aWNlOiBUY1JvbGVzU2VydmljZVxuICAgICkgeyB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgY29uc3QgdWlBcHBJZCA9IHRoaXMucm91dGUuc25hcHNob3QuZGF0YS5nZW5lcmFsQ29uZmlnSG9sZGVyLnVpQXBwSWQ7XG4gICAgICAgIGNvbnN0IHJvbGVJZCA9IHRoaXMucm91dGUuc25hcHNob3QuZGF0YS5hY3RpdmVSb2xlSG9sZGVyLmlkO1xuXG4gICAgICAgICAgICB0aGlzLmxhbmRpbmdQYWdlU2VydmljZS5nZXRMYW5kaW5nUGFnZUZvclJvbGUocm9sZUlkLCB1aUFwcElkKS5waXBlKFxuICAgICAgICAgICAgICAgIG1hcChsYW5kaW5nUGFnZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYW5kaW5nUGFnZSAhPSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9IGxhbmRpbmdQYWdlLnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJ0aXRsZSA9IGxhbmRpbmdQYWdlLnN1YnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UgPSAobGFuZGluZ1BhZ2UuYmFja2dyb3VuZFVSTCAhPSAnJyA/IFRjQ29yZUNvbW1vbkZ1bmN0aW9ucy5wcmVwYXJlVXJsRm9yU3RhdGljUmVzb3VyY2UodGhpcy5sb2NhdGlvbiwgbGFuZGluZ1BhZ2UuYmFja2dyb3VuZFVSTCkgOiAnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0cyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRzLnB1c2gobmV3IExhbmRpbmdQYWdlSXRlbUNvbmZpZygpLmRlc2VyaWFsaXplKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogbGFuZGluZ1BhZ2UuaGlnaGxpZ2h0c1swXS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBsYW5kaW5nUGFnZS5oaWdobGlnaHRzWzBdLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVSTDogbGFuZGluZ1BhZ2UuaGlnaGxpZ2h0c1swXS5pY29uVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0cy5wdXNoKG5ldyBMYW5kaW5nUGFnZUl0ZW1Db25maWcoKS5kZXNlcmlhbGl6ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGxhbmRpbmdQYWdlLmhpZ2hsaWdodHNbMV0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogbGFuZGluZ1BhZ2UuaGlnaGxpZ2h0c1sxXS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25VUkw6IGxhbmRpbmdQYWdlLmhpZ2hsaWdodHNbMV0uaWNvblVSTFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodHMucHVzaChuZXcgTGFuZGluZ1BhZ2VJdGVtQ29uZmlnKCkuZGVzZXJpYWxpemUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBsYW5kaW5nUGFnZS5oaWdobGlnaHRzWzJdLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGxhbmRpbmdQYWdlLmhpZ2hsaWdodHNbMl0uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uVVJMOiBsYW5kaW5nUGFnZS5oaWdobGlnaHRzWzJdLmljb25VUkxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZVVSTCA9IGxhbmRpbmdQYWdlLmhvbWVSb3V0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFsnZXJyb3JIYW5kbGVyL05PX1JPTEUvTk9fUk9MRSddKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApLnN1YnNjcmliZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtb3ZlSG9tZSA9ICgpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3RoaXMubmF2aWdhdGVVUkxdKTtcbiAgICB9XG5cbn1cbiJdfQ==