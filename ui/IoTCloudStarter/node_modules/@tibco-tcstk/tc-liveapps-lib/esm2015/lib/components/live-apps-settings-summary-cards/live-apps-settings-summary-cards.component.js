/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component } from '@angular/core';
import { LiveAppsSettingsComponent } from '../live-apps-settings/live-apps-settings.component';
import { take, takeUntil } from 'rxjs/operators';
import { TcCaseCardConfigService } from '../../services/tc-case-card-config.service';
import { ActivatedRoute } from '@angular/router';
import { TcLiveAppsConfigService } from '../../services/tc-live-apps-config.service';
import { MatSnackBar } from '@angular/material';
/**
 * Configuration of summary cards
 *
 * ![alt-text](../live-apps-settings-summary-cards.png "")
 *
 * \@example <tcla-live-apps-settings-summary-cards></tcla-live-apps-settings-summary-cards>
 */
export class LiveAppsSettingsSummaryCardsComponent extends LiveAppsSettingsComponent {
    /**
     * @param {?} caseCardConfigService
     * @param {?} routeExt
     * @param {?} liveAppsConfigServiceExt
     * @param {?} snackBar
     */
    constructor(caseCardConfigService, routeExt, liveAppsConfigServiceExt, snackBar) {
        super(routeExt, liveAppsConfigServiceExt, snackBar);
        this.caseCardConfigService = caseCardConfigService;
        this.routeExt = routeExt;
        this.liveAppsConfigServiceExt = liveAppsConfigServiceExt;
        this.snackBar = snackBar;
        this.handleConfigChanged = (/**
         * @param {?} caseCardConfig
         * @return {?}
         */
        (caseCardConfig) => {
            this.caseCardConfig = caseCardConfig;
            console.log(caseCardConfig);
        });
        this.handleAppSelection = (/**
         * @param {?} application
         * @return {?}
         */
        (application) => {
            this.selectedApp = application;
        });
        this.runSaveFunction = (/**
         * @return {?}
         */
        () => {
            this.caseCardConfigService.updateCaseCardConfig(this.sandboxId, this.selectedApp.applicationId, this.generalConfig.uiAppId, this.caseCardConfig)
                .pipe(take(1), takeUntil(this._destroyed$)).subscribe((/**
             * @param {?} result
             * @return {?}
             */
            result => {
                this.caseCardConfig = result;
                this.snackBar.open('Summary cards settings saved', 'OK', {
                    duration: 3000
                });
            }), (/**
             * @param {?} error
             * @return {?}
             */
            error => {
                this.snackBar.open('Error saving Summary Cards settings', 'OK', {
                    duration: 3000
                });
                console.log('Unable to update case card config: ' + error.errorMsg);
            }));
        });
    }
}
LiveAppsSettingsSummaryCardsComponent.decorators = [
    { type: Component, args: [{
                selector: 'tcla-live-apps-settings-summary-cards',
                template: "<div fxLayout=\"column\" class=\"tcs-live-apps-summary-cards-settings\" fxFill>\n  <tc-tibco-cloud-widget-header style=\"height: 40px;\" [icon]=\"'tcs-capabilities'\" [headerText]=\"'Live Apps Summary Card Configuration'\"></tc-tibco-cloud-widget-header>\n\n  <div style=\"padding: 20px 20px 20px 20px;\" fxLayout=\"column\" fxFlex>\n    <div class=\"tcs-card-config-widget-pane\" fxFlex fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\n      <tcla-live-apps-app-configuration-widget fxFlex=\"grow\" [sandboxId]=\"sandboxId\" [appIds]=\"liveAppsConfig.applicationIds\" [uiAppId]=\"generalConfig.uiAppId\" [folderId]=\"liveAppsConfig.caseIconsFolderId\" (configChanged)=\"handleConfigChanged($event)\" (appSelected)=\"handleAppSelection($event)\"></tcla-live-apps-app-configuration-widget>\n    </div>\n    <div fxLayout=\"column\" fxLayoutAlign=\"end end\" style=\"min-height: 50px\">\n      <button mat-raised-button color=\"primary\" (click)=\"runSaveFunction()\" [disabled]=\"!caseCardConfig || !selectedApp\">Save</button>\n    </div>\n  </div>\n</div>\n",
                styles: [".tcs-card-config-widget-pane,.tcs-live-apps-summary-cards-settings{overflow:hidden}"]
            }] }
];
/** @nocollapse */
LiveAppsSettingsSummaryCardsComponent.ctorParameters = () => [
    { type: TcCaseCardConfigService },
    { type: ActivatedRoute },
    { type: TcLiveAppsConfigService },
    { type: MatSnackBar }
];
if (false) {
    /** @type {?} */
    LiveAppsSettingsSummaryCardsComponent.prototype.caseCardConfig;
    /** @type {?} */
    LiveAppsSettingsSummaryCardsComponent.prototype.selectedApp;
    /** @type {?} */
    LiveAppsSettingsSummaryCardsComponent.prototype.handleConfigChanged;
    /** @type {?} */
    LiveAppsSettingsSummaryCardsComponent.prototype.handleAppSelection;
    /** @type {?} */
    LiveAppsSettingsSummaryCardsComponent.prototype.runSaveFunction;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsSettingsSummaryCardsComponent.prototype.caseCardConfigService;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsSettingsSummaryCardsComponent.prototype.routeExt;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsSettingsSummaryCardsComponent.prototype.liveAppsConfigServiceExt;
    /**
     * @type {?}
     * @protected
     */
    LiveAppsSettingsSummaryCardsComponent.prototype.snackBar;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1hcHBzLXNldHRpbmdzLXN1bW1hcnktY2FyZHMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRpYmNvLXRjc3RrL3RjLWxpdmVhcHBzLWxpYi8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL2xpdmUtYXBwcy1zZXR0aW5ncy1zdW1tYXJ5LWNhcmRzL2xpdmUtYXBwcy1zZXR0aW5ncy1zdW1tYXJ5LWNhcmRzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQUMseUJBQXlCLEVBQUMsTUFBTSxvREFBb0QsQ0FBQztBQUU3RixPQUFPLEVBQU0sSUFBSSxFQUFFLFNBQVMsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBQ3BELE9BQU8sRUFBQyx1QkFBdUIsRUFBQyxNQUFNLDRDQUE0QyxDQUFDO0FBR25GLE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUMsdUJBQXVCLEVBQUMsTUFBTSw0Q0FBNEMsQ0FBQztBQUVuRixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7Ozs7Ozs7O0FBZWhELE1BQU0sT0FBTyxxQ0FBc0MsU0FBUSx5QkFBeUI7Ozs7Ozs7SUFLbEYsWUFBc0IscUJBQThDLEVBQVksUUFBd0IsRUFBWSx3QkFBaUQsRUFBWSxRQUFxQjtRQUNwTSxLQUFLLENBQUMsUUFBUSxFQUFFLHdCQUF3QixFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBRGhDLDBCQUFxQixHQUFyQixxQkFBcUIsQ0FBeUI7UUFBWSxhQUFRLEdBQVIsUUFBUSxDQUFnQjtRQUFZLDZCQUF3QixHQUF4Qix3QkFBd0IsQ0FBeUI7UUFBWSxhQUFRLEdBQVIsUUFBUSxDQUFhO1FBSS9MLHdCQUFtQjs7OztRQUFHLENBQUMsY0FBOEIsRUFBRSxFQUFFO1lBQzlELElBQUksQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO1lBQ3JDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDOUIsQ0FBQyxFQUFBO1FBRU0sdUJBQWtCOzs7O1FBQUcsQ0FBQyxXQUFxQixFQUFFLEVBQUU7WUFDcEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDakMsQ0FBQyxFQUFBO1FBRU0sb0JBQWU7OztRQUFHLEdBQVMsRUFBRTtZQUNsQyxJQUFJLENBQUMscUJBQXFCLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDO2lCQUM3SSxJQUFJLENBQ0gsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNQLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQzVCLENBQUMsU0FBUzs7OztZQUNQLE1BQU0sQ0FBQyxFQUFFO2dCQUNMLElBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDO2dCQUM3QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyw4QkFBOEIsRUFBRSxJQUFJLEVBQUU7b0JBQ3JELFFBQVEsRUFBRSxJQUFJO2lCQUNqQixDQUFDLENBQUM7WUFDUCxDQUFDOzs7O1lBQ0QsS0FBSyxDQUFDLEVBQUU7Z0JBQ0osSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMscUNBQXFDLEVBQUUsSUFBSSxFQUFFO29CQUM1RCxRQUFRLEVBQUUsSUFBSTtpQkFDakIsQ0FBQyxDQUFDO2dCQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMscUNBQXFDLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3hFLENBQUMsRUFDTixDQUFDO1FBQ0osQ0FBQyxFQUFBO0lBOUJELENBQUM7OztZQVpGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsdUNBQXVDO2dCQUNqRCxtakNBQWdFOzthQUVqRTs7OztZQXBCTyx1QkFBdUI7WUFHdkIsY0FBYztZQUNkLHVCQUF1QjtZQUV0QixXQUFXOzs7O0lBaUJsQiwrREFBc0M7O0lBQ3RDLDREQUE2Qjs7SUFNN0Isb0VBR0M7O0lBRUQsbUVBRUM7O0lBRUQsZ0VBbUJDOzs7OztJQWhDVyxzRUFBd0Q7Ozs7O0lBQUUseURBQWtDOzs7OztJQUFFLHlFQUEyRDs7Ozs7SUFBRSx5REFBK0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtMaXZlQXBwc1NldHRpbmdzQ29tcG9uZW50fSBmcm9tICcuLi9saXZlLWFwcHMtc2V0dGluZ3MvbGl2ZS1hcHBzLXNldHRpbmdzLmNvbXBvbmVudCc7XG5pbXBvcnQge0Nhc2VDYXJkQ29uZmlnfSBmcm9tICcuLi8uLi9tb2RlbHMvdGMtY2FzZS1jYXJkLWNvbmZpZyc7XG5pbXBvcnQge21hcCwgdGFrZSwgdGFrZVVudGlsfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge1RjQ2FzZUNhcmRDb25maWdTZXJ2aWNlfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy90Yy1jYXNlLWNhcmQtY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHtIdHRwQ2xpZW50fSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQge0RvbVNhbml0aXplcn0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5pbXBvcnQge0FjdGl2YXRlZFJvdXRlfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHtUY0xpdmVBcHBzQ29uZmlnU2VydmljZX0gZnJvbSAnLi4vLi4vc2VydmljZXMvdGMtbGl2ZS1hcHBzLWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7Q2FzZVR5cGV9IGZyb20gJy4uLy4uL21vZGVscy9saXZlYXBwc2RhdGEnO1xuaW1wb3J0IHsgTWF0U25hY2tCYXIgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIG9mIHN1bW1hcnkgY2FyZHNcbiAqXG4gKiAhW2FsdC10ZXh0XSguLi9saXZlLWFwcHMtc2V0dGluZ3Mtc3VtbWFyeS1jYXJkcy5wbmcgXCJcIilcbiAqXG4gKkBleGFtcGxlIDx0Y2xhLWxpdmUtYXBwcy1zZXR0aW5ncy1zdW1tYXJ5LWNhcmRzPjwvdGNsYS1saXZlLWFwcHMtc2V0dGluZ3Mtc3VtbWFyeS1jYXJkcz5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGNsYS1saXZlLWFwcHMtc2V0dGluZ3Mtc3VtbWFyeS1jYXJkcycsXG4gIHRlbXBsYXRlVXJsOiAnLi9saXZlLWFwcHMtc2V0dGluZ3Mtc3VtbWFyeS1jYXJkcy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2xpdmUtYXBwcy1zZXR0aW5ncy1zdW1tYXJ5LWNhcmRzLmNvbXBvbmVudC5jc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBMaXZlQXBwc1NldHRpbmdzU3VtbWFyeUNhcmRzQ29tcG9uZW50IGV4dGVuZHMgTGl2ZUFwcHNTZXR0aW5nc0NvbXBvbmVudCB7XG5cbiAgcHVibGljIGNhc2VDYXJkQ29uZmlnOiBDYXNlQ2FyZENvbmZpZztcbiAgcHVibGljIHNlbGVjdGVkQXBwOiBDYXNlVHlwZTtcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgY2FzZUNhcmRDb25maWdTZXJ2aWNlOiBUY0Nhc2VDYXJkQ29uZmlnU2VydmljZSwgcHJvdGVjdGVkIHJvdXRlRXh0OiBBY3RpdmF0ZWRSb3V0ZSwgcHJvdGVjdGVkIGxpdmVBcHBzQ29uZmlnU2VydmljZUV4dDogVGNMaXZlQXBwc0NvbmZpZ1NlcnZpY2UsIHByb3RlY3RlZCBzbmFja0JhcjogTWF0U25hY2tCYXIpIHtcbiAgICBzdXBlcihyb3V0ZUV4dCwgbGl2ZUFwcHNDb25maWdTZXJ2aWNlRXh0LCBzbmFja0Jhcik7XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlQ29uZmlnQ2hhbmdlZCA9IChjYXNlQ2FyZENvbmZpZzogQ2FzZUNhcmRDb25maWcpID0+IHtcbiAgICB0aGlzLmNhc2VDYXJkQ29uZmlnID0gY2FzZUNhcmRDb25maWc7XG4gICAgY29uc29sZS5sb2coY2FzZUNhcmRDb25maWcpO1xuICB9XG5cbiAgcHVibGljIGhhbmRsZUFwcFNlbGVjdGlvbiA9IChhcHBsaWNhdGlvbjogQ2FzZVR5cGUpID0+IHtcbiAgICB0aGlzLnNlbGVjdGVkQXBwID0gYXBwbGljYXRpb247XG4gIH1cblxuICBwdWJsaWMgcnVuU2F2ZUZ1bmN0aW9uID0gKCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuY2FzZUNhcmRDb25maWdTZXJ2aWNlLnVwZGF0ZUNhc2VDYXJkQ29uZmlnKHRoaXMuc2FuZGJveElkLCB0aGlzLnNlbGVjdGVkQXBwLmFwcGxpY2F0aW9uSWQsIHRoaXMuZ2VuZXJhbENvbmZpZy51aUFwcElkLCB0aGlzLmNhc2VDYXJkQ29uZmlnKVxuICAgICAgLnBpcGUoXG4gICAgICAgIHRha2UoMSksXG4gICAgICAgIHRha2VVbnRpbCh0aGlzLl9kZXN0cm95ZWQkKVxuICAgICAgKS5zdWJzY3JpYmUoXG4gICAgICAgICAgcmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5jYXNlQ2FyZENvbmZpZyA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgdGhpcy5zbmFja0Jhci5vcGVuKCdTdW1tYXJ5IGNhcmRzIHNldHRpbmdzIHNhdmVkJywgJ09LJywge1xuICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMDBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuc25hY2tCYXIub3BlbignRXJyb3Igc2F2aW5nIFN1bW1hcnkgQ2FyZHMgc2V0dGluZ3MnLCAnT0snLCB7XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VuYWJsZSB0byB1cGRhdGUgY2FzZSBjYXJkIGNvbmZpZzogJyArIGVycm9yLmVycm9yTXNnKTtcbiAgICAgICAgICB9XG4gICAgKTtcbiAgfVxuXG59XG4iXX0=