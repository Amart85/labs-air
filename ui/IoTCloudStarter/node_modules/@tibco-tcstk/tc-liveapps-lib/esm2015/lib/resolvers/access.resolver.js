/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { TcCoreCommonFunctions, } from '@tibco-tcstk/tc-core-lib';
import { map } from 'rxjs/operators';
import { RouteAccessControlConfig } from '../models/tc-groups-data';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Location } from '@angular/common';
export class AccessResolver {
    /**
     * @param {?} http
     * @param {?} location
     */
    constructor(http, location) {
        this.http = http;
        this.location = location;
        this.ACCESS_CONTROL_CONFIG_URL = 'assets/config/routeAccessControl.json';
    }
    /**
     * @return {?}
     */
    resolve() {
        /** @type {?} */
        const headers = new HttpHeaders().set('cacheResponse', 'true');
        return this.http.get(TcCoreCommonFunctions.prepareUrlForStaticResource(this.location, this.ACCESS_CONTROL_CONFIG_URL), { headers }).pipe(map((/**
         * @param {?} accessControl
         * @return {?}
         */
        accessControl => {
            /** @type {?} */
            const routeAccessControlConfig = new RouteAccessControlConfig().deserialize(accessControl);
            return routeAccessControlConfig;
        })));
    }
}
AccessResolver.decorators = [
    { type: Injectable }
];
/** @nocollapse */
AccessResolver.ctorParameters = () => [
    { type: HttpClient },
    { type: Location }
];
if (false) {
    /** @type {?} */
    AccessResolver.prototype.ACCESS_CONTROL_CONFIG_URL;
    /**
     * @type {?}
     * @private
     */
    AccessResolver.prototype.http;
    /**
     * @type {?}
     * @private
     */
    AccessResolver.prototype.location;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjZXNzLnJlc29sdmVyLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRpYmNvLXRjc3RrL3RjLWxpdmVhcHBzLWxpYi8iLCJzb3VyY2VzIjpbImxpYi9yZXNvbHZlcnMvYWNjZXNzLnJlc29sdmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRzNDLE9BQU8sRUFDTCxxQkFBcUIsR0FDdEIsTUFBTSwwQkFBMEIsQ0FBQztBQUNsQyxPQUFPLEVBQUMsR0FBRyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFDbkMsT0FBTyxFQUFDLHdCQUF3QixFQUFDLE1BQU0sMEJBQTBCLENBQUM7QUFDbEUsT0FBTyxFQUFDLFVBQVUsRUFBRSxXQUFXLEVBQUMsTUFBTSxzQkFBc0IsQ0FBQztBQUM3RCxPQUFPLEVBQUMsUUFBUSxFQUFDLE1BQU0saUJBQWlCLENBQUM7QUFHekMsTUFBTSxPQUFPLGNBQWM7Ozs7O0lBSXpCLFlBQW9CLElBQWdCLEVBQVUsUUFBa0I7UUFBNUMsU0FBSSxHQUFKLElBQUksQ0FBWTtRQUFVLGFBQVEsR0FBUixRQUFRLENBQVU7UUFGaEUsOEJBQXlCLEdBQUcsdUNBQXVDLENBQUM7SUFHcEUsQ0FBQzs7OztJQUVELE9BQU87O2NBQ0MsT0FBTyxHQUFHLElBQUksV0FBVyxFQUFFLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxNQUFNLENBQUM7UUFDOUQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQ3RJLEdBQUc7Ozs7UUFBQyxhQUFhLENBQUMsRUFBRTs7a0JBQ1osd0JBQXdCLEdBQUcsSUFBSSx3QkFBd0IsRUFBRSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUM7WUFDMUYsT0FBTyx3QkFBd0IsQ0FBQztRQUNsQyxDQUFDLEVBQUMsQ0FDSCxDQUFDO0lBQ0osQ0FBQzs7O1lBaEJGLFVBQVU7Ozs7WUFISCxVQUFVO1lBQ1YsUUFBUTs7OztJQUtkLG1EQUFvRTs7Ozs7SUFFeEQsOEJBQXdCOzs7OztJQUFFLGtDQUEwQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7UmVzb2x2ZX0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQge1xuICBUY0NvcmVDb21tb25GdW5jdGlvbnMsXG59IGZyb20gJ0B0aWJjby10Y3N0ay90Yy1jb3JlLWxpYic7XG5pbXBvcnQge21hcH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHtSb3V0ZUFjY2Vzc0NvbnRyb2xDb25maWd9IGZyb20gJy4uL21vZGVscy90Yy1ncm91cHMtZGF0YSc7XG5pbXBvcnQge0h0dHBDbGllbnQsIEh0dHBIZWFkZXJzfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQge0xvY2F0aW9ufSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQWNjZXNzUmVzb2x2ZXIgaW1wbGVtZW50cyBSZXNvbHZlPE9ic2VydmFibGU8Um91dGVBY2Nlc3NDb250cm9sQ29uZmlnPj4ge1xuXG4gIEFDQ0VTU19DT05UUk9MX0NPTkZJR19VUkwgPSAnYXNzZXRzL2NvbmZpZy9yb3V0ZUFjY2Vzc0NvbnRyb2wuanNvbic7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50LCBwcml2YXRlIGxvY2F0aW9uOiBMb2NhdGlvbikge1xuICB9XG5cbiAgcmVzb2x2ZSgpOiBPYnNlcnZhYmxlPFJvdXRlQWNjZXNzQ29udHJvbENvbmZpZz4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5zZXQoJ2NhY2hlUmVzcG9uc2UnLCAndHJ1ZScpO1xuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KFRjQ29yZUNvbW1vbkZ1bmN0aW9ucy5wcmVwYXJlVXJsRm9yU3RhdGljUmVzb3VyY2UodGhpcy5sb2NhdGlvbiwgdGhpcy5BQ0NFU1NfQ09OVFJPTF9DT05GSUdfVVJMKSwgeyBoZWFkZXJzIH0pLnBpcGUoXG4gICAgICBtYXAoYWNjZXNzQ29udHJvbCA9PiB7XG4gICAgICAgIGNvbnN0IHJvdXRlQWNjZXNzQ29udHJvbENvbmZpZyA9IG5ldyBSb3V0ZUFjY2Vzc0NvbnRyb2xDb25maWcoKS5kZXNlcmlhbGl6ZShhY2Nlc3NDb250cm9sKTtcbiAgICAgICAgcmV0dXJuIHJvdXRlQWNjZXNzQ29udHJvbENvbmZpZztcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG59XG4iXX0=