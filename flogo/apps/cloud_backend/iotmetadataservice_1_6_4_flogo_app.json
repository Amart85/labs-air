{
    "imports": [
        "github.com/project-flogo/flow",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/activity/log",
        "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/activity/query",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/activity/mapper",
        "github.com/project-flogo/contrib/activity/actreturn",
        "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/activity/insert",
        "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/activity/delete",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/trigger/rest",
        "github.com/project-flogo/contrib/function/array",
        "github.com/project-flogo/contrib/function/coerce",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/function/utility",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/function/boolean"
    ],
    "name": "iotmetadataservice_1_6_4_flogo_app",
    "description": " ",
    "version": "1.1.0",
    "type": "flogo:app",
    "appModel": "1.1.1",
    "triggers": [
        {
            "ref": "#rest",
            "name": "tibco-wi-rest",
            "description": "Simple REST Trigger",
            "settings": {
                "port": 9999,
                "secureConnection": false,
                "serverKey": "",
                "caCertificate": "",
                "swagger": ""
            },
            "id": "ReceiveHTTPMessage",
            "handlers": [
                {
                    "description": "",
                    "settings": {
                        "Method": "GET",
                        "Path": "/iotmetadataservice/{deviceid}",
                        "OutputValidation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:getIotmetadataservice_deviceid_GET"
                        },
                        "input": {
                            "pathParams": {
                                "mapping": {
                                    "deviceid": "=$.pathParams.deviceid"
                                }
                            }
                        },
                        "output": {
                            "code": "=$.code",
                            "responseBody": "=$.responseBody"
                        }
                    },
                    "reply": {
                        "code": 200,
                        "configureResponseCodes": true,
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "responseCodesSchema": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"number\"},\"responseType\":{\"type\":\"string\"},\"responseSchema\":{\"type\":\"string\"}}}}",
                                "fe_metadata": "[{\"code\":200,\"responseType\":\"object\",\"responseSchema\":\"{\\\"description\\\":\\\"\\\",\\\"id\\\":\\\"c2f70154-f087-4256-8b56-d5dd0b4fda25\\\",\\\"name\\\":\\\"mesh-argon-10\\\",\\\"adminState\\\":\\\"UNLOCKED\\\",\\\"operatingState\\\":\\\"ENABLED\\\",\\\"labels\\\":[\\\"industrial\\\",\\\"mqtt\\\"],\\\"profile\\\":{\\\"created\\\":1568211489149,\\\"modified\\\":1568211489149,\\\"description\\\":\\\"Particle device profile\\\",\\\"id\\\":\\\"3c6043c0-a8fa-4195-89d4-8072693aa189\\\",\\\"name\\\":\\\"Particle-Device\\\",\\\"manufacturer\\\":\\\"Particle\\\",\\\"model\\\":\\\"Mesh\\\",\\\"labels\\\":[\\\"mqtt\\\"],\\\"deviceResources\\\":[{\\\"description\\\":\\\"Measures intensity of light. The brighter the light, the larger the value\\\",\\\"name\\\":\\\"LightSensor\\\",\\\"properties\\\":{\\\"value\\\":{\\\"type\\\":\\\"INT16\\\",\\\"readWrite\\\":\\\"RW\\\",\\\"minimum\\\":\\\"0\\\",\\\"defaultValue\\\":\\\"0\\\"},\\\"units\\\":{\\\"type\\\":\\\"String\\\",\\\"readWrite\\\":\\\"R\\\",\\\"defaultValue\\\":\\\"lunen\\\"}},\\\"attributes\\\":{\\\"Interface\\\":\\\"AIO\\\",\\\"Pin_Num\\\":\\\"A0\\\",\\\"Type\\\":\\\"IN\\\"}},{\\\"description\\\":\\\"Measures angular range. Produces analog output between 0 and Vcc (3.3VDC)\\\",\\\"name\\\":\\\"RotaryAngleSensor\\\",\\\"properties\\\":{\\\"value\\\":{\\\"type\\\":\\\"INT16\\\",\\\"readWrite\\\":\\\"RW\\\",\\\"minimum\\\":\\\"0\\\",\\\"maximum\\\":\\\"300\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"scale\\\":\\\"1\\\"},\\\"units\\\":{\\\"type\\\":\\\"String\\\",\\\"readWrite\\\":\\\"R\\\",\\\"defaultValue\\\":\\\"Degree\\\"}},\\\"attributes\\\":{\\\"Interface\\\":\\\"AIO\\\",\\\"Pin_Num\\\":\\\"A4\\\",\\\"Type\\\":\\\"IN\\\",\\\"normalize\\\":\\\"false\\\"}},{\\\"description\\\":\\\"On/Off , 0-OFF 1-ON\\\",\\\"name\\\":\\\"Button\\\",\\\"properties\\\":{\\\"value\\\":{\\\"type\\\":\\\"BOOL\\\",\\\"readWrite\\\":\\\"RW\\\",\\\"minimum\\\":\\\"0\\\",\\\"maximum\\\":\\\"1\\\",\\\"defaultValue\\\":\\\"0\\\"},\\\"units\\\":{\\\"type\\\":\\\"String\\\",\\\"readWrite\\\":\\\"R\\\",\\\"defaultValue\\\":\\\"OFF\\\"}},\\\"attributes\\\":{\\\"Interface\\\":\\\"GPIO\\\",\\\"Pin_Num\\\":\\\"A2\\\",\\\"Type\\\":\\\"IN\\\"}},{\\\"description\\\":\\\"Turn the LED to On/Off\\\",\\\"name\\\":\\\"Led\\\",\\\"properties\\\":{\\\"value\\\":{\\\"type\\\":\\\"BOOL\\\",\\\"readWrite\\\":\\\"RW\\\",\\\"minimum\\\":\\\"0\\\",\\\"maximum\\\":\\\"1\\\",\\\"defaultValue\\\":\\\"0\\\",\\\"size\\\":\\\"1\\\"},\\\"units\\\":{\\\"type\\\":\\\"String\\\",\\\"readWrite\\\":\\\"R\\\",\\\"defaultValue\\\":\\\"OFF\\\"}},\\\"attributes\\\":{\\\"Interface\\\":\\\"GPIO\\\",\\\"Pin_Num\\\":\\\"D2\\\",\\\"Type\\\":\\\"OUT\\\"}}]}}\"}]"
                            }
                        },
                        "output": {
                            "pathParams": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}},\"required\":[]}",
                                "fe_metadata": "[{\"parameterName\":\"deviceid\",\"type\":\"string\"}]"
                            }
                        }
                    }
                },
                {
                    "description": "",
                    "settings": {
                        "Method": "POST",
                        "Path": "/iotmetadataservice/{deviceid}",
                        "OutputValidation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:postIotmetadataservice_deviceid_POST"
                        },
                        "input": {
                            "pathParams": {
                                "mapping": {
                                    "deviceid": "=$.pathParams.deviceid"
                                }
                            },
                            "body": "=$.body"
                        },
                        "output": {
                            "code": "=$.code",
                            "responseBody": "=$.responseBody"
                        }
                    },
                    "reply": {
                        "code": 200,
                        "configureResponseCodes": true,
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "responseCodesSchema": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"number\"},\"responseType\":{\"type\":\"string\"}}}}",
                                "fe_metadata": "[{\"code\":200,\"responseType\":\"string\"}]"
                            }
                        },
                        "output": {
                            "pathParams": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}},\"required\":[]}",
                                "fe_metadata": "[{\"parameterName\":\"deviceid\",\"type\":\"string\"}]"
                            },
                            "body": {
                                "type": "json",
                                "value": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"description\": {\n      \"type\": \"string\",\n      \"default\": \"\"\n    },\n    \"id\": {\n      \"type\": \"string\",\n      \"default\": \"c2f70154-f087-4256-8b56-d5dd0b4fda25\"\n    },\n    \"name\": {\n      \"type\": \"string\",\n      \"default\": \"mesh-argon-10\"\n    },\n    \"adminState\": {\n      \"type\": \"string\",\n      \"default\": \"UNLOCKED\"\n    },\n    \"operatingState\": {\n      \"type\": \"string\",\n      \"default\": \"ENABLED\"\n    },\n    \"labels\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\",\n        \"default\": \"mqtt\"\n      }\n    },\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"created\": {\n          \"type\": \"integer\",\n          \"default\": 1568211489149\n        },\n        \"modified\": {\n          \"type\": \"integer\",\n          \"default\": 1568211489149\n        },\n        \"description\": {\n          \"type\": \"string\",\n          \"default\": \"Particle device profile\"\n        },\n        \"id\": {\n          \"type\": \"string\",\n          \"default\": \"3c6043c0-a8fa-4195-89d4-8072693aa189\"\n        },\n        \"name\": {\n          \"type\": \"string\",\n          \"default\": \"Particle-Device\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\",\n          \"default\": \"Particle\"\n        },\n        \"model\": {\n          \"type\": \"string\",\n          \"default\": \"Mesh\"\n        },\n        \"labels\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\",\n            \"default\": \"mqtt\"\n          }\n        },\n        \"deviceResources\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"description\": {\n                \"type\": \"string\",\n                \"default\": \"Turn the LED to On/Off\"\n              },\n              \"name\": {\n                \"type\": \"string\",\n                \"default\": \"Led\"\n              },\n              \"properties\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"value\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"default\": \"BOOL\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\",\n                        \"default\": \"RW\"\n                      },\n                      \"minimum\": {\n                        \"type\": \"string\",\n                        \"default\": \"0\"\n                      },\n                      \"maximum\": {\n                        \"type\": \"string\",\n                        \"default\": \"1\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\",\n                        \"default\": \"0\"\n                      },\n                      \"size\": {\n                        \"type\": \"string\",\n                        \"default\": \"1\"\n                      }\n                    }\n                  },\n                  \"units\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"default\": \"String\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\",\n                        \"default\": \"R\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\",\n                        \"default\": \"OFF\"\n                      }\n                    }\n                  }\n                }\n              },\n              \"attributes\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"Interface\": {\n                    \"type\": \"string\",\n                    \"default\": \"GPIO\"\n                  },\n                  \"Pin_Num\": {\n                    \"type\": \"string\",\n                    \"default\": \"D2\"\n                  },\n                  \"Type\": {\n                    \"type\": \"string\",\n                    \"default\": \"OUT\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}",
                                "fe_metadata": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"description\": {\n      \"type\": \"string\",\n      \"default\": \"\"\n    },\n    \"id\": {\n      \"type\": \"string\",\n      \"default\": \"c2f70154-f087-4256-8b56-d5dd0b4fda25\"\n    },\n    \"name\": {\n      \"type\": \"string\",\n      \"default\": \"mesh-argon-10\"\n    },\n    \"adminState\": {\n      \"type\": \"string\",\n      \"default\": \"UNLOCKED\"\n    },\n    \"operatingState\": {\n      \"type\": \"string\",\n      \"default\": \"ENABLED\"\n    },\n    \"labels\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\",\n        \"default\": \"mqtt\"\n      }\n    },\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"created\": {\n          \"type\": \"integer\",\n          \"default\": 1568211489149\n        },\n        \"modified\": {\n          \"type\": \"integer\",\n          \"default\": 1568211489149\n        },\n        \"description\": {\n          \"type\": \"string\",\n          \"default\": \"Particle device profile\"\n        },\n        \"id\": {\n          \"type\": \"string\",\n          \"default\": \"3c6043c0-a8fa-4195-89d4-8072693aa189\"\n        },\n        \"name\": {\n          \"type\": \"string\",\n          \"default\": \"Particle-Device\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\",\n          \"default\": \"Particle\"\n        },\n        \"model\": {\n          \"type\": \"string\",\n          \"default\": \"Mesh\"\n        },\n        \"labels\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\",\n            \"default\": \"mqtt\"\n          }\n        },\n        \"deviceResources\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"description\": {\n                \"type\": \"string\",\n                \"default\": \"Turn the LED to On/Off\"\n              },\n              \"name\": {\n                \"type\": \"string\",\n                \"default\": \"Led\"\n              },\n              \"properties\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"value\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"default\": \"BOOL\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\",\n                        \"default\": \"RW\"\n                      },\n                      \"minimum\": {\n                        \"type\": \"string\",\n                        \"default\": \"0\"\n                      },\n                      \"maximum\": {\n                        \"type\": \"string\",\n                        \"default\": \"1\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\",\n                        \"default\": \"0\"\n                      },\n                      \"size\": {\n                        \"type\": \"string\",\n                        \"default\": \"1\"\n                      }\n                    }\n                  },\n                  \"units\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"default\": \"String\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\",\n                        \"default\": \"R\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\",\n                        \"default\": \"OFF\"\n                      }\n                    }\n                  }\n                }\n              },\n              \"attributes\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"Interface\": {\n                    \"type\": \"string\",\n                    \"default\": \"GPIO\"\n                  },\n                  \"Pin_Num\": {\n                    \"type\": \"string\",\n                    \"default\": \"D2\"\n                  },\n                  \"Type\": {\n                    \"type\": \"string\",\n                    \"default\": \"OUT\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
                            }
                        }
                    }
                },
                {
                    "description": "",
                    "settings": {
                        "Method": "PUT",
                        "Path": "/iotmetadataservice/{deviceid}",
                        "OutputValidation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:putIotmetadataservice_deviceid_PUT"
                        }
                    },
                    "reply": {
                        "code": 200,
                        "configureResponseCodes": true,
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "responseCodesSchema": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"number\"},\"responseType\":{\"type\":\"string\"}}}}",
                                "fe_metadata": "[{\"code\":200,\"responseType\":\"string\"}]"
                            }
                        },
                        "output": {
                            "pathParams": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}},\"required\":[]}",
                                "fe_metadata": "[{\"parameterName\":\"deviceid\",\"type\":\"string\"}]"
                            },
                            "body": {
                                "type": "json",
                                "value": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"description\": {\n      \"type\": \"string\",\n      \"default\": \"\"\n    },\n    \"id\": {\n      \"type\": \"string\",\n      \"default\": \"c2f70154-f087-4256-8b56-d5dd0b4fda25\"\n    },\n    \"name\": {\n      \"type\": \"string\",\n      \"default\": \"mesh-argon-10\"\n    },\n    \"adminState\": {\n      \"type\": \"string\",\n      \"default\": \"UNLOCKED\"\n    },\n    \"operatingState\": {\n      \"type\": \"string\",\n      \"default\": \"ENABLED\"\n    },\n    \"labels\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\",\n        \"default\": \"mqtt\"\n      }\n    },\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"created\": {\n          \"type\": \"integer\",\n          \"default\": 1568211489149\n        },\n        \"modified\": {\n          \"type\": \"integer\",\n          \"default\": 1568211489149\n        },\n        \"description\": {\n          \"type\": \"string\",\n          \"default\": \"Particle device profile\"\n        },\n        \"id\": {\n          \"type\": \"string\",\n          \"default\": \"3c6043c0-a8fa-4195-89d4-8072693aa189\"\n        },\n        \"name\": {\n          \"type\": \"string\",\n          \"default\": \"Particle-Device\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\",\n          \"default\": \"Particle\"\n        },\n        \"model\": {\n          \"type\": \"string\",\n          \"default\": \"Mesh\"\n        },\n        \"labels\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\",\n            \"default\": \"mqtt\"\n          }\n        },\n        \"deviceResources\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"description\": {\n                \"type\": \"string\",\n                \"default\": \"Turn the LED to On/Off\"\n              },\n              \"name\": {\n                \"type\": \"string\",\n                \"default\": \"Led\"\n              },\n              \"properties\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"value\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"default\": \"BOOL\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\",\n                        \"default\": \"RW\"\n                      },\n                      \"minimum\": {\n                        \"type\": \"string\",\n                        \"default\": \"0\"\n                      },\n                      \"maximum\": {\n                        \"type\": \"string\",\n                        \"default\": \"1\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\",\n                        \"default\": \"0\"\n                      },\n                      \"size\": {\n                        \"type\": \"string\",\n                        \"default\": \"1\"\n                      }\n                    }\n                  },\n                  \"units\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"default\": \"String\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\",\n                        \"default\": \"R\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\",\n                        \"default\": \"OFF\"\n                      }\n                    }\n                  }\n                }\n              },\n              \"attributes\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"Interface\": {\n                    \"type\": \"string\",\n                    \"default\": \"GPIO\"\n                  },\n                  \"Pin_Num\": {\n                    \"type\": \"string\",\n                    \"default\": \"D2\"\n                  },\n                  \"Type\": {\n                    \"type\": \"string\",\n                    \"default\": \"OUT\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}",
                                "fe_metadata": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"description\": {\n      \"type\": \"string\",\n      \"default\": \"\"\n    },\n    \"id\": {\n      \"type\": \"string\",\n      \"default\": \"c2f70154-f087-4256-8b56-d5dd0b4fda25\"\n    },\n    \"name\": {\n      \"type\": \"string\",\n      \"default\": \"mesh-argon-10\"\n    },\n    \"adminState\": {\n      \"type\": \"string\",\n      \"default\": \"UNLOCKED\"\n    },\n    \"operatingState\": {\n      \"type\": \"string\",\n      \"default\": \"ENABLED\"\n    },\n    \"labels\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\",\n        \"default\": \"mqtt\"\n      }\n    },\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"created\": {\n          \"type\": \"integer\",\n          \"default\": 1568211489149\n        },\n        \"modified\": {\n          \"type\": \"integer\",\n          \"default\": 1568211489149\n        },\n        \"description\": {\n          \"type\": \"string\",\n          \"default\": \"Particle device profile\"\n        },\n        \"id\": {\n          \"type\": \"string\",\n          \"default\": \"3c6043c0-a8fa-4195-89d4-8072693aa189\"\n        },\n        \"name\": {\n          \"type\": \"string\",\n          \"default\": \"Particle-Device\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\",\n          \"default\": \"Particle\"\n        },\n        \"model\": {\n          \"type\": \"string\",\n          \"default\": \"Mesh\"\n        },\n        \"labels\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\",\n            \"default\": \"mqtt\"\n          }\n        },\n        \"deviceResources\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"description\": {\n                \"type\": \"string\",\n                \"default\": \"Turn the LED to On/Off\"\n              },\n              \"name\": {\n                \"type\": \"string\",\n                \"default\": \"Led\"\n              },\n              \"properties\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"value\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"default\": \"BOOL\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\",\n                        \"default\": \"RW\"\n                      },\n                      \"minimum\": {\n                        \"type\": \"string\",\n                        \"default\": \"0\"\n                      },\n                      \"maximum\": {\n                        \"type\": \"string\",\n                        \"default\": \"1\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\",\n                        \"default\": \"0\"\n                      },\n                      \"size\": {\n                        \"type\": \"string\",\n                        \"default\": \"1\"\n                      }\n                    }\n                  },\n                  \"units\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"default\": \"String\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\",\n                        \"default\": \"R\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\",\n                        \"default\": \"OFF\"\n                      }\n                    }\n                  }\n                }\n              },\n              \"attributes\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"Interface\": {\n                    \"type\": \"string\",\n                    \"default\": \"GPIO\"\n                  },\n                  \"Pin_Num\": {\n                    \"type\": \"string\",\n                    \"default\": \"D2\"\n                  },\n                  \"Type\": {\n                    \"type\": \"string\",\n                    \"default\": \"OUT\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
                            }
                        }
                    }
                },
                {
                    "description": "",
                    "settings": {
                        "Method": "DELETE",
                        "Path": "/iotmetadataservice/{deviceid}",
                        "OutputValidation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:deleteIotmetadataservice_deviceid_DELETE"
                        },
                        "input": {
                            "pathParams": {
                                "mapping": {
                                    "deviceid": "=$.pathParams.deviceid"
                                }
                            }
                        },
                        "output": {
                            "code": "=$.code",
                            "responseBody": "=$.responseBody"
                        }
                    },
                    "reply": {
                        "code": 200,
                        "configureResponseCodes": true,
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "responseCodesSchema": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"number\"},\"responseType\":{\"type\":\"string\"}}}}",
                                "fe_metadata": "[{\"code\":200,\"responseType\":\"string\"}]"
                            }
                        },
                        "output": {
                            "pathParams": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}},\"required\":[]}",
                                "fe_metadata": "[{\"parameterName\":\"deviceid\",\"type\":\"string\"}]"
                            }
                        }
                    }
                }
            ]
        }
    ],
    "resources": [
        {
            "id": "flow:getIotmetadataservice_deviceid_GET",
            "data": {
                "name": "getIotmetadataservice_deviceid_GET",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "LogDeviceid",
                        "to": "QueryDevice",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "QueryDevice",
                        "to": "MapDevice",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "MapDevice",
                        "to": "QueryProfile",
                        "type": "default"
                    },
                    {
                        "id": 4,
                        "from": "QueryProfile",
                        "to": "MapProfile",
                        "type": "default"
                    },
                    {
                        "id": 5,
                        "from": "MapProfile",
                        "to": "QueryResourceInstrument",
                        "type": "default"
                    },
                    {
                        "id": 6,
                        "from": "QueryResourceInstrument",
                        "to": "MapResourceInstrument",
                        "type": "default"
                    },
                    {
                        "id": 7,
                        "from": "MapResourceInstrument",
                        "to": "MapResponseObject",
                        "type": "default"
                    },
                    {
                        "id": 8,
                        "from": "MapResponseObject",
                        "to": "LogMessage",
                        "type": "default"
                    },
                    {
                        "id": 9,
                        "from": "LogMessage",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogDeviceid",
                        "name": "LogDeviceid",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$flow.pathParams.deviceid"
                            }
                        }
                    },
                    {
                        "id": "QueryDevice",
                        "name": "QueryDevice",
                        "description": "This activity executes query on a PostgreSQL database",
                        "activity": {
                            "ref": "#query",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "select * from device where deviceid=?deviceid;",
                                "Fields": "[{\"FieldName\":\"adminstate\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"subscriptionid\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"updated\",\"Type\":\"TIMESTAMP\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"deviceid\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":true,\"isEditable\":false},{\"FieldName\":\"gatewayid\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"devicetype\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"batterylife\",\"Type\":\"FLOAT4\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"operatingstate\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"longitude\",\"Type\":\"FLOAT4\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"name\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"profileid\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"description\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"created\",\"Type\":\"TIMESTAMP\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"latitude\",\"Type\":\"FLOAT4\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"networktype\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false}]",
                                "State": "9c552cbd-f9ca-4179-a90a-254870fde6a1select * from device where deviceid=?deviceid;",
                                "input": {
                                    "mapping": {
                                        "parameters": {
                                            "deviceid": "=$flow.pathParams.deviceid"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"adminstate\":{\"type\":\"string\"},\"subscriptionid\":{\"type\":\"string\"},\"updated\":{\"type\":\"string\",\"format\":\"time\"},\"deviceid\":{\"type\":\"string\"},\"gatewayid\":{\"type\":\"string\"},\"devicetype\":{\"type\":\"string\"},\"batterylife\":{\"type\":\"number\"},\"operatingstate\":{\"type\":\"string\"},\"longitude\":{\"type\":\"number\"},\"name\":{\"type\":\"string\"},\"profileid\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"created\":{\"type\":\"string\",\"format\":\"time\"},\"latitude\":{\"type\":\"number\"},\"networktype\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"adminstate\":{\"type\":\"string\"},\"subscriptionid\":{\"type\":\"string\"},\"updated\":{\"type\":\"string\",\"format\":\"time\"},\"deviceid\":{\"type\":\"string\"},\"gatewayid\":{\"type\":\"string\"},\"devicetype\":{\"type\":\"string\"},\"batterylife\":{\"type\":\"number\"},\"operatingstate\":{\"type\":\"string\"},\"longitude\":{\"type\":\"number\"},\"name\":{\"type\":\"string\"},\"profileid\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"created\":{\"type\":\"string\",\"format\":\"time\"},\"latitude\":{\"type\":\"number\"},\"networktype\":{\"type\":\"string\"}}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "MapDevice",
                        "name": "MapDevice",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "device": "=$activity[QueryDevice].Output.records[0]"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"device\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"},\"gatewayid\":{\"type\":\"string\"},\"profileid\":{\"type\":\"string\"},\"subscriptionid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"networktype\":{\"type\":\"string\"},\"devicetype\":{\"type\":\"string\"},\"adminstate\":{\"type\":\"string\"},\"operatingstate\":{\"type\":\"string\"},\"batterylife\":{\"type\":\"number\"},\"latitude\":{\"type\":\"number\"},\"longitude\":{\"type\":\"number\"}}}}}",
                                        "fe_metadata": "{\n    \"device\":{\n        \"deviceid\":\"value\",\n        \"gatewayid\":\"value\",\n        \"profileid\":\"value\",\n        \"subscriptionid\":\"value\",\n        \"name\":\"value\",\n        \"description\":\"value\",\n        \"networktype\":\"value\",\n        \"devicetype\":\"value\",\n        \"adminstate\":\"value\",\n        \"operatingstate\":\"value\",\n        \"batterylife\":0.0,\n        \"latitude\":0.0,\n        \"longitude\":0.0\n    }\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"device\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"deviceid\": {\n          \"type\": \"string\"\n        },\n        \"gatewayid\": {\n          \"type\": \"string\"\n        },\n        \"profileid\": {\n          \"type\": \"string\"\n        },\n        \"subscriptionid\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"networktype\": {\n          \"type\": \"string\"\n        },\n        \"devicetype\": {\n          \"type\": \"string\"\n        },\n        \"adminstate\": {\n          \"type\": \"string\"\n        },\n        \"operatingstate\": {\n          \"type\": \"string\"\n        },\n        \"batterylife\": {\n          \"type\": \"number\"\n        },\n        \"latitude\": {\n          \"type\": \"number\"\n        },\n        \"longitude\": {\n          \"type\": \"number\"\n        }\n      }\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"device\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"deviceid\": {\n          \"type\": \"string\"\n        },\n        \"gatewayid\": {\n          \"type\": \"string\"\n        },\n        \"profileid\": {\n          \"type\": \"string\"\n        },\n        \"subscriptionid\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"networktype\": {\n          \"type\": \"string\"\n        },\n        \"devicetype\": {\n          \"type\": \"string\"\n        },\n        \"adminstate\": {\n          \"type\": \"string\"\n        },\n        \"operatingstate\": {\n          \"type\": \"string\"\n        },\n        \"batterylife\": {\n          \"type\": \"number\"\n        },\n        \"latitude\": {\n          \"type\": \"number\"\n        },\n        \"longitude\": {\n          \"type\": \"number\"\n        }\n      }\n    }\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "QueryProfile",
                        "name": "QueryProfile",
                        "description": "This activity executes query on a PostgreSQL database",
                        "activity": {
                            "ref": "#query",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "select * from profile where profileid=?profileid;",
                                "Fields": "[{\"FieldName\":\"model\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"labels\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"profileid\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":true,\"isEditable\":false},{\"FieldName\":\"name\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"description\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"manufacturer\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"created\",\"Type\":\"TIMESTAMP\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"updated\",\"Type\":\"TIMESTAMP\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false}]",
                                "State": "c26e1d52-0283-4b36-bed9-96cb4599edbfselect * from profile where profileid=?profileid;",
                                "input": {
                                    "mapping": {
                                        "parameters": {
                                            "profileid": "=$activity[MapDevice].output.device.profileid"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"profileid\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"profileid\":{\"type\":\"string\"}}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"model\":{\"type\":\"string\"},\"labels\":{\"type\":\"string\"},\"profileid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"manufacturer\":{\"type\":\"string\"},\"created\":{\"type\":\"string\",\"format\":\"time\"},\"updated\":{\"type\":\"string\",\"format\":\"time\"}}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"model\":{\"type\":\"string\"},\"labels\":{\"type\":\"string\"},\"profileid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"manufacturer\":{\"type\":\"string\"},\"created\":{\"type\":\"string\",\"format\":\"time\"},\"updated\":{\"type\":\"string\",\"format\":\"time\"}}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "MapProfile",
                        "name": "MapProfile",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "profile": "=$activity[QueryProfile].Output.records[0]"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"profile\":{\"type\":\"object\",\"properties\":{\"profileid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"manufacturer\":{\"type\":\"string\"},\"model\":{\"type\":\"string\"},\"labels\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\n    \"profile\":{\n        \"profileid\":\"value\",\n        \"name\":\"value\",\n        \"description\":\"value\",\n        \"manufacturer\":\"value\",\n        \"model\":\"value\",\n        \"labels\":\"value\"\n    }\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"profileid\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\"\n        },\n        \"model\": {\n          \"type\": \"string\"\n        },\n        \"labels\": {\n          \"type\": \"string\"\n        }\n      }\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"profileid\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\"\n        },\n        \"model\": {\n          \"type\": \"string\"\n        },\n        \"labels\": {\n          \"type\": \"string\"\n        }\n      }\n    }\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "QueryResourceInstrument",
                        "name": "QueryResourceInstrument",
                        "description": "This activity executes query on a PostgreSQL database",
                        "activity": {
                            "ref": "#query",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "select a.deviceid,a.resourceid,a.name,a.description,a.interface,a.pinnum,a.pintype,a.normalize,b.attrname,b.attrtype,b.readwrite,b.minimum,b.maximum,b.defaultvalue,b.scale,b.unittype,b.unitreadwrite,b.unitdefaultvalue from resource as a inner join instrument as b on a.deviceid=b.deviceid and a.resourceid=b.resourceid where a.deviceid=?deviceid;",
                                "Fields": "[{\"FieldName\":\"interface\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"pintype\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"description\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"normalize\",\"Type\":\"BOOLEAN\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"scale\",\"Type\":\"INT8\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"resourceid\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"name\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"maximum\",\"Type\":\"FLOAT4\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"unitdefaultvalue\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"readwrite\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"attrname\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"defaultvalue\",\"Type\":\"FLOAT4\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"minimum\",\"Type\":\"FLOAT4\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"deviceid\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":true,\"isEditable\":false},{\"FieldName\":\"pinnum\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"attrtype\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"unitreadwrite\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false},{\"FieldName\":\"unittype\",\"Type\":\"VARCHAR\",\"Selected\":true,\"Parameter\":false,\"isEditable\":false}]",
                                "State": "a2c5bd10-7732-4061-9702-6fa9e25422cdselect a.deviceid,a.resourceid,a.name,a.description,a.interface,a.pinnum,a.pintype,a.normalize,b.attrname,b.attrtype,b.readwrite,b.minimum,b.maximum,b.defaultvalue,b.scale,b.unittype,b.unitreadwrite,b.unitdefaultvalue from resource as a inner join instrument as b on a.deviceid=b.deviceid and a.resourceid=b.resourceid where a.deviceid=?deviceid;",
                                "input": {
                                    "mapping": {
                                        "parameters": {
                                            "deviceid": "=$flow.pathParams.deviceid"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"interface\":{\"type\":\"string\"},\"pintype\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"normalize\":{\"type\":\"boolean\"},\"scale\":{\"type\":\"integer\"},\"resourceid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"maximum\":{\"type\":\"number\"},\"unitdefaultvalue\":{\"type\":\"string\"},\"readwrite\":{\"type\":\"string\"},\"attrname\":{\"type\":\"string\"},\"defaultvalue\":{\"type\":\"number\"},\"minimum\":{\"type\":\"number\"},\"deviceid\":{\"type\":\"string\"},\"pinnum\":{\"type\":\"string\"},\"attrtype\":{\"type\":\"string\"},\"unitreadwrite\":{\"type\":\"string\"},\"unittype\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"interface\":{\"type\":\"string\"},\"pintype\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"normalize\":{\"type\":\"boolean\"},\"scale\":{\"type\":\"integer\"},\"resourceid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"maximum\":{\"type\":\"number\"},\"unitdefaultvalue\":{\"type\":\"string\"},\"readwrite\":{\"type\":\"string\"},\"attrname\":{\"type\":\"string\"},\"defaultvalue\":{\"type\":\"number\"},\"minimum\":{\"type\":\"number\"},\"deviceid\":{\"type\":\"string\"},\"pinnum\":{\"type\":\"string\"},\"attrtype\":{\"type\":\"string\"},\"unitreadwrite\":{\"type\":\"string\"},\"unittype\":{\"type\":\"string\"}}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "MapResourceInstrument",
                        "name": "MapResourceInstrument",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "deviceResources": {
                                            "@foreach($activity[\"QueryResourceInstrument\"].Output.records,deviceResources)": {
                                                "description": "=$loop.description",
                                                "name": "=$loop.name",
                                                "properties": {
                                                    "value": {
                                                        "type": "=$loop.attrtype",
                                                        "readWrite": "=$loop.readwrite",
                                                        "minimum": "=coerce.toString($loop.minimum)",
                                                        "maximum": "=coerce.toString($loop.maximum)",
                                                        "defaultValue": "=coerce.toString($loop.defaultvalue)",
                                                        "size": "=coerce.toString($loop.scale)"
                                                    },
                                                    "units": {
                                                        "type": "=$loop.unittype",
                                                        "readWrite": "=$loop.unitreadwrite",
                                                        "defaultValue": "=$loop.unitdefaultvalue"
                                                    }
                                                },
                                                "attributes": {
                                                    "Interface": "=$loop.interface",
                                                    "Pin_Num": "=$loop.pinnum",
                                                    "Type": "=$loop.pintype"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"deviceResources\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"properties\":{\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"readWrite\":{\"type\":\"string\"},\"minimum\":{\"type\":\"string\"},\"maximum\":{\"type\":\"string\"},\"defaultValue\":{\"type\":\"string\"},\"size\":{\"type\":\"string\"}}},\"units\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"readWrite\":{\"type\":\"string\"},\"defaultValue\":{\"type\":\"string\"}}}}},\"attributes\":{\"type\":\"object\",\"properties\":{\"Interface\":{\"type\":\"string\"},\"Pin_Num\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}}}},\"required\":[\"description\",\"name\",\"properties\",\"attributes\"]}}}}",
                                        "fe_metadata": " {\n            \"deviceResources\": [\n                {\n                    \"description\": \"Measures intensity of light. The brighter the light, the larger the value\",\n                    \"name\": \"LightSensor\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"INT16\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"defaultValue\": \"0\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"lunen\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"AIO\",\n                        \"Pin_Num\": \"A0\",\n                        \"Type\": \"IN\"\n                    }\n                },\n                {\n                    \"description\": \"Measures angular range. Produces analog output between 0 and Vcc (3.3VDC)\",\n                    \"name\": \"RotaryAngleSensor\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"INT16\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"maximum\": \"300\",\n                            \"defaultValue\": \"0\",\n                            \"scale\": \"1\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"Degree\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"AIO\",\n                        \"Pin_Num\": \"A4\",\n                        \"Type\": \"IN\",\n                        \"normalize\": \"false\"\n                    }\n                },\n                {\n                    \"description\": \"On/Off , 0-OFF 1-ON\",\n                    \"name\": \"Button\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"BOOL\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"maximum\": \"1\",\n                            \"defaultValue\": \"0\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"OFF\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"GPIO\",\n                        \"Pin_Num\": \"A2\",\n                        \"Type\": \"IN\"\n                    }\n                },\n                {\n                    \"description\": \"Turn the LED to On/Off\",\n                    \"name\": \"Led\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"BOOL\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"maximum\": \"1\",\n                            \"defaultValue\": \"0\",\n                            \"size\": \"1\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"OFF\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"GPIO\",\n                        \"Pin_Num\": \"D2\",\n                        \"Type\": \"OUT\"\n                    }\n                }\n            ]\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"deviceResources\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"description\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"properties\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"value\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\"\n                  },\n                  \"readWrite\": {\n                    \"type\": \"string\"\n                  },\n                  \"minimum\": {\n                    \"type\": \"string\"\n                  },\n                  \"maximum\": {\n                    \"type\": \"string\"\n                  },\n                  \"defaultValue\": {\n                    \"type\": \"string\"\n                  },\n                  \"size\": {\n                    \"type\": \"string\"\n                  }\n                }\n              },\n              \"units\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\"\n                  },\n                  \"readWrite\": {\n                    \"type\": \"string\"\n                  },\n                  \"defaultValue\": {\n                    \"type\": \"string\"\n                  }\n                }\n              }\n            }\n          },\n          \"attributes\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"Interface\": {\n                \"type\": \"string\"\n              },\n              \"Pin_Num\": {\n                \"type\": \"string\"\n              },\n              \"Type\": {\n                \"type\": \"string\"\n              }\n            }\n          }\n        },\n        \"required\": [\n          \"description\",\n          \"name\",\n          \"properties\",\n          \"attributes\"\n        ]\n      }\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"deviceResources\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"description\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"properties\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"value\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\"\n                  },\n                  \"readWrite\": {\n                    \"type\": \"string\"\n                  },\n                  \"minimum\": {\n                    \"type\": \"string\"\n                  },\n                  \"maximum\": {\n                    \"type\": \"string\"\n                  },\n                  \"defaultValue\": {\n                    \"type\": \"string\"\n                  },\n                  \"size\": {\n                    \"type\": \"string\"\n                  }\n                }\n              },\n              \"units\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\"\n                  },\n                  \"readWrite\": {\n                    \"type\": \"string\"\n                  },\n                  \"defaultValue\": {\n                    \"type\": \"string\"\n                  }\n                }\n              }\n            }\n          },\n          \"attributes\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"Interface\": {\n                \"type\": \"string\"\n              },\n              \"Pin_Num\": {\n                \"type\": \"string\"\n              },\n              \"Type\": {\n                \"type\": \"string\"\n              }\n            }\n          }\n        },\n        \"required\": [\n          \"description\",\n          \"name\",\n          \"properties\",\n          \"attributes\"\n        ]\n      }\n    }\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "MapResponseObject",
                        "name": "MapResponseObject",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "description": "=$activity[MapDevice].output.device.description",
                                        "id": "=$activity[MapDevice].output.device.deviceid",
                                        "name": "=$activity[MapDevice].output.device.name",
                                        "adminState": "=$activity[MapDevice].output.device.adminstate",
                                        "operatingState": "=$activity[MapDevice].output.device.operatingstate",
                                        "labels": "=array.create($activity[MapDevice].output.device.networktype)",
                                        "profile": {
                                            "description": "=$activity[MapProfile].output.profile.description",
                                            "id": "=$activity[MapProfile].output.profile.profileid",
                                            "name": "=$activity[MapProfile].output.profile.name",
                                            "manufacturer": "=$activity[MapProfile].output.profile.manufacturer",
                                            "model": "=$activity[MapProfile].output.profile.model",
                                            "labels": "=array.create($activity[MapProfile].output.profile.labels)",
                                            "deviceResources": {
                                                "@foreach($activity[\"MapResourceInstrument\"].output.deviceResources,deviceResources)": {
                                                    "description": "=$loop.description",
                                                    "name": "=$loop.name",
                                                    "properties": "=$loop.properties",
                                                    "attributes": "=$loop.attributes"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"adminState\":{\"type\":\"string\"},\"operatingState\":{\"type\":\"string\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"profile\":{\"type\":\"object\",\"properties\":{\"created\":{\"type\":\"number\"},\"modified\":{\"type\":\"number\"},\"description\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"manufacturer\":{\"type\":\"string\"},\"model\":{\"type\":\"string\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"deviceResources\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"properties\":{\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"readWrite\":{\"type\":\"string\"},\"minimum\":{\"type\":\"string\"},\"maximum\":{\"type\":\"string\"},\"defaultValue\":{\"type\":\"string\"},\"size\":{\"type\":\"string\"}}},\"units\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"readWrite\":{\"type\":\"string\"},\"defaultValue\":{\"type\":\"string\"}}}}},\"attributes\":{\"type\":\"object\",\"properties\":{\"Interface\":{\"type\":\"string\"},\"Pin_Num\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}}}},\"required\":[\"description\",\"name\",\"properties\",\"attributes\"]}}}}}}",
                                        "fe_metadata": " {\n        \"description\": \"\",\n        \"id\": \"c2f70154-f087-4256-8b56-d5dd0b4fda25\",\n        \"name\": \"mesh-argon-10\",\n        \"adminState\": \"UNLOCKED\",\n        \"operatingState\": \"ENABLED\",\n        \"labels\": [\n            \"industrial\",\n            \"mqtt\"\n        ],\n        \"profile\": {\n            \"created\": 1568211489149,\n            \"modified\": 1568211489149,\n            \"description\": \"Particle device profile\",\n            \"id\": \"3c6043c0-a8fa-4195-89d4-8072693aa189\",\n            \"name\": \"Particle-Device\",\n            \"manufacturer\": \"Particle\",\n            \"model\": \"Mesh\",\n            \"labels\": [\n                \"mqtt\"\n            ],\n            \"deviceResources\": [\n                {\n                    \"description\": \"Measures intensity of light. The brighter the light, the larger the value\",\n                    \"name\": \"LightSensor\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"INT16\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"defaultValue\": \"0\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"lunen\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"AIO\",\n                        \"Pin_Num\": \"A0\",\n                        \"Type\": \"IN\"\n                    }\n                },\n                {\n                    \"description\": \"Measures angular range. Produces analog output between 0 and Vcc (3.3VDC)\",\n                    \"name\": \"RotaryAngleSensor\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"INT16\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"maximum\": \"300\",\n                            \"defaultValue\": \"0\",\n                            \"scale\": \"1\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"Degree\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"AIO\",\n                        \"Pin_Num\": \"A4\",\n                        \"Type\": \"IN\",\n                        \"normalize\": \"false\"\n                    }\n                },\n                {\n                    \"description\": \"On/Off , 0-OFF 1-ON\",\n                    \"name\": \"Button\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"BOOL\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"maximum\": \"1\",\n                            \"defaultValue\": \"0\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"OFF\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"GPIO\",\n                        \"Pin_Num\": \"A2\",\n                        \"Type\": \"IN\"\n                    }\n                },\n                {\n                    \"description\": \"Turn the LED to On/Off\",\n                    \"name\": \"Led\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"BOOL\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"maximum\": \"1\",\n                            \"defaultValue\": \"0\",\n                            \"size\": \"1\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"OFF\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"GPIO\",\n                        \"Pin_Num\": \"D2\",\n                        \"Type\": \"OUT\"\n                    }\n                }\n            ]\n            \n        }\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"description\": {\n      \"type\": \"string\"\n    },\n    \"id\": {\n      \"type\": \"string\"\n    },\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"adminState\": {\n      \"type\": \"string\"\n    },\n    \"operatingState\": {\n      \"type\": \"string\"\n    },\n    \"labels\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      }\n    },\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"created\": {\n          \"type\": \"number\"\n        },\n        \"modified\": {\n          \"type\": \"number\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"id\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\"\n        },\n        \"model\": {\n          \"type\": \"string\"\n        },\n        \"labels\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"deviceResources\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"description\": {\n                \"type\": \"string\"\n              },\n              \"name\": {\n                \"type\": \"string\"\n              },\n              \"properties\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"value\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\"\n                      },\n                      \"minimum\": {\n                        \"type\": \"string\"\n                      },\n                      \"maximum\": {\n                        \"type\": \"string\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\"\n                      },\n                      \"size\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  },\n                  \"units\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              },\n              \"attributes\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"Interface\": {\n                    \"type\": \"string\"\n                  },\n                  \"Pin_Num\": {\n                    \"type\": \"string\"\n                  },\n                  \"Type\": {\n                    \"type\": \"string\"\n                  }\n                }\n              }\n            },\n            \"required\": [\n              \"description\",\n              \"name\",\n              \"properties\",\n              \"attributes\"\n            ]\n          }\n        }\n      }\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"description\": {\n      \"type\": \"string\"\n    },\n    \"id\": {\n      \"type\": \"string\"\n    },\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"adminState\": {\n      \"type\": \"string\"\n    },\n    \"operatingState\": {\n      \"type\": \"string\"\n    },\n    \"labels\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      }\n    },\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"created\": {\n          \"type\": \"number\"\n        },\n        \"modified\": {\n          \"type\": \"number\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"id\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\"\n        },\n        \"model\": {\n          \"type\": \"string\"\n        },\n        \"labels\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"deviceResources\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"description\": {\n                \"type\": \"string\"\n              },\n              \"name\": {\n                \"type\": \"string\"\n              },\n              \"properties\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"value\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\"\n                      },\n                      \"minimum\": {\n                        \"type\": \"string\"\n                      },\n                      \"maximum\": {\n                        \"type\": \"string\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\"\n                      },\n                      \"size\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  },\n                  \"units\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              },\n              \"attributes\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"Interface\": {\n                    \"type\": \"string\"\n                  },\n                  \"Pin_Num\": {\n                    \"type\": \"string\"\n                  },\n                  \"Type\": {\n                    \"type\": \"string\"\n                  }\n                }\n              }\n            },\n            \"required\": [\n              \"description\",\n              \"name\",\n              \"properties\",\n              \"attributes\"\n            ]\n          }\n        }\n      }\n    }\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogMessage",
                        "name": "LogMessage",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=utility.renderJSON($activity[MapResponseObject].output, false)"
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "code": 200,
                                    "responseBody": {
                                        "mapping": {
                                            "body": "=$activity[MapResponseObject].output"
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "errorHandler": {
                    "tasks": [
                        {
                            "id": "LogMessage1",
                            "name": "LogMessage1",
                            "description": "Simple Log Message Activity",
                            "activity": {
                                "ref": "#log",
                                "input": {
                                    "Log Level": "INFO",
                                    "flowInfo": false,
                                    "message": "=$error.message"
                                }
                            }
                        },
                        {
                            "id": "Return1",
                            "name": "Return1",
                            "description": "Simple Return Activity",
                            "activity": {
                                "ref": "#actreturn",
                                "settings": {
                                    "mappings": {
                                        "code": 404,
                                        "responseBody": {
                                            "mapping": {
                                                "body": "=$error.message"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    ],
                    "links": [
                        {
                            "id": 10,
                            "from": "LogMessage1",
                            "to": "Return1",
                            "type": "default"
                        }
                    ]
                },
                "metadata": {
                    "input": [
                        {
                            "name": "pathParams",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"deviceid\":{\"type\":\"string\"}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "code",
                            "type": "integer"
                        },
                        {
                            "name": "responseBody",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}"
                            }
                        },
                        {
                            "name": "message",
                            "type": "string"
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"ReceiveHTTPMessage\",\"properties\":{\"pathParams\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}},\"required\":[\"deviceid\"]}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"code\":{\"type\":\"integer\",\"required\":false},\"responseBody\":{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}},\"message\":{\"type\":\"string\",\"required\":false}},\"required\":[]}"
                    }
                },
                "explicitReply": true
            }
        },
        {
            "id": "flow:postIotmetadataservice_deviceid_POST",
            "data": {
                "name": "postIotmetadataservice_deviceid_POST",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "LogMessage",
                        "to": "ResourceIDGenMapper",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "ResourceIDGenMapper",
                        "to": "ResourceIDLog",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "ResourceIDLog",
                        "to": "DeviceMapper",
                        "type": "default"
                    },
                    {
                        "id": 4,
                        "from": "DeviceMapper",
                        "to": "DeviceLogger",
                        "type": "default"
                    },
                    {
                        "id": 5,
                        "from": "DeviceLogger",
                        "to": "ProfileMapper",
                        "type": "default"
                    },
                    {
                        "id": 6,
                        "from": "ProfileMapper",
                        "to": "ProfileLogger",
                        "type": "default"
                    },
                    {
                        "id": 7,
                        "from": "ProfileLogger",
                        "to": "ResourceMapper",
                        "type": "default"
                    },
                    {
                        "id": 8,
                        "from": "ResourceMapper",
                        "to": "ResourceLogger",
                        "type": "default"
                    },
                    {
                        "id": 9,
                        "from": "ResourceLogger",
                        "to": "InstrumentMapper",
                        "type": "default"
                    },
                    {
                        "id": 10,
                        "from": "InstrumentMapper",
                        "to": "InstrumentLogger",
                        "type": "default"
                    },
                    {
                        "id": 11,
                        "from": "InstrumentLogger",
                        "to": "InsertDevice",
                        "type": "default"
                    },
                    {
                        "id": 12,
                        "from": "InsertDevice",
                        "to": "LogInsertDeviceResult",
                        "type": "default"
                    },
                    {
                        "id": 13,
                        "from": "LogInsertDeviceResult",
                        "to": "InsertProfile",
                        "type": "default"
                    },
                    {
                        "id": 14,
                        "from": "InsertProfile",
                        "to": "LogInsertProfileResult",
                        "type": "label"
                    },
                    {
                        "id": 15,
                        "from": "LogInsertProfileResult",
                        "to": "InsertResource",
                        "type": "default"
                    },
                    {
                        "id": 16,
                        "from": "InsertResource",
                        "to": "LogInsertResourceResult",
                        "type": "default"
                    },
                    {
                        "id": 17,
                        "from": "LogInsertResourceResult",
                        "to": "InsertInstrument",
                        "type": "default"
                    },
                    {
                        "id": 18,
                        "from": "InsertInstrument",
                        "to": "LogInsertInstrumentResult",
                        "type": "default"
                    },
                    {
                        "id": 19,
                        "from": "LogInsertInstrumentResult",
                        "to": "ReturnSuccess",
                        "type": "default"
                    },
                    {
                        "id": 20,
                        "from": "InsertProfile",
                        "to": "LogInsertProfileResult1",
                        "type": "error"
                    },
                    {
                        "id": 21,
                        "from": "LogInsertProfileResult1",
                        "to": "InsertResource1",
                        "type": "default"
                    },
                    {
                        "id": 22,
                        "from": "InsertResource1",
                        "to": "LogInsertResourceResult1",
                        "type": "default"
                    },
                    {
                        "id": 23,
                        "from": "LogInsertResourceResult1",
                        "to": "InsertInstrument1",
                        "type": "default"
                    },
                    {
                        "id": 24,
                        "from": "InsertInstrument1",
                        "to": "LogInsertInstrumentResult1",
                        "type": "default"
                    },
                    {
                        "id": 25,
                        "from": "LogInsertInstrumentResult1",
                        "to": "ReturnSuccess1",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogMessage",
                        "name": "LogMessage",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$flow.body.profile.deviceResources"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$flow.pathParams.deviceid+$iteration[value].name"
                            }
                        }
                    },
                    {
                        "id": "ResourceIDGenMapper",
                        "name": "ResourceIDGenMapper",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "description": "=$flow.body.description",
                                        "id": "=$flow.body.id",
                                        "name": "=$flow.body.name",
                                        "adminState": "=$flow.body.adminState",
                                        "operatingState": "=$flow.body.operatingState",
                                        "labels": "=$flow.body.labels",
                                        "profile": {
                                            "created": "=$flow.body.profile.created",
                                            "modified": "=$flow.body.profile.modified",
                                            "description": "=$flow.body.profile.description",
                                            "id": "=$flow.body.profile.id",
                                            "name": "=$flow.body.profile.name",
                                            "manufacturer": "=$flow.body.profile.manufacturer",
                                            "model": "=$flow.body.profile.model",
                                            "labels": "=$flow.body.profile.labels",
                                            "deviceResources": {
                                                "@foreach($flow.body.profile.deviceResources,deviceResources)": {
                                                    "resourceid": "=$loop.name",
                                                    "description": "=$loop.description",
                                                    "name": "=$loop.name",
                                                    "properties": "=$loop.properties",
                                                    "attributes": "=$loop.attributes"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"adminState\":{\"type\":\"string\"},\"operatingState\":{\"type\":\"string\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"profile\":{\"type\":\"object\",\"properties\":{\"created\":{\"type\":\"number\"},\"modified\":{\"type\":\"number\"},\"description\":{\"type\":\"string\"},\"id\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"manufacturer\":{\"type\":\"string\"},\"model\":{\"type\":\"string\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"deviceResources\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"resourceid\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"properties\":{\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"readWrite\":{\"type\":\"string\"},\"minimum\":{\"type\":\"string\"},\"maximum\":{\"type\":\"string\"},\"defaultValue\":{\"type\":\"string\"},\"size\":{\"type\":\"string\"}}},\"units\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"readWrite\":{\"type\":\"string\"},\"defaultValue\":{\"type\":\"string\"}}}}},\"attributes\":{\"type\":\"object\",\"properties\":{\"Interface\":{\"type\":\"string\"},\"Pin_Num\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}}}},\"required\":[\"description\",\"name\",\"properties\",\"attributes\"]}}}}}}",
                                        "fe_metadata": " {\n        \"description\": \"\",\n        \"id\": \"c2f70154-f087-4256-8b56-d5dd0b4fda25\",\n        \"name\": \"mesh-argon-10\",\n        \"adminState\": \"UNLOCKED\",\n        \"operatingState\": \"ENABLED\",\n        \"labels\": [\n            \"industrial\",\n            \"mqtt\"\n        ],\n        \"profile\": {\n            \"created\": 1568211489149,\n            \"modified\": 1568211489149,\n            \"description\": \"Particle device profile\",\n            \"id\": \"3c6043c0-a8fa-4195-89d4-8072693aa189\",\n            \"name\": \"Particle-Device\",\n            \"manufacturer\": \"Particle\",\n            \"model\": \"Mesh\",\n            \"labels\": [\n                \"mqtt\"\n            ],\n            \"deviceResources\": [\n                {\n                    \"resourceid\":\"value\",\n                    \"description\": \"Measures intensity of light. The brighter the light, the larger the value\",\n                    \"name\": \"LightSensor\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"INT16\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"defaultValue\": \"0\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"lunen\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"AIO\",\n                        \"Pin_Num\": \"A0\",\n                        \"Type\": \"IN\"\n                    }\n                },\n                {\n                    \"description\": \"Measures angular range. Produces analog output between 0 and Vcc (3.3VDC)\",\n                    \"name\": \"RotaryAngleSensor\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"INT16\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"maximum\": \"300\",\n                            \"defaultValue\": \"0\",\n                            \"scale\": \"1\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"Degree\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"AIO\",\n                        \"Pin_Num\": \"A4\",\n                        \"Type\": \"IN\",\n                        \"normalize\": \"false\"\n                    }\n                },\n                {\n                    \"description\": \"On/Off , 0-OFF 1-ON\",\n                    \"name\": \"Button\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"BOOL\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"maximum\": \"1\",\n                            \"defaultValue\": \"0\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"OFF\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"GPIO\",\n                        \"Pin_Num\": \"A2\",\n                        \"Type\": \"IN\"\n                    }\n                },\n                {\n                    \"description\": \"Turn the LED to On/Off\",\n                    \"name\": \"Led\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"BOOL\",\n                            \"readWrite\": \"RW\",\n                            \"minimum\": \"0\",\n                            \"maximum\": \"1\",\n                            \"defaultValue\": \"0\",\n                            \"size\": \"1\"\n                        },\n                        \"units\": {\n                            \"type\": \"String\",\n                            \"readWrite\": \"R\",\n                            \"defaultValue\": \"OFF\"\n                        }\n                    },\n                    \"attributes\": {\n                        \"Interface\": \"GPIO\",\n                        \"Pin_Num\": \"D2\",\n                        \"Type\": \"OUT\"\n                    }\n                }\n            ]\n            \n        }\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"description\": {\n      \"type\": \"string\"\n    },\n    \"id\": {\n      \"type\": \"string\"\n    },\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"adminState\": {\n      \"type\": \"string\"\n    },\n    \"operatingState\": {\n      \"type\": \"string\"\n    },\n    \"labels\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      }\n    },\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"created\": {\n          \"type\": \"number\"\n        },\n        \"modified\": {\n          \"type\": \"number\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"id\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\"\n        },\n        \"model\": {\n          \"type\": \"string\"\n        },\n        \"labels\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"deviceResources\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"resourceid\": {\n                \"type\": \"string\"\n              },\n              \"description\": {\n                \"type\": \"string\"\n              },\n              \"name\": {\n                \"type\": \"string\"\n              },\n              \"properties\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"value\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\"\n                      },\n                      \"minimum\": {\n                        \"type\": \"string\"\n                      },\n                      \"maximum\": {\n                        \"type\": \"string\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\"\n                      },\n                      \"size\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  },\n                  \"units\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              },\n              \"attributes\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"Interface\": {\n                    \"type\": \"string\"\n                  },\n                  \"Pin_Num\": {\n                    \"type\": \"string\"\n                  },\n                  \"Type\": {\n                    \"type\": \"string\"\n                  }\n                }\n              }\n            },\n            \"required\": [\n              \"description\",\n              \"name\",\n              \"properties\",\n              \"attributes\"\n            ]\n          }\n        }\n      }\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"description\": {\n      \"type\": \"string\"\n    },\n    \"id\": {\n      \"type\": \"string\"\n    },\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"adminState\": {\n      \"type\": \"string\"\n    },\n    \"operatingState\": {\n      \"type\": \"string\"\n    },\n    \"labels\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      }\n    },\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"created\": {\n          \"type\": \"number\"\n        },\n        \"modified\": {\n          \"type\": \"number\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"id\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\"\n        },\n        \"model\": {\n          \"type\": \"string\"\n        },\n        \"labels\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"string\"\n          }\n        },\n        \"deviceResources\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"resourceid\": {\n                \"type\": \"string\"\n              },\n              \"description\": {\n                \"type\": \"string\"\n              },\n              \"name\": {\n                \"type\": \"string\"\n              },\n              \"properties\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"value\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\"\n                      },\n                      \"minimum\": {\n                        \"type\": \"string\"\n                      },\n                      \"maximum\": {\n                        \"type\": \"string\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\"\n                      },\n                      \"size\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  },\n                  \"units\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\"\n                      },\n                      \"readWrite\": {\n                        \"type\": \"string\"\n                      },\n                      \"defaultValue\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              },\n              \"attributes\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"Interface\": {\n                    \"type\": \"string\"\n                  },\n                  \"Pin_Num\": {\n                    \"type\": \"string\"\n                  },\n                  \"Type\": {\n                    \"type\": \"string\"\n                  }\n                }\n              }\n            },\n            \"required\": [\n              \"description\",\n              \"name\",\n              \"properties\",\n              \"attributes\"\n            ]\n          }\n        }\n      }\n    }\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "ResourceIDLog",
                        "name": "ResourceIDLog",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[ResourceIDGenMapper].output.profile.deviceResources"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$iteration[value].resourceid"
                            }
                        }
                    },
                    {
                        "id": "DeviceMapper",
                        "name": "DeviceMapper",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "device": {
                                            "deviceid": "=$flow.body.id",
                                            "gatewayid": "default",
                                            "profileid": "=$flow.body.profile.id",
                                            "subscriptionid": "default",
                                            "name": "=$flow.body.name",
                                            "description": "=$flow.body.description",
                                            "networktype": "=$flow.body.labels[0]",
                                            "devicetype": "=$flow.body.profile.model",
                                            "adminstate": "=$flow.body.adminState",
                                            "operatingstate": "=$flow.body.operatingState",
                                            "batterylife": 0,
                                            "latitude": 0,
                                            "longitude": 0
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"device\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"},\"gatewayid\":{\"type\":\"string\"},\"profileid\":{\"type\":\"string\"},\"subscriptionid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"networktype\":{\"type\":\"string\"},\"devicetype\":{\"type\":\"string\"},\"adminstate\":{\"type\":\"string\"},\"operatingstate\":{\"type\":\"string\"},\"batterylife\":{\"type\":\"number\"},\"latitude\":{\"type\":\"number\"},\"longitude\":{\"type\":\"number\"}}}}}",
                                        "fe_metadata": "{\n    \"device\":{\n        \"deviceid\":\"value\",\n        \"gatewayid\":\"value\",\n        \"profileid\":\"value\",\n        \"subscriptionid\":\"value\",\n        \"name\":\"value\",\n        \"description\":\"value\",\n        \"networktype\":\"value\",\n        \"devicetype\":\"value\",\n        \"adminstate\":\"value\",\n        \"operatingstate\":\"value\",\n        \"batterylife\":0.0,\n        \"latitude\":0.0,\n        \"longitude\":0.0\n    }\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"device\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"deviceid\": {\n          \"type\": \"string\"\n        },\n        \"gatewayid\": {\n          \"type\": \"string\"\n        },\n        \"profileid\": {\n          \"type\": \"string\"\n        },\n        \"subscriptionid\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"networktype\": {\n          \"type\": \"string\"\n        },\n        \"devicetype\": {\n          \"type\": \"string\"\n        },\n        \"adminstate\": {\n          \"type\": \"string\"\n        },\n        \"operatingstate\": {\n          \"type\": \"string\"\n        },\n        \"batterylife\": {\n          \"type\": \"number\"\n        },\n        \"latitude\": {\n          \"type\": \"number\"\n        },\n        \"longitude\": {\n          \"type\": \"number\"\n        }\n      }\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"device\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"deviceid\": {\n          \"type\": \"string\"\n        },\n        \"gatewayid\": {\n          \"type\": \"string\"\n        },\n        \"profileid\": {\n          \"type\": \"string\"\n        },\n        \"subscriptionid\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"networktype\": {\n          \"type\": \"string\"\n        },\n        \"devicetype\": {\n          \"type\": \"string\"\n        },\n        \"adminstate\": {\n          \"type\": \"string\"\n        },\n        \"operatingstate\": {\n          \"type\": \"string\"\n        },\n        \"batterylife\": {\n          \"type\": \"number\"\n        },\n        \"latitude\": {\n          \"type\": \"number\"\n        },\n        \"longitude\": {\n          \"type\": \"number\"\n        }\n      }\n    }\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "DeviceLogger",
                        "name": "DeviceLogger",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=utility.renderJSON($activity[DeviceMapper].output.device, false)"
                            }
                        }
                    },
                    {
                        "id": "ProfileMapper",
                        "name": "ProfileMapper",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "profile": {
                                            "profileid": "=$flow.body.profile.id",
                                            "name": "=$flow.body.profile.name",
                                            "description": "=$flow.body.profile.description",
                                            "manufacturer": "=$flow.body.profile.manufacturer",
                                            "model": "=$flow.body.profile.model",
                                            "labels": "=coerce.toString($flow.body.profile.labels)"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"profile\":{\"type\":\"object\",\"properties\":{\"profileid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"manufacturer\":{\"type\":\"string\"},\"model\":{\"type\":\"string\"},\"labels\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\n    \"profile\":{\n        \"profileid\":\"value\",\n        \"name\":\"value\",\n        \"description\":\"value\",\n        \"manufacturer\":\"value\",\n        \"model\":\"value\",\n        \"labels\":\"value\"\n    }\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"profileid\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\"\n        },\n        \"model\": {\n          \"type\": \"string\"\n        },\n        \"labels\": {\n          \"type\": \"string\"\n        }\n      }\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"profile\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"profileid\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"description\": {\n          \"type\": \"string\"\n        },\n        \"manufacturer\": {\n          \"type\": \"string\"\n        },\n        \"model\": {\n          \"type\": \"string\"\n        },\n        \"labels\": {\n          \"type\": \"string\"\n        }\n      }\n    }\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "ProfileLogger",
                        "name": "ProfileLogger",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=utility.renderJSON($activity[ProfileMapper].output.profile, false)"
                            }
                        }
                    },
                    {
                        "id": "ResourceMapper",
                        "name": "ResourceMapper",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "resource": {
                                            "@foreach($activity[\"ResourceIDGenMapper\"].output.profile.deviceResources,resource)": {
                                                "resourceid": "=$loop.resourceid",
                                                "deviceid": "=$flow.body.id",
                                                "name": "=$loop.name",
                                                "description": "=$loop.description",
                                                "interface": "=$loop.attributes.Interface",
                                                "pinnum": "=$loop.attributes.Pin_Num",
                                                "pintype": "=$loop.attributes.Type",
                                                "normalize": "=boolean.true()"
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"resource\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"resourceid\":{\"type\":\"string\"},\"deviceid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"interface\":{\"type\":\"string\"},\"pinnum\":{\"type\":\"string\"},\"pintype\":{\"type\":\"string\"},\"normalize\":{\"type\":\"boolean\"}}}}}}",
                                        "fe_metadata": "{\n    \"resource\":[{\n        \"resourceid\":\"value\",\n        \"deviceid\":\"value\",\n        \"name\":\"value\",\n        \"description\":\"value\",\n        \"interface\":\"value\",\n        \"pinnum\":\"value\",\n        \"pintype\":\"value\",\n        \"normalize\":true\n    }]\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"resource\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"resourceid\": {\n            \"type\": \"string\"\n          },\n          \"deviceid\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"description\": {\n            \"type\": \"string\"\n          },\n          \"interface\": {\n            \"type\": \"string\"\n          },\n          \"pinnum\": {\n            \"type\": \"string\"\n          },\n          \"pintype\": {\n            \"type\": \"string\"\n          },\n          \"normalize\": {\n            \"type\": \"boolean\"\n          }\n        }\n      }\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"resource\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"resourceid\": {\n            \"type\": \"string\"\n          },\n          \"deviceid\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"description\": {\n            \"type\": \"string\"\n          },\n          \"interface\": {\n            \"type\": \"string\"\n          },\n          \"pinnum\": {\n            \"type\": \"string\"\n          },\n          \"pintype\": {\n            \"type\": \"string\"\n          },\n          \"normalize\": {\n            \"type\": \"boolean\"\n          }\n        }\n      }\n    }\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "ResourceLogger",
                        "name": "ResourceLogger",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[ResourceMapper].output.resource"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=utility.renderJSON($iteration[value], false)"
                            }
                        }
                    },
                    {
                        "id": "InstrumentMapper",
                        "name": "InstrumentMapper",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "instrument": {
                                            "@foreach($activity[\"ResourceIDGenMapper\"].output.profile.deviceResources,instrument)": {
                                                "attrname": "=$loop.name",
                                                "deviceid": "=$flow.body.id",
                                                "resourceid": "=$loop.resourceid",
                                                "attrtype": "=$loop.properties.value.type",
                                                "readwrite": "=$loop.properties.value.readWrite",
                                                "minimum": "=coerce.toFloat64($loop.properties.value.minimum)",
                                                "maximum": "=coerce.toFloat64($loop.properties.value.maximum)",
                                                "defaultvalue": "=coerce.toFloat64($loop.properties.value.defaultValue)",
                                                "scale": "=coerce.toInt($loop.properties.value.size)",
                                                "unittype": "=$loop.properties.units.type",
                                                "unitreadwrite": "=$loop.properties.units.readWrite",
                                                "unitdefaultvalue": "=$loop.properties.units.defaultValue"
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"instrument\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"attrname\":{\"type\":\"string\"},\"deviceid\":{\"type\":\"string\"},\"resourceid\":{\"type\":\"string\"},\"attrtype\":{\"type\":\"string\"},\"readwrite\":{\"type\":\"string\"},\"minimum\":{\"type\":\"number\"},\"maximum\":{\"type\":\"number\"},\"defaultvalue\":{\"type\":\"number\"},\"scale\":{\"type\":\"number\"},\"unittype\":{\"type\":\"string\"},\"unitreadwrite\":{\"type\":\"string\"},\"unitdefaultvalue\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\n    \"instrument\":[\n        {\n            \"attrname\":\"value\",\n            \"deviceid\":\"value\",\n            \"resourceid\":\"value\",\n            \"attrtype\":\"value\",\n            \"readwrite\":\"value\",\n            \"minimum\":0.0,\n            \"maximum\":0.0,\n            \"defaultvalue\":0.0,\n            \"scale\":0,\n            \"unittype\":\"value\",\n            \"unitreadwrite\":\"value\",\n            \"unitdefaultvalue\":\"value\"\n        }\n    ]\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"instrument\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"attrname\": {\n            \"type\": \"string\"\n          },\n          \"deviceid\": {\n            \"type\": \"string\"\n          },\n          \"resourceid\": {\n            \"type\": \"string\"\n          },\n          \"attrtype\": {\n            \"type\": \"string\"\n          },\n          \"readwrite\": {\n            \"type\": \"string\"\n          },\n          \"minimum\": {\n            \"type\": \"number\"\n          },\n          \"maximum\": {\n            \"type\": \"number\"\n          },\n          \"defaultvalue\": {\n            \"type\": \"number\"\n          },\n          \"scale\": {\n            \"type\": \"number\"\n          },\n          \"unittype\": {\n            \"type\": \"string\"\n          },\n          \"unitreadwrite\": {\n            \"type\": \"string\"\n          },\n          \"unitdefaultvalue\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"instrument\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"attrname\": {\n            \"type\": \"string\"\n          },\n          \"deviceid\": {\n            \"type\": \"string\"\n          },\n          \"resourceid\": {\n            \"type\": \"string\"\n          },\n          \"attrtype\": {\n            \"type\": \"string\"\n          },\n          \"readwrite\": {\n            \"type\": \"string\"\n          },\n          \"minimum\": {\n            \"type\": \"number\"\n          },\n          \"maximum\": {\n            \"type\": \"number\"\n          },\n          \"defaultvalue\": {\n            \"type\": \"number\"\n          },\n          \"scale\": {\n            \"type\": \"number\"\n          },\n          \"unittype\": {\n            \"type\": \"string\"\n          },\n          \"unitreadwrite\": {\n            \"type\": \"string\"\n          },\n          \"unitdefaultvalue\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    }\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "InstrumentLogger",
                        "name": "InstrumentLogger",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[InstrumentMapper].output.instrument"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=utility.renderJSON($iteration[value], false)"
                            }
                        }
                    },
                    {
                        "id": "InsertDevice",
                        "name": "InsertDevice",
                        "description": "This activity executes insert on a PostgreSQL database",
                        "activity": {
                            "ref": "#insert",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "insert into device(deviceid,gatewayid,profileid,subscriptionid,name,description,networktype,devicetype,adminstate,operatingstate,batterylife,latitude,longitude) values(?deviceid,?gatewayid,?profileid,?subscriptionid,?name,?description,?networktype,?devicetype,?adminstate,?operatingstate,?batterylife,?latitude,?longitude);",
                                "Fields": "[{\"FieldName\":\"networktype\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"devicetype\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"batterylife\",\"Type\":\"FLOAT4\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"longitude\",\"Type\":\"FLOAT4\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"deviceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"gatewayid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"latitude\",\"Type\":\"FLOAT4\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"adminstate\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"name\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"subscriptionid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"description\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"operatingstate\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"profileid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true}]",
                                "State": "7205ef9d-d0ad-4770-ad36-ec3685d3b7a8insert into device(deviceid,gatewayid,profileid,subscriptionid,name,description,networktype,devicetype,adminstate,operatingstate,batterylife,latitude,longitude) values(?deviceid,?gatewayid,?profileid,?subscriptionid,?name,?description,?networktype,?devicetype,?adminstate,?operatingstate,?batterylife,?latitude,?longitude);",
                                "input": {
                                    "mapping": {
                                        "values": "=array.create($activity[DeviceMapper].output.device)"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"networktype\":{\"type\":\"string\"},\"devicetype\":{\"type\":\"string\"},\"batterylife\":{\"type\":\"number\"},\"longitude\":{\"type\":\"number\"},\"deviceid\":{\"type\":\"string\"},\"gatewayid\":{\"type\":\"string\"},\"latitude\":{\"type\":\"number\"},\"adminstate\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"subscriptionid\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"operatingstate\":{\"type\":\"string\"},\"profileid\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"networktype\":{\"type\":\"string\"},\"devicetype\":{\"type\":\"string\"},\"batterylife\":{\"type\":\"number\"},\"longitude\":{\"type\":\"number\"},\"deviceid\":{\"type\":\"string\"},\"gatewayid\":{\"type\":\"string\"},\"latitude\":{\"type\":\"number\"},\"adminstate\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"subscriptionid\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"operatingstate\":{\"type\":\"string\"},\"profileid\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogInsertDeviceResult",
                        "name": "LogInsertDeviceResult",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[InsertDevice].Output.records"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$iteration[key]+\", \"+$iteration[value]"
                            }
                        }
                    },
                    {
                        "id": "InsertProfile",
                        "name": "InsertProfile",
                        "description": "This activity executes insert on a PostgreSQL database",
                        "activity": {
                            "ref": "#insert",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "insert into profile(profileid,name,description,manufacturer,model,labels) values(?profileid,?name,?description,?manufacturer,?model,?labels);",
                                "Fields": "[{\"FieldName\":\"manufacturer\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"model\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"labels\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"profileid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"name\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"description\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true}]",
                                "State": "b6ee9a69-9966-4ebe-8f7a-4d493b57cb2dinsert into profile(profileid,name,description,manufacturer,model,labels) values(?profileid,?name,?description,?manufacturer,?model,?labels);",
                                "input": {
                                    "mapping": {
                                        "values": "=array.create($activity[ProfileMapper].output.profile)"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"manufacturer\":{\"type\":\"string\"},\"model\":{\"type\":\"string\"},\"labels\":{\"type\":\"string\"},\"profileid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"manufacturer\":{\"type\":\"string\"},\"model\":{\"type\":\"string\"},\"labels\":{\"type\":\"string\"},\"profileid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogInsertProfileResult",
                        "name": "LogInsertProfileResult",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[InsertProfile].Output.records"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$iteration[key]+\", \"+$iteration[value]"
                            }
                        }
                    },
                    {
                        "id": "InsertResource",
                        "name": "InsertResource",
                        "description": "This activity executes insert on a PostgreSQL database",
                        "activity": {
                            "ref": "#insert",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "insert into resource(resourceid,deviceid,name,description,interface,pinnum,pintype,normalize) values(?resourceid,?deviceid,?name,?description,?interface,?pinnum,?pintype,false);",
                                "Fields": "[{\"FieldName\":\"pinnum\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"pintype\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"normalize\",\"Type\":\"BOOLEAN\",\"Selected\":false,\"Parameter\":false,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"resourceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"deviceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"name\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"description\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"interface\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true}]",
                                "State": "9ab8559e-49b9-41b3-b29e-143807cdc056insert into resource(resourceid,deviceid,name,description,interface,pinnum,pintype,normalize) values(?resourceid,?deviceid,?name,?description,?interface,?pinnum,?pintype,false);",
                                "input": {
                                    "mapping": {
                                        "values": {
                                            "@foreach($activity[\"ResourceMapper\"].output.resource,values)": {
                                                "pinnum": "=$loop.pinnum",
                                                "pintype": "=$loop.pintype",
                                                "normalize": "=$loop.normalize",
                                                "resourceid": "=$loop.resourceid",
                                                "deviceid": "=$loop.deviceid",
                                                "name": "=$loop.name",
                                                "description": "=$loop.description",
                                                "interface": "=$loop.interface"
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"pinnum\":{\"type\":\"string\"},\"pintype\":{\"type\":\"string\"},\"normalize\":{\"type\":\"boolean\"},\"resourceid\":{\"type\":\"string\"},\"deviceid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"interface\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"pinnum\":{\"type\":\"string\"},\"pintype\":{\"type\":\"string\"},\"normalize\":{\"type\":\"boolean\"},\"resourceid\":{\"type\":\"string\"},\"deviceid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"interface\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogInsertResourceResult",
                        "name": "LogInsertResourceResult",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[InsertResource].Output.records"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$iteration[key]+\", \"+$iteration[value]"
                            }
                        }
                    },
                    {
                        "id": "InsertInstrument",
                        "name": "InsertInstrument",
                        "description": "This activity executes insert on a PostgreSQL database",
                        "activity": {
                            "ref": "#insert",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "insert into instrument(attrname,deviceid,resourceid,attrtype,readwrite,minimum,maximum,defaultvalue,scale,unittype,unitreadwrite,unitdefaultvalue) values(?attrname,?deviceid,?resourceid,?attrtype,?readwrite,?minimum,?maximum,?defaultvalue,?scale,?unittype,?unitreadwrite,?unitdefaultvalue);",
                                "Fields": "[{\"FieldName\":\"scale\",\"Type\":\"INT8\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"minimum\",\"Type\":\"FLOAT4\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"maximum\",\"Type\":\"FLOAT4\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"deviceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"unitreadwrite\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"attrtype\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"unittype\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"readwrite\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"unitdefaultvalue\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"defaultvalue\",\"Type\":\"FLOAT4\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"attrname\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"resourceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true}]",
                                "State": "101dad04-b277-409b-8041-ed674393c9d7insert into instrument(attrname,deviceid,resourceid,attrtype,readwrite,minimum,maximum,defaultvalue,scale,unittype,unitreadwrite,unitdefaultvalue) values(?attrname,?deviceid,?resourceid,?attrtype,?readwrite,?minimum,?maximum,?defaultvalue,?scale,?unittype,?unitreadwrite,?unitdefaultvalue);",
                                "input": {
                                    "mapping": {
                                        "values": {
                                            "@foreach($activity[\"InstrumentMapper\"].output.instrument,values)": {
                                                "scale": "=$loop.scale",
                                                "minimum": "=$loop.minimum",
                                                "maximum": "=$loop.maximum",
                                                "deviceid": "=$loop.deviceid",
                                                "unitreadwrite": "=$loop.unitreadwrite",
                                                "attrtype": "=$loop.attrtype",
                                                "unittype": "=$loop.unittype",
                                                "readwrite": "=$loop.readwrite",
                                                "unitdefaultvalue": "=$loop.unitdefaultvalue",
                                                "defaultvalue": "=$loop.defaultvalue",
                                                "attrname": "=$loop.attrname",
                                                "resourceid": "=$loop.resourceid"
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"scale\":{\"type\":\"integer\"},\"minimum\":{\"type\":\"number\"},\"maximum\":{\"type\":\"number\"},\"deviceid\":{\"type\":\"string\"},\"unitreadwrite\":{\"type\":\"string\"},\"attrtype\":{\"type\":\"string\"},\"unittype\":{\"type\":\"string\"},\"readwrite\":{\"type\":\"string\"},\"unitdefaultvalue\":{\"type\":\"string\"},\"defaultvalue\":{\"type\":\"number\"},\"attrname\":{\"type\":\"string\"},\"resourceid\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"scale\":{\"type\":\"integer\"},\"minimum\":{\"type\":\"number\"},\"maximum\":{\"type\":\"number\"},\"deviceid\":{\"type\":\"string\"},\"unitreadwrite\":{\"type\":\"string\"},\"attrtype\":{\"type\":\"string\"},\"unittype\":{\"type\":\"string\"},\"readwrite\":{\"type\":\"string\"},\"unitdefaultvalue\":{\"type\":\"string\"},\"defaultvalue\":{\"type\":\"number\"},\"attrname\":{\"type\":\"string\"},\"resourceid\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogInsertInstrumentResult",
                        "name": "LogInsertInstrumentResult",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[InsertInstrument].Output.records"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$iteration[key]+\", \"+$iteration[value]"
                            }
                        }
                    },
                    {
                        "id": "ReturnSuccess",
                        "name": "ReturnSuccess",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "code": 200,
                                    "responseBody": {
                                        "mapping": {
                                            "body": "success"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogInsertProfileResult1",
                        "name": "LogInsertProfileResult1",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$error[InsertProfile].message"
                            }
                        }
                    },
                    {
                        "id": "InsertResource1",
                        "name": "InsertResource1",
                        "description": "This activity executes insert on a PostgreSQL database",
                        "activity": {
                            "ref": "#insert",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "insert into resource(resourceid,deviceid,name,description,interface,pinnum,pintype,normalize) values(?resourceid,?deviceid,?name,?description,?interface,?pinnum,?pintype,false);",
                                "Fields": "[{\"FieldName\":\"interface\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"pinnum\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"pintype\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"normalize\",\"Type\":\"BOOLEAN\",\"Selected\":false,\"Parameter\":false,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"resourceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"deviceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"name\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"description\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true}]",
                                "State": "7841e41f-cf95-48a7-8a0c-1e18ccf69098insert into resource(resourceid,deviceid,name,description,interface,pinnum,pintype,normalize) values(?resourceid,?deviceid,?name,?description,?interface,?pinnum,?pintype,false);",
                                "input": {
                                    "mapping": {
                                        "values": {
                                            "@foreach($activity[\"ResourceMapper\"].output.resource,values)": {
                                                "interface": "=$loop.interface",
                                                "pintype": "=$loop.pintype",
                                                "normalize": "=$loop.normalize",
                                                "pinnum": "=$loop.pinnum",
                                                "resourceid": "=$loop.resourceid",
                                                "deviceid": "=$loop.deviceid",
                                                "name": "=$loop.name",
                                                "description": "=$loop.description"
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"interface\":{\"type\":\"string\"},\"pinnum\":{\"type\":\"string\"},\"pintype\":{\"type\":\"string\"},\"normalize\":{\"type\":\"boolean\"},\"resourceid\":{\"type\":\"string\"},\"deviceid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"interface\":{\"type\":\"string\"},\"pinnum\":{\"type\":\"string\"},\"pintype\":{\"type\":\"string\"},\"normalize\":{\"type\":\"boolean\"},\"resourceid\":{\"type\":\"string\"},\"deviceid\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogInsertResourceResult1",
                        "name": "LogInsertResourceResult1",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[InsertResource1].Output.records"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$iteration[key]+$iteration[value]"
                            }
                        }
                    },
                    {
                        "id": "InsertInstrument1",
                        "name": "InsertInstrument1",
                        "description": "This activity executes insert on a PostgreSQL database",
                        "activity": {
                            "ref": "#insert",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "insert into instrument(attrname,deviceid,resourceid,attrtype,readwrite,minimum,maximum,defaultvalue,scale,unittype,unitreadwrite,unitdefaultvalue) values(?attrname,?deviceid,?resourceid,?attrtype,?readwrite,?minimum,?maximum,?defaultvalue,?scale,?unittype,?unitreadwrite,?unitdefaultvalue);",
                                "Fields": "[{\"FieldName\":\"defaultvalue\",\"Type\":\"FLOAT4\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"unitdefaultvalue\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"unittype\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"deviceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"resourceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"maximum\",\"Type\":\"FLOAT4\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"attrtype\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"readwrite\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"attrname\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"minimum\",\"Type\":\"FLOAT4\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"scale\",\"Type\":\"INT8\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true},{\"FieldName\":\"unitreadwrite\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false,\"Value\":true}]",
                                "State": "0e7b1974-23d5-4dc1-8acb-63d71176940cinsert into instrument(attrname,deviceid,resourceid,attrtype,readwrite,minimum,maximum,defaultvalue,scale,unittype,unitreadwrite,unitdefaultvalue) values(?attrname,?deviceid,?resourceid,?attrtype,?readwrite,?minimum,?maximum,?defaultvalue,?scale,?unittype,?unitreadwrite,?unitdefaultvalue);",
                                "input": {
                                    "mapping": {
                                        "values": {
                                            "@foreach($activity[\"InstrumentMapper\"].output.instrument,values)": {
                                                "defaultvalue": "=$loop.defaultvalue",
                                                "unitdefaultvalue": "=$loop.unitdefaultvalue",
                                                "unittype": "=$loop.unittype",
                                                "deviceid": "=$loop.deviceid",
                                                "resourceid": "=$loop.resourceid",
                                                "maximum": "=$loop.maximum",
                                                "attrtype": "=$loop.attrtype",
                                                "readwrite": "=$loop.readwrite",
                                                "attrname": "=$loop.attrname",
                                                "minimum": "=$loop.minimum",
                                                "scale": "=$loop.scale",
                                                "unitreadwrite": "=$loop.unitreadwrite"
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"defaultvalue\":{\"type\":\"number\"},\"unitdefaultvalue\":{\"type\":\"string\"},\"unittype\":{\"type\":\"string\"},\"deviceid\":{\"type\":\"string\"},\"resourceid\":{\"type\":\"string\"},\"maximum\":{\"type\":\"number\"},\"attrtype\":{\"type\":\"string\"},\"readwrite\":{\"type\":\"string\"},\"attrname\":{\"type\":\"string\"},\"minimum\":{\"type\":\"number\"},\"scale\":{\"type\":\"integer\"},\"unitreadwrite\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"defaultvalue\":{\"type\":\"number\"},\"unitdefaultvalue\":{\"type\":\"string\"},\"unittype\":{\"type\":\"string\"},\"deviceid\":{\"type\":\"string\"},\"resourceid\":{\"type\":\"string\"},\"maximum\":{\"type\":\"number\"},\"attrtype\":{\"type\":\"string\"},\"readwrite\":{\"type\":\"string\"},\"attrname\":{\"type\":\"string\"},\"minimum\":{\"type\":\"number\"},\"scale\":{\"type\":\"integer\"},\"unitreadwrite\":{\"type\":\"string\"}}}},\"parameters\":{\"type\":\"object\",\"properties\":{}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogInsertInstrumentResult1",
                        "name": "LogInsertInstrumentResult1",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[InsertInstrument1].Output.records"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$iteration[key]+$iteration[value]"
                            }
                        }
                    },
                    {
                        "id": "ReturnSuccess1",
                        "name": "ReturnSuccess1",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "code": 200,
                                    "responseBody": {
                                        "mapping": {
                                            "body": "success"
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "errorHandler": {
                    "tasks": [
                        {
                            "id": "LogError",
                            "name": "LogError",
                            "description": "Simple Log Message Activity",
                            "activity": {
                                "ref": "#log",
                                "input": {
                                    "Log Level": "INFO",
                                    "flowInfo": false,
                                    "message": "=$error.message"
                                }
                            }
                        },
                        {
                            "id": "Return1",
                            "name": "Return1",
                            "description": "Simple Return Activity",
                            "activity": {
                                "ref": "#actreturn",
                                "settings": {
                                    "mappings": {
                                        "code": 500,
                                        "message": "=$error.message"
                                    }
                                }
                            }
                        }
                    ],
                    "links": [
                        {
                            "id": 26,
                            "from": "LogError",
                            "to": "Return1",
                            "type": "default"
                        }
                    ]
                },
                "metadata": {
                    "input": [
                        {
                            "name": "pathParams",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"deviceid\":{\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "body",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"description\":{\"type\":\"string\",\"default\":\"\"},\"id\":{\"type\":\"string\",\"default\":\"c2f70154-f087-4256-8b56-d5dd0b4fda25\"},\"name\":{\"type\":\"string\",\"default\":\"mesh-argon-10\"},\"adminState\":{\"type\":\"string\",\"default\":\"UNLOCKED\"},\"operatingState\":{\"type\":\"string\",\"default\":\"ENABLED\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"default\":\"mqtt\"}},\"profile\":{\"type\":\"object\",\"properties\":{\"created\":{\"type\":\"integer\",\"default\":1568211489149},\"modified\":{\"type\":\"integer\",\"default\":1568211489149},\"description\":{\"type\":\"string\",\"default\":\"Particle device profile\"},\"id\":{\"type\":\"string\",\"default\":\"3c6043c0-a8fa-4195-89d4-8072693aa189\"},\"name\":{\"type\":\"string\",\"default\":\"Particle-Device\"},\"manufacturer\":{\"type\":\"string\",\"default\":\"Particle\"},\"model\":{\"type\":\"string\",\"default\":\"Mesh\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"default\":\"mqtt\"}},\"deviceResources\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\",\"default\":\"Turn the LED to On/Off\"},\"name\":{\"type\":\"string\",\"default\":\"Led\"},\"properties\":{\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"default\":\"BOOL\"},\"readWrite\":{\"type\":\"string\",\"default\":\"RW\"},\"minimum\":{\"type\":\"string\",\"default\":\"0\"},\"maximum\":{\"type\":\"string\",\"default\":\"1\"},\"defaultValue\":{\"type\":\"string\",\"default\":\"0\"},\"size\":{\"type\":\"string\",\"default\":\"1\"}}},\"units\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"default\":\"String\"},\"readWrite\":{\"type\":\"string\",\"default\":\"R\"},\"defaultValue\":{\"type\":\"string\",\"default\":\"OFF\"}}}}},\"attributes\":{\"type\":\"object\",\"properties\":{\"Interface\":{\"type\":\"string\",\"default\":\"GPIO\"},\"Pin_Num\":{\"type\":\"string\",\"default\":\"D2\"},\"Type\":{\"type\":\"string\",\"default\":\"OUT\"}}}}}}}}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "code",
                            "type": "integer"
                        },
                        {
                            "name": "responseBody",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}"
                            }
                        },
                        {
                            "name": "message",
                            "type": "string"
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"ReceiveHTTPMessage\",\"properties\":{\"pathParams\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}},\"required\":[\"deviceid\"]},\"body\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\",\"default\":\"\"},\"id\":{\"type\":\"string\",\"default\":\"c2f70154-f087-4256-8b56-d5dd0b4fda25\"},\"name\":{\"type\":\"string\",\"default\":\"mesh-argon-10\"},\"adminState\":{\"type\":\"string\",\"default\":\"UNLOCKED\"},\"operatingState\":{\"type\":\"string\",\"default\":\"ENABLED\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"default\":\"mqtt\"}},\"profile\":{\"type\":\"object\",\"properties\":{\"created\":{\"type\":\"integer\",\"default\":1568211489149},\"modified\":{\"type\":\"integer\",\"default\":1568211489149},\"description\":{\"type\":\"string\",\"default\":\"Particle device profile\"},\"id\":{\"type\":\"string\",\"default\":\"3c6043c0-a8fa-4195-89d4-8072693aa189\"},\"name\":{\"type\":\"string\",\"default\":\"Particle-Device\"},\"manufacturer\":{\"type\":\"string\",\"default\":\"Particle\"},\"model\":{\"type\":\"string\",\"default\":\"Mesh\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"default\":\"mqtt\"}},\"deviceResources\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\",\"default\":\"Turn the LED to On/Off\"},\"name\":{\"type\":\"string\",\"default\":\"Led\"},\"properties\":{\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"default\":\"BOOL\"},\"readWrite\":{\"type\":\"string\",\"default\":\"RW\"},\"minimum\":{\"type\":\"string\",\"default\":\"0\"},\"maximum\":{\"type\":\"string\",\"default\":\"1\"},\"defaultValue\":{\"type\":\"string\",\"default\":\"0\"},\"size\":{\"type\":\"string\",\"default\":\"1\"}}},\"units\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"default\":\"String\"},\"readWrite\":{\"type\":\"string\",\"default\":\"R\"},\"defaultValue\":{\"type\":\"string\",\"default\":\"OFF\"}}}}},\"attributes\":{\"type\":\"object\",\"properties\":{\"Interface\":{\"type\":\"string\",\"default\":\"GPIO\"},\"Pin_Num\":{\"type\":\"string\",\"default\":\"D2\"},\"Type\":{\"type\":\"string\",\"default\":\"OUT\"}}}}}}}}}}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"code\":{\"type\":\"integer\",\"required\":false},\"responseBody\":{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}},\"message\":{\"type\":\"string\",\"required\":false}},\"required\":[]}"
                    }
                },
                "explicitReply": true
            }
        },
        {
            "id": "flow:putIotmetadataservice_deviceid_PUT",
            "data": {
                "name": "putIotmetadataservice_deviceid_PUT",
                "description": "",
                "links": [],
                "tasks": [
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn"
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "pathParams",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"deviceid\":{\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "body",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"description\":{\"type\":\"string\",\"default\":\"\"},\"id\":{\"type\":\"string\",\"default\":\"c2f70154-f087-4256-8b56-d5dd0b4fda25\"},\"name\":{\"type\":\"string\",\"default\":\"mesh-argon-10\"},\"adminState\":{\"type\":\"string\",\"default\":\"UNLOCKED\"},\"operatingState\":{\"type\":\"string\",\"default\":\"ENABLED\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"default\":\"mqtt\"}},\"profile\":{\"type\":\"object\",\"properties\":{\"created\":{\"type\":\"integer\",\"default\":1568211489149},\"modified\":{\"type\":\"integer\",\"default\":1568211489149},\"description\":{\"type\":\"string\",\"default\":\"Particle device profile\"},\"id\":{\"type\":\"string\",\"default\":\"3c6043c0-a8fa-4195-89d4-8072693aa189\"},\"name\":{\"type\":\"string\",\"default\":\"Particle-Device\"},\"manufacturer\":{\"type\":\"string\",\"default\":\"Particle\"},\"model\":{\"type\":\"string\",\"default\":\"Mesh\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"default\":\"mqtt\"}},\"deviceResources\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\",\"default\":\"Turn the LED to On/Off\"},\"name\":{\"type\":\"string\",\"default\":\"Led\"},\"properties\":{\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"default\":\"BOOL\"},\"readWrite\":{\"type\":\"string\",\"default\":\"RW\"},\"minimum\":{\"type\":\"string\",\"default\":\"0\"},\"maximum\":{\"type\":\"string\",\"default\":\"1\"},\"defaultValue\":{\"type\":\"string\",\"default\":\"0\"},\"size\":{\"type\":\"string\",\"default\":\"1\"}}},\"units\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"default\":\"String\"},\"readWrite\":{\"type\":\"string\",\"default\":\"R\"},\"defaultValue\":{\"type\":\"string\",\"default\":\"OFF\"}}}}},\"attributes\":{\"type\":\"object\",\"properties\":{\"Interface\":{\"type\":\"string\",\"default\":\"GPIO\"},\"Pin_Num\":{\"type\":\"string\",\"default\":\"D2\"},\"Type\":{\"type\":\"string\",\"default\":\"OUT\"}}}}}}}}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "code",
                            "type": "integer"
                        },
                        {
                            "name": "responseBody",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}"
                            }
                        },
                        {
                            "name": "message",
                            "type": "string"
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"ReceiveHTTPMessage\",\"properties\":{\"pathParams\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}},\"required\":[\"deviceid\"]},\"body\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\",\"default\":\"\"},\"id\":{\"type\":\"string\",\"default\":\"c2f70154-f087-4256-8b56-d5dd0b4fda25\"},\"name\":{\"type\":\"string\",\"default\":\"mesh-argon-10\"},\"adminState\":{\"type\":\"string\",\"default\":\"UNLOCKED\"},\"operatingState\":{\"type\":\"string\",\"default\":\"ENABLED\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"default\":\"mqtt\"}},\"profile\":{\"type\":\"object\",\"properties\":{\"created\":{\"type\":\"integer\",\"default\":1568211489149},\"modified\":{\"type\":\"integer\",\"default\":1568211489149},\"description\":{\"type\":\"string\",\"default\":\"Particle device profile\"},\"id\":{\"type\":\"string\",\"default\":\"3c6043c0-a8fa-4195-89d4-8072693aa189\"},\"name\":{\"type\":\"string\",\"default\":\"Particle-Device\"},\"manufacturer\":{\"type\":\"string\",\"default\":\"Particle\"},\"model\":{\"type\":\"string\",\"default\":\"Mesh\"},\"labels\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"default\":\"mqtt\"}},\"deviceResources\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\",\"default\":\"Turn the LED to On/Off\"},\"name\":{\"type\":\"string\",\"default\":\"Led\"},\"properties\":{\"type\":\"object\",\"properties\":{\"value\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"default\":\"BOOL\"},\"readWrite\":{\"type\":\"string\",\"default\":\"RW\"},\"minimum\":{\"type\":\"string\",\"default\":\"0\"},\"maximum\":{\"type\":\"string\",\"default\":\"1\"},\"defaultValue\":{\"type\":\"string\",\"default\":\"0\"},\"size\":{\"type\":\"string\",\"default\":\"1\"}}},\"units\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"default\":\"String\"},\"readWrite\":{\"type\":\"string\",\"default\":\"R\"},\"defaultValue\":{\"type\":\"string\",\"default\":\"OFF\"}}}}},\"attributes\":{\"type\":\"object\",\"properties\":{\"Interface\":{\"type\":\"string\",\"default\":\"GPIO\"},\"Pin_Num\":{\"type\":\"string\",\"default\":\"D2\"},\"Type\":{\"type\":\"string\",\"default\":\"OUT\"}}}}}}}}}}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"code\":{\"type\":\"integer\",\"required\":false},\"responseBody\":{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}},\"message\":{\"type\":\"string\",\"required\":false}},\"required\":[]}"
                    }
                },
                "explicitReply": true
            }
        },
        {
            "id": "flow:deleteIotmetadataservice_deviceid_DELETE",
            "data": {
                "name": "deleteIotmetadataservice_deviceid_DELETE",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "LogDeviceid",
                        "to": "DeleteDevice",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "DeleteDevice",
                        "to": "DeleteResource",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "DeleteResource",
                        "to": "DeleteInstrument",
                        "type": "default"
                    },
                    {
                        "id": 4,
                        "from": "DeleteInstrument",
                        "to": "LogDeleteInstrumentResult",
                        "type": "default"
                    },
                    {
                        "id": 5,
                        "from": "LogDeleteInstrumentResult",
                        "to": "LogDeleteResourceResult",
                        "type": "default"
                    },
                    {
                        "id": 6,
                        "from": "LogDeleteResourceResult",
                        "to": "LogDeleteDeviceResult",
                        "type": "default"
                    },
                    {
                        "id": 7,
                        "from": "LogDeleteDeviceResult",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogDeviceid",
                        "name": "LogDeviceid",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=\"Delete Metadata : \"+$flow.pathParams.deviceid"
                            }
                        }
                    },
                    {
                        "id": "DeleteDevice",
                        "name": "DeleteDevice",
                        "description": "This activity executes delete on a PostgreSQL database",
                        "activity": {
                            "ref": "#delete",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "delete from device where deviceid=?deviceid;",
                                "Fields": "[{\"FieldName\":\"deviceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false}]",
                                "State": "08cd360f-3e99-4a50-ae09-f9232cc8594fdelete from device where deviceid=?deviceid;",
                                "input": {
                                    "mapping": {
                                        "parameters": {
                                            "deviceid": "=$flow.pathParams.deviceid"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "DeleteResource",
                        "name": "DeleteResource",
                        "description": "This activity executes delete on a PostgreSQL database",
                        "activity": {
                            "ref": "#delete",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "delete from resource where deviceid=?deviceid;",
                                "Fields": "[{\"FieldName\":\"deviceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false}]",
                                "State": "e98a59c8-82d0-4779-905d-2289bab3f5d2delete from resource where deviceid=?deviceid;",
                                "input": {
                                    "mapping": {
                                        "parameters": {
                                            "deviceid": "=$flow.pathParams.deviceid"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "DeleteInstrument",
                        "name": "DeleteInstrument",
                        "description": "This activity executes delete on a PostgreSQL database",
                        "activity": {
                            "ref": "#delete",
                            "input": {
                                "Connection": {
                                    "type": "flogo:connector",
                                    "version": "2.1.0",
                                    "name": "postgresql-connector",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "PostgreSQL Connector",
                                    "description": "Connector to connect to a PostgreSQL database server",
                                    "ref": "git.tibco.com/git/product/ipaas/wi-postgres.git/src/app/PostgreSQL/connector/connection",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Connection Name",
                                                "visible": true
                                            },
                                            "value": "tibcolabs_air_v164"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "visible": true
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "host",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Host",
                                                "description": "PostgreSQL Database Host name",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Host\"]"
                                        },
                                        {
                                            "name": "port",
                                            "type": "integer",
                                            "required": true,
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Port\"]",
                                            "display": {
                                                "name": "Port",
                                                "description": "PostgreSQL Database Port",
                                                "type": "integer",
                                                "visible": true,
                                                "appPropertySupport": true
                                            }
                                        },
                                        {
                                            "name": "databaseName",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Database Name",
                                                "description": "Name of the Database",
                                                "type": "string",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Database_Name\"]"
                                        },
                                        {
                                            "name": "user",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "User",
                                                "description": "Name of the Database User",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.User\"]"
                                        },
                                        {
                                            "name": "password",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Password",
                                                "description": "PostgreSQL Database Port",
                                                "type": "password",
                                                "visible": true,
                                                "appPropertySupport": true
                                            },
                                            "value": "=$property[\"PostgreSQL.tibcolabs_air_v164.Password\"]"
                                        },
                                        {
                                            "name": "onprem",
                                            "type": "boolean",
                                            "required": true,
                                            "value": false,
                                            "display": {
                                                "name": "On Premise DBService",
                                                "description": "Flag to indicate that the dbsevice is accessed via a tibtunnel",
                                                "visible": true,
                                                "readonly": false,
                                                "valid": true
                                            }
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "Tibco",
                                    "key": "Tibco/PostgreSQL/connector/connection/connector.json",
                                    "display": {
                                        "description": "Connector to connect to a PostgreSQL database server",
                                        "category": "PostgreSQL",
                                        "visible": true,
                                        "smallIcon": "icons/ic-postgres-connection@2x.png",
                                        "largeIcon": "icons/ic-postgres-connection@3x.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "Connect"
                                        }
                                    ],
                                    "feature": {},
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "isValid": true,
                                    "lastUpdatedTime": 1569404012833,
                                    "createdTime": 1569404012833,
                                    "user": "eihkymzngv24drdfeyg3otoucgynht2q",
                                    "subscriptionId": "TIB_SUB_01BB7F22MGX01K6MQK0TD02DYV",
                                    "id": "8a71d910-df77-11e9-88b9-15625b17a0d3",
                                    "connectorName": "tibcolabs_air_v164",
                                    "connectorDescription": " "
                                },
                                "QueryName": "",
                                "Query": "delete from instrument where deviceid=?deviceid;",
                                "Fields": "[{\"FieldName\":\"deviceid\",\"Type\":\"VARCHAR\",\"Selected\":false,\"Parameter\":true,\"isEditable\":false}]",
                                "State": "fffedcaa-ad26-485f-9b76-605185e067fadelete from instrument where deviceid=?deviceid;",
                                "input": {
                                    "mapping": {
                                        "parameters": {
                                            "deviceid": "=$flow.pathParams.deviceid"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"parameters\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}}}}}"
                                    }
                                },
                                "output": {
                                    "Output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"definitions\":{},\"properties\":{\"records\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogDeleteInstrumentResult",
                        "name": "LogDeleteInstrumentResult",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[DeleteInstrument].Output.records"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$iteration[key]+$iteration[value]"
                            }
                        }
                    },
                    {
                        "id": "LogDeleteResourceResult",
                        "name": "LogDeleteResourceResult",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[DeleteResource].Output.records"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$iteration[key]+$iteration[value]"
                            }
                        }
                    },
                    {
                        "id": "LogDeleteDeviceResult",
                        "name": "LogDeleteDeviceResult",
                        "description": "Simple Log Message Activity",
                        "settings": {
                            "iterate": "=$activity[DeleteDevice].Output.records"
                        },
                        "type": "iterator",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=$iteration[key]+$iteration[value]"
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "code": 200,
                                    "responseBody": {
                                        "mapping": {
                                            "body": "success"
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "errorHandler": {
                    "tasks": [
                        {
                            "id": "LogMessage",
                            "name": "LogMessage",
                            "description": "Simple Log Message Activity",
                            "activity": {
                                "ref": "#log",
                                "input": {
                                    "Log Level": "INFO",
                                    "flowInfo": false,
                                    "message": "=$error.message"
                                }
                            }
                        },
                        {
                            "id": "Return1",
                            "name": "Return1",
                            "description": "Simple Return Activity",
                            "activity": {
                                "ref": "#actreturn",
                                "settings": {
                                    "mappings": {
                                        "code": 404,
                                        "responseBody": {
                                            "mapping": {
                                                "body": "=$error.message"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    ],
                    "links": [
                        {
                            "id": 8,
                            "from": "LogMessage",
                            "to": "Return1",
                            "type": "default"
                        }
                    ]
                },
                "metadata": {
                    "input": [
                        {
                            "name": "pathParams",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"deviceid\":{\"type\":\"string\"}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "code",
                            "type": "integer"
                        },
                        {
                            "name": "responseBody",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}"
                            }
                        },
                        {
                            "name": "message",
                            "type": "string"
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"ReceiveHTTPMessage\",\"properties\":{\"pathParams\":{\"type\":\"object\",\"properties\":{\"deviceid\":{\"type\":\"string\"}},\"required\":[\"deviceid\"]}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"code\":{\"type\":\"integer\",\"required\":false},\"responseBody\":{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}},\"message\":{\"type\":\"string\",\"required\":false}},\"required\":[]}"
                    }
                },
                "explicitReply": true
            }
        }
    ],
    "properties": [
        {
            "name": "PostgreSQL.tibcolabs_air_v164.Host",
            "type": "string",
            "value": "3.218.102.175"
        },
        {
            "name": "PostgreSQL.tibcolabs_air_v164.Port",
            "type": "float64",
            "value": 5432
        },
        {
            "name": "PostgreSQL.tibcolabs_air_v164.Database_Name",
            "type": "string",
            "value": "tibcolabs_air_v164"
        },
        {
            "name": "PostgreSQL.tibcolabs_air_v164.User",
            "type": "string",
            "value": "other_user"
        },
        {
            "name": "PostgreSQL.tibcolabs_air_v164.Password",
            "type": "string",
            "value": "SECRET:H0N6IgfNNj6/9TEiLNaCR0ZMcMnpjz2lS5VpusCTO+JKWwI="
        }
    ],
    "contrib": "W3sicmVmIjoiZ2l0LnRpYmNvLmNvbS9naXQvcHJvZHVjdC9pcGFhcy93aS1jb250cmliLmdpdC9jb250cmlidXRpb25zL0dlbmVyYWwiLCJzM2xvY2F0aW9uIjoiVGliY28vR2VuZXJhbCJ9LHsicmVmIjoiZ2l0LnRpYmNvLmNvbS9naXQvcHJvZHVjdC9pcGFhcy93aS1wb3N0Z3Jlcy5naXQvc3JjL2FwcC9Qb3N0Z3JlU1FMIiwiczNsb2NhdGlvbiI6IlRpYmNvL1Bvc3RncmVTUUwifV0=",
    "fe_metadata": "UEsDBAoAAAAIABccVk+rqSRGFQAAABMAAAAIAAAAYXBwLmpzb26rViopykxPTy1yy8kvL1ayio6tBQBQSwECFAAKAAAACAAXHFZPq6kkRhUAAAATAAAACAAAAAAAAAAAAAAAAAAAAAAAYXBwLmpzb25QSwUGAAAAAAEAAQA2AAAAOwAAAAAA"
}